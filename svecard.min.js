!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.SVECard=e():t.SVECard=e()}(this,(()=>(()=>{var t={195:function(t,e,n){t=n.nmd(t),function(e){"use strict";function r(t,e){e|=0;for(var n=Math.max(t.length-e,0),r=Array(n),i=0;i<n;i++)r[i]=t[e+i];return r}var i=function(t){var e=r(arguments,1);return function(){var n=r(arguments);return t.apply(null,e.concat(n))}},o=function(t){return function(){var e=r(arguments),n=e.pop();t.call(this,e,n)}};function a(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}var s="function"==typeof setImmediate&&setImmediate,u="object"==typeof process&&"function"==typeof process.nextTick;function c(t){setTimeout(t,0)}function f(t){return function(e){var n=r(arguments,1);t((function(){e.apply(null,n)}))}}var l=f(s?setImmediate:u?process.nextTick:c);function h(t){return o((function(e,n){var r;try{r=t.apply(this,e)}catch(t){return n(t)}a(r)&&"function"==typeof r.then?r.then((function(t){p(n,null,t)}),(function(t){p(n,t.message?t:new Error(t))})):n(null,r)}))}function p(t,e,n){try{t(e,n)}catch(t){l(g,t)}}function g(t){throw t}var d="function"==typeof Symbol;function v(t){return d&&"AsyncFunction"===t[Symbol.toStringTag]}function y(t){return v(t)?h(t):t}function m(t){return function(e){var n=r(arguments,1),i=o((function(n,r){var i=this;return t(e,(function(t,e){y(t).apply(i,n.concat(e))}),r)}));return n.length?i.apply(this,n):i}}var _="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,w="object"==typeof self&&self&&self.Object===Object&&self,b=_||w||Function("return this")(),x=b.Symbol,k=Object.prototype,S=k.hasOwnProperty,C=k.toString,j=x?x.toStringTag:void 0;function T(t){var e=S.call(t,j),n=t[j];try{t[j]=void 0;var r=!0}catch(t){}var i=C.call(t);return r&&(e?t[j]=n:delete t[j]),i}var A=Object.prototype.toString;function P(t){return A.call(t)}var O="[object Null]",L="[object Undefined]",F=x?x.toStringTag:void 0;function z(t){return null==t?void 0===t?L:O:F&&F in Object(t)?T(t):P(t)}var E="[object AsyncFunction]",U="[object Function]",R="[object GeneratorFunction]",I="[object Proxy]";function D(t){if(!a(t))return!1;var e=z(t);return e==U||e==R||e==E||e==I}var M=9007199254740991;function B(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=M}function N(t){return null!=t&&B(t.length)&&!D(t)}var H={};function G(){}function W(t){return function(){if(null!==t){var e=t;t=null,e.apply(this,arguments)}}}var $="function"==typeof Symbol&&Symbol.iterator,J=function(t){return $&&t[$]&&t[$]()};function q(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function K(t){return null!=t&&"object"==typeof t}var X="[object Arguments]";function V(t){return K(t)&&z(t)==X}var Z=Object.prototype,Y=Z.hasOwnProperty,Q=Z.propertyIsEnumerable,tt=V(function(){return arguments}())?V:function(t){return K(t)&&Y.call(t,"callee")&&!Q.call(t,"callee")},et=Array.isArray;function nt(){return!1}var rt="object"==typeof e&&e&&!e.nodeType&&e,it=rt&&t&&!t.nodeType&&t,ot=it&&it.exports===rt?b.Buffer:void 0,at=(ot?ot.isBuffer:void 0)||nt,st=9007199254740991,ut=/^(?:0|[1-9]\d*)$/;function ct(t,e){var n=typeof t;return!!(e=null==e?st:e)&&("number"==n||"symbol"!=n&&ut.test(t))&&t>-1&&t%1==0&&t<e}var ft="[object Arguments]",lt="[object Array]",ht="[object Boolean]",pt="[object Date]",gt="[object Error]",dt="[object Function]",vt="[object Map]",yt="[object Number]",mt="[object Object]",_t="[object RegExp]",wt="[object Set]",bt="[object String]",xt="[object WeakMap]",kt="[object ArrayBuffer]",St="[object DataView]",Ct="[object Float64Array]",jt="[object Int8Array]",Tt="[object Int16Array]",At="[object Int32Array]",Pt="[object Uint8Array]",Ot="[object Uint8ClampedArray]",Lt="[object Uint16Array]",Ft="[object Uint32Array]",zt={};function Et(t){return K(t)&&B(t.length)&&!!zt[z(t)]}function Ut(t){return function(e){return t(e)}}zt["[object Float32Array]"]=zt[Ct]=zt[jt]=zt[Tt]=zt[At]=zt[Pt]=zt[Ot]=zt[Lt]=zt[Ft]=!0,zt[ft]=zt[lt]=zt[kt]=zt[ht]=zt[St]=zt[pt]=zt[gt]=zt[dt]=zt[vt]=zt[yt]=zt[mt]=zt[_t]=zt[wt]=zt[bt]=zt[xt]=!1;var Rt="object"==typeof e&&e&&!e.nodeType&&e,It=Rt&&t&&!t.nodeType&&t,Dt=It&&It.exports===Rt&&_.process,Mt=function(){try{var t=It&&It.require&&It.require("util").types;return t||Dt&&Dt.binding&&Dt.binding("util")}catch(t){}}(),Bt=Mt&&Mt.isTypedArray,Nt=Bt?Ut(Bt):Et,Ht=Object.prototype.hasOwnProperty;function Gt(t,e){var n=et(t),r=!n&&tt(t),i=!n&&!r&&at(t),o=!n&&!r&&!i&&Nt(t),a=n||r||i||o,s=a?q(t.length,String):[],u=s.length;for(var c in t)!e&&!Ht.call(t,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ct(c,u))||s.push(c);return s}var Wt=Object.prototype;function $t(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Wt)}function Jt(t,e){return function(n){return t(e(n))}}var qt=Jt(Object.keys,Object),Kt=Object.prototype.hasOwnProperty;function Xt(t){if(!$t(t))return qt(t);var e=[];for(var n in Object(t))Kt.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Vt(t){return N(t)?Gt(t):Xt(t)}function Zt(t){var e=-1,n=t.length;return function(){return++e<n?{value:t[e],key:e}:null}}function Yt(t){var e=-1;return function(){var n=t.next();return n.done?null:(e++,{value:n.value,key:e})}}function Qt(t){var e=Vt(t),n=-1,r=e.length;return function i(){var o=e[++n];return"__proto__"===o?i():n<r?{value:t[o],key:o}:null}}function te(t){if(N(t))return Zt(t);var e=J(t);return e?Yt(e):Qt(t)}function ee(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}}function ne(t){return function(e,n,r){if(r=W(r||G),t<=0||!e)return r(null);var i=te(e),o=!1,a=0,s=!1;function u(t,e){if(a-=1,t)o=!0,r(t);else{if(e===H||o&&a<=0)return o=!0,r(null);s||c()}}function c(){for(s=!0;a<t&&!o;){var e=i();if(null===e)return o=!0,void(a<=0&&r(null));a+=1,n(e.value,e.key,ee(u))}s=!1}c()}}function re(t,e,n,r){ne(e)(t,y(n),r)}function ie(t,e){return function(n,r,i){return t(n,e,r,i)}}function oe(t,e,n){n=W(n||G);var r=0,i=0,o=t.length;function a(t,e){t?n(t):++i!==o&&e!==H||n(null)}for(0===o&&n(null);r<o;r++)e(t[r],r,ee(a))}var ae=ie(re,1/0),se=function(t,e,n){(N(t)?oe:ae)(t,y(e),n)};function ue(t){return function(e,n,r){return t(se,e,y(n),r)}}function ce(t,e,n,r){r=r||G,e=e||[];var i=[],o=0,a=y(n);t(e,(function(t,e,n){var r=o++;a(t,(function(t,e){i[r]=e,n(t)}))}),(function(t){r(t,i)}))}var fe=ue(ce),le=m(fe);function he(t){return function(e,n,r,i){return t(ne(n),e,y(r),i)}}var pe=he(ce),ge=ie(pe,1),de=m(ge);function ve(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function ye(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var u=a[t?s:++i];if(!1===n(o[u],u,o))break}return e}}var me=ye();function _e(t,e){return t&&me(t,e,Vt)}function we(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function be(t){return t!=t}function xe(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function ke(t,e,n){return e==e?xe(t,e,n):we(t,be,n)}var Se=function(t,e,n){"function"==typeof e&&(n=e,e=null),n=W(n||G);var i=Vt(t).length;if(!i)return n(null);e||(e=i);var o={},a=0,s=!1,u=Object.create(null),c=[],f=[],l={};function h(t,e){c.push((function(){v(t,e)}))}function p(){if(0===c.length&&0===a)return n(null,o);for(;c.length&&a<e;)c.shift()()}function g(t,e){var n=u[t];n||(n=u[t]=[]),n.push(e)}function d(t){ve(u[t]||[],(function(t){t()})),p()}function v(t,e){if(!s){var i=ee((function(e,i){if(a--,arguments.length>2&&(i=r(arguments,1)),e){var c={};_e(o,(function(t,e){c[e]=t})),c[t]=i,s=!0,u=Object.create(null),n(e,c)}else o[t]=i,d(t)}));a++;var c=y(e[e.length-1]);e.length>1?c(o,i):c(i)}}function m(){for(var t=0;f.length;)t++,ve(_(f.pop()),(function(t){0==--l[t]&&f.push(t)}));if(t!==i)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}function _(e){var n=[];return _e(t,(function(t,r){et(t)&&ke(t,e,0)>=0&&n.push(r)})),n}_e(t,(function(e,n){if(!et(e))return h(n,[e]),void f.push(n);var r=e.slice(0,e.length-1),i=r.length;if(0===i)return h(n,e),void f.push(n);l[n]=i,ve(r,(function(o){if(!t[o])throw new Error("async.auto task `"+n+"` has a non-existent dependency `"+o+"` in "+r.join(", "));g(o,(function(){0==--i&&h(n,e)}))}))})),m(),p()};function Ce(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var je="[object Symbol]";function Te(t){return"symbol"==typeof t||K(t)&&z(t)==je}var Ae=1/0,Pe=x?x.prototype:void 0,Oe=Pe?Pe.toString:void 0;function Le(t){if("string"==typeof t)return t;if(et(t))return Ce(t,Le)+"";if(Te(t))return Oe?Oe.call(t):"";var e=t+"";return"0"==e&&1/t==-Ae?"-0":e}function Fe(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(n=n>i?i:n)<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}function ze(t,e,n){var r=t.length;return n=void 0===n?r:n,!e&&n>=r?t:Fe(t,e,n)}function Ee(t,e){for(var n=t.length;n--&&ke(e,t[n],0)>-1;);return n}function Ue(t,e){for(var n=-1,r=t.length;++n<r&&ke(e,t[n],0)>-1;);return n}function Re(t){return t.split("")}var Ie=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");function De(t){return Ie.test(t)}var Me="\\ud800-\\udfff",Be="["+Me+"]",Ne="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",He="\\ud83c[\\udffb-\\udfff]",Ge="[^"+Me+"]",We="(?:\\ud83c[\\udde6-\\uddff]){2}",$e="[\\ud800-\\udbff][\\udc00-\\udfff]",Je="(?:"+Ne+"|"+He+")?",qe="[\\ufe0e\\ufe0f]?",Ke="(?:\\u200d(?:"+[Ge,We,$e].join("|")+")"+qe+Je+")*",Xe=qe+Je+Ke,Ve="(?:"+[Ge+Ne+"?",Ne,We,$e,Be].join("|")+")",Ze=RegExp(He+"(?="+He+")|"+Ve+Xe,"g");function Ye(t){return t.match(Ze)||[]}function Qe(t){return De(t)?Ye(t):Re(t)}function tn(t){return null==t?"":Le(t)}var en=/^\s+|\s+$/g;function nn(t,e,n){if((t=tn(t))&&(n||void 0===e))return t.replace(en,"");if(!t||!(e=Le(e)))return t;var r=Qe(t),i=Qe(e);return ze(r,Ue(r,i),Ee(r,i)+1).join("")}var rn=/^(?:async\s+)?(function)?\s*[^\(]*\(\s*([^\)]*)\)/m,on=/,/,an=/(=.+)?(\s*)$/,sn=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm;function un(t){return t=(t=(t=(t=t.toString().replace(sn,"")).match(rn)[2].replace(" ",""))?t.split(on):[]).map((function(t){return nn(t.replace(an,""))}))}function cn(t,e){var n={};_e(t,(function(t,e){var r,i=v(t),o=!i&&1===t.length||i&&0===t.length;if(et(t))r=t.slice(0,-1),t=t[t.length-1],n[e]=r.concat(r.length>0?a:t);else if(o)n[e]=t;else{if(r=un(t),0===t.length&&!i&&0===r.length)throw new Error("autoInject task functions require explicit parameters.");i||r.pop(),n[e]=r.concat(a)}function a(e,n){var i=Ce(r,(function(t){return e[t]}));i.push(n),y(t).apply(null,i)}})),Se(n,e)}function fn(){this.head=this.tail=null,this.length=0}function ln(t,e){t.length=1,t.head=t.tail=e}function hn(t,e,n){if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");var r=y(t),i=0,o=[],a=!1;function s(t,e,n){if(null!=n&&"function"!=typeof n)throw new Error("task callback must be a function");if(f.started=!0,et(t)||(t=[t]),0===t.length&&f.idle())return l((function(){f.drain()}));for(var r=0,i=t.length;r<i;r++){var o={data:t[r],callback:n||G};e?f._tasks.unshift(o):f._tasks.push(o)}a||(a=!0,l((function(){a=!1,f.process()})))}function u(t){return function(e){i-=1;for(var n=0,r=t.length;n<r;n++){var a=t[n],s=ke(o,a,0);0===s?o.shift():s>0&&o.splice(s,1),a.callback.apply(a,arguments),null!=e&&f.error(e,a.data)}i<=f.concurrency-f.buffer&&f.unsaturated(),f.idle()&&f.drain(),f.process()}}var c=!1,f={_tasks:new fn,concurrency:e,payload:n,saturated:G,unsaturated:G,buffer:e/4,empty:G,drain:G,error:G,started:!1,paused:!1,push:function(t,e){s(t,!1,e)},kill:function(){f.drain=G,f._tasks.empty()},unshift:function(t,e){s(t,!0,e)},remove:function(t){f._tasks.remove(t)},process:function(){if(!c){for(c=!0;!f.paused&&i<f.concurrency&&f._tasks.length;){var t=[],e=[],n=f._tasks.length;f.payload&&(n=Math.min(n,f.payload));for(var a=0;a<n;a++){var s=f._tasks.shift();t.push(s),o.push(s),e.push(s.data)}i+=1,0===f._tasks.length&&f.empty(),i===f.concurrency&&f.saturated();var l=ee(u(t));r(e,l)}c=!1}},length:function(){return f._tasks.length},running:function(){return i},workersList:function(){return o},idle:function(){return f._tasks.length+i===0},pause:function(){f.paused=!0},resume:function(){!1!==f.paused&&(f.paused=!1,l(f.process))}};return f}function pn(t,e){return hn(t,1,e)}fn.prototype.removeLink=function(t){return t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev,t.prev=t.next=null,this.length-=1,t},fn.prototype.empty=function(){for(;this.head;)this.shift();return this},fn.prototype.insertAfter=function(t,e){e.prev=t,e.next=t.next,t.next?t.next.prev=e:this.tail=e,t.next=e,this.length+=1},fn.prototype.insertBefore=function(t,e){e.prev=t.prev,e.next=t,t.prev?t.prev.next=e:this.head=e,t.prev=e,this.length+=1},fn.prototype.unshift=function(t){this.head?this.insertBefore(this.head,t):ln(this,t)},fn.prototype.push=function(t){this.tail?this.insertAfter(this.tail,t):ln(this,t)},fn.prototype.shift=function(){return this.head&&this.removeLink(this.head)},fn.prototype.pop=function(){return this.tail&&this.removeLink(this.tail)},fn.prototype.toArray=function(){for(var t=Array(this.length),e=this.head,n=0;n<this.length;n++)t[n]=e.data,e=e.next;return t},fn.prototype.remove=function(t){for(var e=this.head;e;){var n=e.next;t(e)&&this.removeLink(e),e=n}return this};var gn=ie(re,1);function dn(t,e,n,r){r=W(r||G);var i=y(n);gn(t,(function(t,n,r){i(e,t,(function(t,n){e=n,r(t)}))}),(function(t){r(t,e)}))}function vn(){var t=Ce(arguments,y);return function(){var e=r(arguments),n=this,i=e[e.length-1];"function"==typeof i?e.pop():i=G,dn(t,e,(function(t,e,i){e.apply(n,t.concat((function(t){var e=r(arguments,1);i(t,e)})))}),(function(t,e){i.apply(n,[t].concat(e))}))}}var yn=function(){return vn.apply(null,r(arguments).reverse())},mn=Array.prototype.concat,_n=function(t,e,n,i){i=i||G;var o=y(n);pe(t,e,(function(t,e){o(t,(function(t){return t?e(t):e(null,r(arguments,1))}))}),(function(t,e){for(var n=[],r=0;r<e.length;r++)e[r]&&(n=mn.apply(n,e[r]));return i(t,n)}))},wn=ie(_n,1/0),bn=ie(_n,1),xn=function(){var t=r(arguments),e=[null].concat(t);return function(){return arguments[arguments.length-1].apply(this,e)}};function kn(t){return t}function Sn(t,e){return function(n,r,i,o){o=o||G;var a,s=!1;n(r,(function(n,r,o){i(n,(function(r,i){r?o(r):t(i)&&!a?(s=!0,a=e(!0,n),o(null,H)):o()}))}),(function(t){t?o(t):o(null,s?a:e(!1))}))}}function Cn(t,e){return e}var jn=ue(Sn(kn,Cn)),Tn=he(Sn(kn,Cn)),An=ie(Tn,1);function Pn(t){return function(e){var n=r(arguments,1);n.push((function(e){var n=r(arguments,1);"object"==typeof console&&(e?console.error&&console.error(e):console[t]&&ve(n,(function(e){console[t](e)})))})),y(e).apply(null,n)}}var On=Pn("dir");function Ln(t,e,n){n=ee(n||G);var i=y(t),o=y(e);function a(t){if(t)return n(t);var e=r(arguments,1);e.push(s),o.apply(this,e)}function s(t,e){return t?n(t):e?void i(a):n(null)}s(null,!0)}function Fn(t,e,n){n=ee(n||G);var i=y(t),o=function(t){if(t)return n(t);var a=r(arguments,1);if(e.apply(this,a))return i(o);n.apply(null,[null].concat(a))};i(o)}function zn(t,e,n){Fn(t,(function(){return!e.apply(this,arguments)}),n)}function En(t,e,n){n=ee(n||G);var r=y(e),i=y(t);function o(t){if(t)return n(t);i(a)}function a(t,e){return t?n(t):e?void r(o):n(null)}i(a)}function Un(t){return function(e,n,r){return t(e,r)}}function Rn(t,e,n){se(t,Un(y(e)),n)}function In(t,e,n,r){ne(e)(t,Un(y(n)),r)}var Dn=ie(In,1);function Mn(t){return v(t)?t:o((function(e,n){var r=!0;e.push((function(){var t=arguments;r?l((function(){n.apply(null,t)})):n.apply(null,t)})),t.apply(this,e),r=!1}))}function Bn(t){return!t}var Nn=ue(Sn(Bn,Bn)),Hn=he(Sn(Bn,Bn)),Gn=ie(Hn,1);function Wn(t){return function(e){return null==e?void 0:e[t]}}function $n(t,e,n,r){var i=new Array(e.length);t(e,(function(t,e,r){n(t,(function(t,n){i[e]=!!n,r(t)}))}),(function(t){if(t)return r(t);for(var n=[],o=0;o<e.length;o++)i[o]&&n.push(e[o]);r(null,n)}))}function Jn(t,e,n,r){var i=[];t(e,(function(t,e,r){n(t,(function(n,o){n?r(n):(o&&i.push({index:e,value:t}),r())}))}),(function(t){t?r(t):r(null,Ce(i.sort((function(t,e){return t.index-e.index})),Wn("value")))}))}function qn(t,e,n,r){(N(e)?$n:Jn)(t,e,y(n),r||G)}var Kn=ue(qn),Xn=he(qn),Vn=ie(Xn,1);function Zn(t,e){var n=ee(e||G),r=y(Mn(t));function i(t){if(t)return n(t);r(i)}i()}var Yn=function(t,e,n,r){r=r||G;var i=y(n);pe(t,e,(function(t,e){i(t,(function(n,r){return n?e(n):e(null,{key:r,val:t})}))}),(function(t,e){for(var n={},i=Object.prototype.hasOwnProperty,o=0;o<e.length;o++)if(e[o]){var a=e[o].key,s=e[o].val;i.call(n,a)?n[a].push(s):n[a]=[s]}return r(t,n)}))},Qn=ie(Yn,1/0),tr=ie(Yn,1),er=Pn("log");function nr(t,e,n,r){r=W(r||G);var i={},o=y(n);re(t,e,(function(t,e,n){o(t,e,(function(t,r){if(t)return n(t);i[e]=r,n()}))}),(function(t){r(t,i)}))}var rr=ie(nr,1/0),ir=ie(nr,1);function or(t,e){return e in t}function ar(t,e){var n=Object.create(null),i=Object.create(null);e=e||kn;var a=y(t),s=o((function(t,o){var s=e.apply(null,t);or(n,s)?l((function(){o.apply(null,n[s])})):or(i,s)?i[s].push(o):(i[s]=[o],a.apply(null,t.concat((function(){var t=r(arguments);n[s]=t;var e=i[s];delete i[s];for(var o=0,a=e.length;o<a;o++)e[o].apply(null,t)}))))}));return s.memo=n,s.unmemoized=t,s}var sr=f(u?process.nextTick:s?setImmediate:c);function ur(t,e,n){n=n||G;var i=N(e)?[]:{};t(e,(function(t,e,n){y(t)((function(t,o){arguments.length>2&&(o=r(arguments,1)),i[e]=o,n(t)}))}),(function(t){n(t,i)}))}function cr(t,e){ur(se,t,e)}function fr(t,e,n){ur(ne(e),t,n)}var lr=function(t,e){var n=y(t);return hn((function(t,e){n(t[0],e)}),e,1)},hr=function(t,e){var n=lr(t,e);return n.push=function(t,e,r){if(null==r&&(r=G),"function"!=typeof r)throw new Error("task callback must be a function");if(n.started=!0,et(t)||(t=[t]),0===t.length)return l((function(){n.drain()}));e=e||0;for(var i=n._tasks.head;i&&e>=i.priority;)i=i.next;for(var o=0,a=t.length;o<a;o++){var s={data:t[o],priority:e,callback:r};i?n._tasks.insertBefore(i,s):n._tasks.push(s)}l(n.process)},delete n.unshift,n};function pr(t,e){if(e=W(e||G),!et(t))return e(new TypeError("First argument to race must be an array of functions"));if(!t.length)return e();for(var n=0,r=t.length;n<r;n++)y(t[n])(e)}function gr(t,e,n,i){dn(r(t).reverse(),e,n,i)}function dr(t){var e=y(t);return o((function(t,n){return t.push((function(t,e){var i;t?n(null,{error:t}):(i=arguments.length<=2?e:r(arguments,1),n(null,{value:i}))})),e.apply(this,t)}))}function vr(t){var e;return et(t)?e=Ce(t,dr):(e={},_e(t,(function(t,n){e[n]=dr.call(this,t)}))),e}function yr(t,e,n,r){qn(t,e,(function(t,e){n(t,(function(t,n){e(t,!n)}))}),r)}var mr=ue(yr),_r=he(yr),wr=ie(_r,1);function br(t){return function(){return t}}function xr(t,e,n){var r=5,i=0,o={times:r,intervalFunc:br(i)};function a(t,e){if("object"==typeof e)t.times=+e.times||r,t.intervalFunc="function"==typeof e.interval?e.interval:br(+e.interval||i),t.errorFilter=e.errorFilter;else{if("number"!=typeof e&&"string"!=typeof e)throw new Error("Invalid arguments for async.retry");t.times=+e||r}}if(arguments.length<3&&"function"==typeof t?(n=e||G,e=t):(a(o,t),n=n||G),"function"!=typeof e)throw new Error("Invalid arguments for async.retry");var s=y(e),u=1;function c(){s((function(t){t&&u++<o.times&&("function"!=typeof o.errorFilter||o.errorFilter(t))?setTimeout(c,o.intervalFunc(u)):n.apply(null,arguments)}))}c()}var kr=function(t,e){e||(e=t,t=null);var n=y(e);return o((function(e,r){function i(t){n.apply(null,e.concat(t))}t?xr(t,i,r):xr(i,r)}))};function Sr(t,e){ur(gn,t,e)}var Cr=ue(Sn(Boolean,kn)),jr=he(Sn(Boolean,kn)),Tr=ie(jr,1);function Ar(t,e,n){var r=y(e);function i(t,e){var n=t.criteria,r=e.criteria;return n<r?-1:n>r?1:0}fe(t,(function(t,e){r(t,(function(n,r){if(n)return e(n);e(null,{value:t,criteria:r})}))}),(function(t,e){if(t)return n(t);n(null,Ce(e.sort(i),Wn("value")))}))}function Pr(t,e,n){var r=y(t);return o((function(i,o){var a,s=!1;function u(){var e=t.name||"anonymous",r=new Error('Callback function "'+e+'" timed out.');r.code="ETIMEDOUT",n&&(r.info=n),s=!0,o(r)}i.push((function(){s||(o.apply(null,arguments),clearTimeout(a))})),a=setTimeout(u,e),r.apply(null,i)}))}var Or=Math.ceil,Lr=Math.max;function Fr(t,e,n,r){for(var i=-1,o=Lr(Or((e-t)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=t,t+=n;return a}function zr(t,e,n,r){var i=y(n);pe(Fr(0,t,1),e,i,r)}var Er=ie(zr,1/0),Ur=ie(zr,1);function Rr(t,e,n,r){arguments.length<=3&&(r=n,n=e,e=et(t)?[]:{}),r=W(r||G);var i=y(n);se(t,(function(t,n,r){i(e,t,n,r)}),(function(t){r(t,e)}))}function Ir(t,e){var n,i=null;e=e||G,Dn(t,(function(t,e){y(t)((function(t,o){n=arguments.length>2?r(arguments,1):o,i=t,e(!t)}))}),(function(){e(i,n)}))}function Dr(t){return function(){return(t.unmemoized||t).apply(null,arguments)}}function Mr(t,e,n){n=ee(n||G);var i=y(e);if(!t())return n(null);var o=function(e){if(e)return n(e);if(t())return i(o);var a=r(arguments,1);n.apply(null,[null].concat(a))};i(o)}function Br(t,e,n){Mr((function(){return!t.apply(this,arguments)}),e,n)}var Nr=function(t,e){if(e=W(e||G),!et(t))return e(new Error("First argument to waterfall must be an array of functions"));if(!t.length)return e();var n=0;function i(e){var r=y(t[n++]);e.push(ee(o)),r.apply(null,e)}function o(o){if(o||n===t.length)return e.apply(null,arguments);i(r(arguments,1))}i([])},Hr={apply:i,applyEach:le,applyEachSeries:de,asyncify:h,auto:Se,autoInject:cn,cargo:pn,compose:yn,concat:wn,concatLimit:_n,concatSeries:bn,constant:xn,detect:jn,detectLimit:Tn,detectSeries:An,dir:On,doDuring:Ln,doUntil:zn,doWhilst:Fn,during:En,each:Rn,eachLimit:In,eachOf:se,eachOfLimit:re,eachOfSeries:gn,eachSeries:Dn,ensureAsync:Mn,every:Nn,everyLimit:Hn,everySeries:Gn,filter:Kn,filterLimit:Xn,filterSeries:Vn,forever:Zn,groupBy:Qn,groupByLimit:Yn,groupBySeries:tr,log:er,map:fe,mapLimit:pe,mapSeries:ge,mapValues:rr,mapValuesLimit:nr,mapValuesSeries:ir,memoize:ar,nextTick:sr,parallel:cr,parallelLimit:fr,priorityQueue:hr,queue:lr,race:pr,reduce:dn,reduceRight:gr,reflect:dr,reflectAll:vr,reject:mr,rejectLimit:_r,rejectSeries:wr,retry:xr,retryable:kr,seq:vn,series:Sr,setImmediate:l,some:Cr,someLimit:jr,someSeries:Tr,sortBy:Ar,timeout:Pr,times:Er,timesLimit:zr,timesSeries:Ur,transform:Rr,tryEach:Ir,unmemoize:Dr,until:Br,waterfall:Nr,whilst:Mr,all:Nn,allLimit:Hn,allSeries:Gn,any:Cr,anyLimit:jr,anySeries:Tr,find:jn,findLimit:Tn,findSeries:An,forEach:Rn,forEachSeries:Dn,forEachLimit:In,forEachOf:se,forEachOfSeries:gn,forEachOfLimit:re,inject:dn,foldl:dn,foldr:gr,select:Kn,selectLimit:Xn,selectSeries:Vn,wrapSync:h};e.default=Hr,e.apply=i,e.applyEach=le,e.applyEachSeries=de,e.asyncify=h,e.auto=Se,e.autoInject=cn,e.cargo=pn,e.compose=yn,e.concat=wn,e.concatLimit=_n,e.concatSeries=bn,e.constant=xn,e.detect=jn,e.detectLimit=Tn,e.detectSeries=An,e.dir=On,e.doDuring=Ln,e.doUntil=zn,e.doWhilst=Fn,e.during=En,e.each=Rn,e.eachLimit=In,e.eachOf=se,e.eachOfLimit=re,e.eachOfSeries=gn,e.eachSeries=Dn,e.ensureAsync=Mn,e.every=Nn,e.everyLimit=Hn,e.everySeries=Gn,e.filter=Kn,e.filterLimit=Xn,e.filterSeries=Vn,e.forever=Zn,e.groupBy=Qn,e.groupByLimit=Yn,e.groupBySeries=tr,e.log=er,e.map=fe,e.mapLimit=pe,e.mapSeries=ge,e.mapValues=rr,e.mapValuesLimit=nr,e.mapValuesSeries=ir,e.memoize=ar,e.nextTick=sr,e.parallel=cr,e.parallelLimit=fr,e.priorityQueue=hr,e.queue=lr,e.race=pr,e.reduce=dn,e.reduceRight=gr,e.reflect=dr,e.reflectAll=vr,e.reject=mr,e.rejectLimit=_r,e.rejectSeries=wr,e.retry=xr,e.retryable=kr,e.seq=vn,e.series=Sr,e.setImmediate=l,e.some=Cr,e.someLimit=jr,e.someSeries=Tr,e.sortBy=Ar,e.timeout=Pr,e.times=Er,e.timesLimit=zr,e.timesSeries=Ur,e.transform=Rr,e.tryEach=Ir,e.unmemoize=Dr,e.until=Br,e.waterfall=Nr,e.whilst=Mr,e.all=Nn,e.allLimit=Hn,e.allSeries=Gn,e.any=Cr,e.anyLimit=jr,e.anySeries=Tr,e.find=jn,e.findLimit=Tn,e.findSeries=An,e.forEach=Rn,e.forEachSeries=Dn,e.forEachLimit=In,e.forEachOf=se,e.forEachOfSeries=gn,e.forEachOfLimit=re,e.inject=dn,e.foldl=dn,e.foldr=gr,e.select=Kn,e.selectLimit=Xn,e.selectSeries=Vn,e.wrapSync=h,Object.defineProperty(e,"__esModule",{value:!0})}(e)},725:t=>{!function(){"use strict";var e=-1,n=function(t){null==t&&(t=1024);var e=function(t,e,n){for(var r=e;r<n;r++)t[r]=1-r;if(0<s.array[s.array.length-1]){for(var i=s.array.length-2;0<s.array[i];)i--;t[e]=-i}},n=function(t,e,n){for(var r=e;r<n;r++)t[r]=-r-1},r=function(t){var r=2*t,i=o(a.signed,a.bytes,r);e(i,a.array.length,r),i.set(a.array),a.array=null,a.array=i;var u=o(s.signed,s.bytes,r);n(u,s.array.length,r),u.set(s.array),s.array=null,s.array=u},i=1,a={signed:true,bytes:4,array:o(true,4,t)},s={signed:true,bytes:4,array:o(true,4,t)};return a.array[0]=1,s.array[0]=0,e(a.array,1,a.array.length),n(s.array,1,s.array.length),{getBaseBuffer:function(){return a.array},getCheckBuffer:function(){return s.array},loadBaseBuffer:function(t){return a.array=t,this},loadCheckBuffer:function(t){return s.array=t,this},size:function(){return Math.max(a.array.length,s.array.length)},getBase:function(t){return a.array.length-1<t?1-t:a.array[t]},getCheck:function(t){return s.array.length-1<t?-t-1:s.array[t]},setBase:function(t,e){a.array.length-1<t&&r(t),a.array[t]=e},setCheck:function(t,e){s.array.length-1<t&&r(t),s.array[t]=e},setFirstUnusedNode:function(t){i=t},getFirstUnusedNode:function(){return i},shrink:function(){for(var t=this.size()-1;!(0<=s.array[t]);)t--;a.array=a.array.subarray(0,t+2),s.array=s.array.subarray(0,t+2)},calc:function(){for(var t=0,e=s.array.length,n=0;n<e;n++)s.array[n]<0&&t++;return{all:e,unused:t,efficiency:(e-t)/e}},dump:function(){var t,e="",n="";for(t=0;t<a.array.length;t++)e=e+" "+this.getBase(t);for(t=0;t<s.array.length;t++)n=n+" "+this.getCheck(t);return console.log("base:"+e),console.log("chck:"+n),"base:"+e+" chck:"+n}}};function r(t){this.bc=n(t),this.keys=[]}function i(t){this.bc=t,this.bc.shrink()}r.prototype.append=function(t,e){return this.keys.push({k:t,v:e}),this},r.prototype.build=function(t,e){if(null==t&&(t=this.keys),null==t)return new i(this.bc);null==e&&(e=!1);var n=t.map((function(t){return{k:s(t.k+"\0"),v:t.v}}));return this.keys=e?n:n.sort((function(t,e){for(var n=t.k,r=e.k,i=Math.min(n.length,r.length),o=0;o<i;o++)if(n[o]!==r[o])return n[o]-r[o];return n.length-r.length})),n=null,this._build(0,0,0,this.keys.length),new i(this.bc)},r.prototype._build=function(t,e,n,r){var i=this.getChildrenInfo(e,n,r),o=this.findAllocatableBase(i);this.setBC(t,i,o);for(var a=0;a<i.length;a+=3){var s=i[a];if(0!==s){var u=i[a+1],c=i[a+2],f=o+s;this._build(f,e+1,u,c)}}},r.prototype.getChildrenInfo=function(t,e,n){var r=this.keys[e].k[t],i=0,o=new Int32Array(3*n);o[i++]=r,o[i++]=e;for(var a=e,s=e;a<e+n;a++){var u=this.keys[a].k[t];r!==u&&(o[i++]=a-s,o[i++]=u,o[i++]=a,r=u,s=a)}return o[i++]=a-s,o=o.subarray(0,i)},r.prototype.setBC=function(t,e,n){var r,i=this.bc;for(i.setBase(t,n),r=0;r<e.length;r+=3){var o=e[r],a=n+o,s=-i.getBase(a),u=-i.getCheck(a);a!==i.getFirstUnusedNode()?i.setCheck(s,-u):i.setFirstUnusedNode(u),i.setBase(u,-s);var c=t;if(i.setCheck(a,c),0===o){var f=e[r+1],l=this.keys[f].v;null==l&&(l=0);var h=-l-1;i.setBase(a,h)}}},r.prototype.findAllocatableBase=function(t){for(var e,n=this.bc,r=n.getFirstUnusedNode();;)if((e=r-t[0])<0)r=-n.getCheck(r);else{for(var i=!0,o=0;o<t.length;o+=3){var a=e+t[o];if(!this.isUnusedNode(a)){r=-n.getCheck(r),i=!1;break}}if(i)return e}},r.prototype.isUnusedNode=function(t){var e=this.bc.getCheck(t);return 0!==t&&e<0},i.prototype.contain=function(t){for(var n=this.bc,r=s(t+="\0"),i=0,o=e,a=0;a<r.length;a++){var u=r[a];if((o=this.traverse(i,u))===e)return!1;if(n.getBase(o)<=0)return!0;i=o}return!1},i.prototype.lookup=function(t){for(var n=s(t+="\0"),r=0,i=e,o=0;o<n.length;o++){var a=n[o];if((i=this.traverse(r,a))===e)return e;r=i}var u=this.bc.getBase(i);return u<=0?-u-1:e},i.prototype.commonPrefixSearch=function(t){for(var n=s(t),r=0,i=e,o=[],c=0;c<n.length;c++){var f=n[c];if((i=this.traverse(r,f))===e)break;r=i;var l=this.traverse(i,0);if(l!==e){var h=this.bc.getBase(l),p={};h<=0&&(p.v=-h-1),p.k=u(a(n,0,c+1)),o.push(p)}}return o},i.prototype.traverse=function(t,n){var r=this.bc.getBase(t)+n;return this.bc.getCheck(r)===t?r:e},i.prototype.size=function(){return this.bc.size()},i.prototype.calc=function(){return this.bc.calc()},i.prototype.dump=function(){return this.bc.dump()};var o=function(t,e,n){if(t)switch(e){case 1:return new Int8Array(n);case 2:return new Int16Array(n);case 4:return new Int32Array(n);default:throw new RangeError("Invalid newArray parameter element_bytes:"+e)}else switch(e){case 1:return new Uint8Array(n);case 2:return new Uint16Array(n);case 4:return new Uint32Array(n);default:throw new RangeError("Invalid newArray parameter element_bytes:"+e)}},a=function(t,e,n){var r=new ArrayBuffer(n),i=new Uint8Array(r,0,n),o=t.subarray(e,n);return i.set(o),i},s=function(t){for(var e=new Uint8Array(new ArrayBuffer(4*t.length)),n=0,r=0;n<t.length;){var i,o=t.charCodeAt(n++);if(o>=55296&&o<=56319){var a=o,s=t.charCodeAt(n++);if(!(s>=56320&&s<=57343))return null;i=1024*(a-55296)+65536+(s-56320)}else i=o;i<128?e[r++]=i:i<2048?(e[r++]=i>>>6|192,e[r++]=63&i|128):i<65536?(e[r++]=i>>>12|224,e[r++]=i>>6&63|128,e[r++]=63&i|128):i<1<<21&&(e[r++]=i>>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=63&i|128)}return e.subarray(0,r)},u=function(t){for(var e,n,r,i,o="",a=0;a<t.length;)(e=(n=t[a++])<128?n:n>>5==6?(31&n)<<6|63&t[a++]:n>>4==14?(15&n)<<12|(63&t[a++])<<6|63&t[a++]:(7&n)<<18|(63&t[a++])<<12|(63&t[a++])<<6|63&t[a++])<65536?o+=String.fromCharCode(e):(r=55296|(e-=65536)>>10,i=56320|1023&e,o+=String.fromCharCode(r,i));return o},c={builder:function(t){return new r(t)},load:function(t,e){var r=n(0);return r.loadBaseBuffer(t),r.loadCheckBuffer(e),new i(r)}};t.exports=c}()},347:t=>{!function(){function e(t,e){document.addEventListener?t.addEventListener("scroll",e,!1):t.attachEvent("scroll",e)}function n(t){this.g=document.createElement("div"),this.g.setAttribute("aria-hidden","true"),this.g.appendChild(document.createTextNode(t)),this.h=document.createElement("span"),this.i=document.createElement("span"),this.m=document.createElement("span"),this.j=document.createElement("span"),this.l=-1,this.h.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.i.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.j.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.m.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.h.appendChild(this.m),this.i.appendChild(this.j),this.g.appendChild(this.h),this.g.appendChild(this.i)}function r(t,e){t.g.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+e+";"}function i(t){var e=t.g.offsetWidth,n=e+100;return t.j.style.width=n+"px",t.i.scrollLeft=n,t.h.scrollLeft=t.h.scrollWidth+100,t.l!==e&&(t.l=e,!0)}function o(t,n){function r(){var t=o;i(t)&&null!==t.g.parentNode&&n(t.l)}var o=t;e(t.h,r),e(t.i,r),i(t)}function a(t,e,n){e=e||{},n=n||window,this.family=t,this.style=e.style||"normal",this.weight=e.weight||"normal",this.stretch=e.stretch||"normal",this.context=n}var s=null,u=null,c=null,f=null;function l(t){return null===f&&(f=!!t.document.fonts),f}function h(t,e){var n=t.style,r=t.weight;if(null===c){var i=document.createElement("div");try{i.style.font="condensed 100px sans-serif"}catch(t){}c=""!==i.style.font}return[n,r,c?t.stretch:"","100px",e].join(" ")}a.prototype.load=function(t,e){var i=this,a=t||"BESbswy",c=0,f=e||3e3,p=(new Date).getTime();return new Promise((function(t,e){if(l(i.context)&&!function(t){return null===u&&(l(t)&&/Apple/.test(window.navigator.vendor)?(t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent),u=!!t&&603>parseInt(t[1],10)):u=!1),u}(i.context)){var g=new Promise((function(t,e){!function n(){(new Date).getTime()-p>=f?e(Error(f+"ms timeout exceeded")):i.context.document.fonts.load(h(i,'"'+i.family+'"'),a).then((function(e){1<=e.length?t():setTimeout(n,25)}),e)}()})),d=new Promise((function(t,e){c=setTimeout((function(){e(Error(f+"ms timeout exceeded"))}),f)}));Promise.race([d,g]).then((function(){clearTimeout(c),t(i)}),e)}else!function(t){document.body?t():document.addEventListener?document.addEventListener("DOMContentLoaded",(function e(){document.removeEventListener("DOMContentLoaded",e),t()})):document.attachEvent("onreadystatechange",(function e(){"interactive"!=document.readyState&&"complete"!=document.readyState||(document.detachEvent("onreadystatechange",e),t())}))}((function(){function u(){var e;(e=-1!=v&&-1!=y||-1!=v&&-1!=m||-1!=y&&-1!=m)&&((e=v!=y&&v!=m&&y!=m)||(null===s&&(e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),s=!!e&&(536>parseInt(e[1],10)||536===parseInt(e[1],10)&&11>=parseInt(e[2],10))),e=s&&(v==_&&y==_&&m==_||v==w&&y==w&&m==w||v==b&&y==b&&m==b)),e=!e),e&&(null!==x.parentNode&&x.parentNode.removeChild(x),clearTimeout(c),t(i))}var l=new n(a),g=new n(a),d=new n(a),v=-1,y=-1,m=-1,_=-1,w=-1,b=-1,x=document.createElement("div");x.dir="ltr",r(l,h(i,"sans-serif")),r(g,h(i,"serif")),r(d,h(i,"monospace")),x.appendChild(l.g),x.appendChild(g.g),x.appendChild(d.g),i.context.document.body.appendChild(x),_=l.g.offsetWidth,w=g.g.offsetWidth,b=d.g.offsetWidth,function t(){if((new Date).getTime()-p>=f)null!==x.parentNode&&x.parentNode.removeChild(x),e(Error(f+"ms timeout exceeded"));else{var n=i.context.document.hidden;!0!==n&&void 0!==n||(v=l.g.offsetWidth,y=g.g.offsetWidth,m=d.g.offsetWidth,u()),c=setTimeout(t,50)}}(),o(l,(function(t){v=t,u()})),r(l,h(i,'"'+i.family+'",sans-serif')),o(g,(function(t){y=t,u()})),r(g,h(i,'"'+i.family+'",serif')),o(d,(function(t){m=t,u()})),r(d,h(i,'"'+i.family+'",monospace'))}))}))},t.exports=a}()},967:(t,e,n)=>{"use strict";var r=n(717),i=n(393),o=n(682),a=/、|。/;function s(t){this.token_info_dictionary=t.token_info_dictionary,this.unknown_dictionary=t.unknown_dictionary,this.viterbi_builder=new r(t),this.viterbi_searcher=new i(t.connection_costs),this.formatter=new o}s.splitByPunctuation=function(t){for(var e=[],n=t;""!==n;){var r=n.search(a);if(r<0){e.push(n);break}e.push(n.substring(0,r+1)),n=n.substring(r+1)}return e},s.prototype.tokenize=function(t){for(var e=s.splitByPunctuation(t),n=[],r=0;r<e.length;r++){var i=e[r];this.tokenizeForSentence(i,n)}return n},s.prototype.tokenizeForSentence=function(t,e){null==e&&(e=[]);var n=this.getLattice(t),r=this.viterbi_searcher.search(n),i=0;e.length>0&&(i=e[e.length-1].word_position);for(var o=0;o<r.length;o++){var a,s,u,c=r[o];"KNOWN"===c.type?(s=null==(u=this.token_info_dictionary.getFeatures(c.name))?[]:u.split(","),a=this.formatter.formatEntry(c.name,i+c.start_pos,c.type,s)):"UNKNOWN"===c.type?(s=null==(u=this.unknown_dictionary.getFeatures(c.name))?[]:u.split(","),a=this.formatter.formatUnknownEntry(c.name,i+c.start_pos,c.type,s,c.surface_form)):a=this.formatter.formatEntry(c.name,i+c.start_pos,c.type,[]),e.push(a)}return e},s.prototype.getLattice=function(t){return this.viterbi_builder.build(t)},t.exports=s},249:(t,e,n)=>{"use strict";var r=n(967),i=n(110);function o(t){null==t.dicPath?this.dic_path="dict/":this.dic_path=t.dicPath}o.prototype.build=function(t){new i(this.dic_path).load((function(e,n){t(e,new r(n))}))},t.exports=o},440:t=>{"use strict";t.exports=function(t,e,n,r,i){this.class_id=t,this.class_name=e,this.is_always_invoke=n,this.is_grouping=r,this.max_length=i}},982:(t,e,n)=>{"use strict";var r=n(738),i=n(440),o=n(152),a="DEFAULT";function s(){this.character_category_map=new Uint8Array(65536),this.compatible_category_map=new Uint32Array(65536),this.invoke_definition_map=null}s.load=function(t,e,n){var i=new s;return i.character_category_map=t,i.compatible_category_map=e,i.invoke_definition_map=r.load(n),i},s.parseCharCategory=function(t,e){var n=e[1],r=parseInt(e[2]),o=parseInt(e[3]),a=parseInt(e[4]);return!isFinite(r)||0!==r&&1!==r?(console.log("char.def parse error. INVOKE is 0 or 1 in:"+r),null):!isFinite(o)||0!==o&&1!==o?(console.log("char.def parse error. GROUP is 0 or 1 in:"+o),null):!isFinite(a)||a<0?(console.log("char.def parse error. LENGTH is 1 to n:"+a),null):new i(t,n,1===r,1===o,a)},s.parseCategoryMapping=function(t){var e=parseInt(t[1]),n=t[2],r=3<t.length?t.slice(3):[];return(!isFinite(e)||e<0||e>65535)&&console.log("char.def parse error. CODE is invalid:"+e),{start:e,default:n,compatible:r}},s.parseRangeCategoryMapping=function(t){var e=parseInt(t[1]),n=parseInt(t[2]),r=t[3],i=4<t.length?t.slice(4):[];return(!isFinite(e)||e<0||e>65535)&&console.log("char.def parse error. CODE is invalid:"+e),(!isFinite(n)||n<0||n>65535)&&console.log("char.def parse error. CODE is invalid:"+n),{start:e,end:n,default:r,compatible:i}},s.prototype.initCategoryMappings=function(t){var e;if(null!=t)for(var n=0;n<t.length;n++){var r=t[n],i=r.end||r.start;for(e=r.start;e<=i;e++){this.character_category_map[e]=this.invoke_definition_map.lookup(r.default);for(var o=0;o<r.compatible.length;o++){var s=this.compatible_category_map[e],u=r.compatible[o];if(null!=u){var c=this.invoke_definition_map.lookup(u);if(null!=c)s|=1<<c,this.compatible_category_map[e]=s}}}}var f=this.invoke_definition_map.lookup(a);if(null!=f)for(e=0;e<this.character_category_map.length;e++)0===this.character_category_map[e]&&(this.character_category_map[e]=1<<f)},s.prototype.lookupCompatibleCategory=function(t){var e,n=[],r=t.charCodeAt(0);if(r<this.compatible_category_map.length&&(e=this.compatible_category_map[r]),null==e||0===e)return n;for(var i=0;i<32;i++)if(e<<31-i>>>31==1){var o=this.invoke_definition_map.getCharacterClass(i);if(null==o)continue;n.push(o)}return n},s.prototype.lookup=function(t){var e,n=t.charCodeAt(0);return o.isSurrogatePair(t)?e=this.invoke_definition_map.lookup(a):n<this.character_category_map.length&&(e=this.character_category_map[n]),null==e&&(e=this.invoke_definition_map.lookup(a)),this.invoke_definition_map.getCharacterClass(e)},t.exports=s},929:t=>{"use strict";function e(t,e){this.forward_dimension=t,this.backward_dimension=e,this.buffer=new Int16Array(t*e+2),this.buffer[0]=t,this.buffer[1]=e}e.prototype.put=function(t,e,n){var r=t*this.backward_dimension+e+2;if(this.buffer.length<r+1)throw"ConnectionCosts buffer overflow";this.buffer[r]=n},e.prototype.get=function(t,e){var n=t*this.backward_dimension+e+2;if(this.buffer.length<n+1)throw"ConnectionCosts buffer overflow";return this.buffer[n]},e.prototype.loadConnectionCosts=function(t){this.forward_dimension=t[0],this.backward_dimension=t[1],this.buffer=t},t.exports=e},907:(t,e,n)=>{"use strict";var r=n(725),i=n(756),o=n(929),a=n(68);function s(t,e,n,s){this.trie=null!=t?t:r.builder(0).build([{k:"",v:1}]),this.token_info_dictionary=null!=e?e:new i,this.connection_costs=null!=n?n:new o(0,0),this.unknown_dictionary=null!=s?s:new a}s.prototype.loadTrie=function(t,e){return this.trie=r.load(t,e),this},s.prototype.loadTokenInfoDictionaries=function(t,e,n){return this.token_info_dictionary.loadDictionary(t),this.token_info_dictionary.loadPosVector(e),this.token_info_dictionary.loadTargetMap(n),this},s.prototype.loadConnectionCosts=function(t){return this.connection_costs.loadConnectionCosts(t),this},s.prototype.loadUnknownDictionaries=function(t,e,n,r,i,o){return this.unknown_dictionary.loadUnknownDictionaries(t,e,n,r,i,o),this},t.exports=s},738:(t,e,n)=>{"use strict";var r=n(285),i=n(440);function o(){this.map=[],this.lookup_table={}}o.load=function(t){for(var e=new o,n=[],a=new r(t);a.position+1<a.size();){var s=n.length,u=a.get(),c=a.get(),f=a.getInt(),l=a.getString();n.push(new i(s,l,u,c,f))}return e.init(n),e},o.prototype.init=function(t){if(null!=t)for(var e=0;e<t.length;e++){var n=t[e];this.map[e]=n,this.lookup_table[n.class_name]=e}},o.prototype.getCharacterClass=function(t){return this.map[t]},o.prototype.lookup=function(t){var e=this.lookup_table[t];return null==e?null:e},o.prototype.toBuffer=function(){for(var t=new r,e=0;e<this.map.length;e++){var n=this.map[e];t.put(n.is_always_invoke),t.put(n.is_grouping),t.putInt(n.max_length),t.putString(n.class_name)}return t.shrink(),t.buffer},t.exports=o},756:(t,e,n)=>{"use strict";var r=n(285);function i(){this.dictionary=new r(10485760),this.target_map={},this.pos_buffer=new r(10485760)}i.prototype.buildDictionary=function(t){for(var e={},n=0;n<t.length;n++){var r=t[n];if(!(r.length<4)){var i=r[0],o=r[1],a=r[2],s=r[3],u=r.slice(4).join(",");isFinite(o)&&isFinite(a)&&isFinite(s)||console.log(r),e[this.put(o,a,s,i,u)]=i}}return this.dictionary.shrink(),this.pos_buffer.shrink(),e},i.prototype.put=function(t,e,n,r,i){var o=this.dictionary.position,a=this.pos_buffer.position;return this.dictionary.putShort(t),this.dictionary.putShort(e),this.dictionary.putShort(n),this.dictionary.putInt(a),this.pos_buffer.putString(r+","+i),o},i.prototype.addMapping=function(t,e){var n=this.target_map[t];null==n&&(n=[]),n.push(e),this.target_map[t]=n},i.prototype.targetMapToBuffer=function(){var t=new r,e=Object.keys(this.target_map).length;for(var n in t.putInt(e),this.target_map){var i=this.target_map[n],o=i.length;t.putInt(parseInt(n)),t.putInt(o);for(var a=0;a<i.length;a++)t.putInt(i[a])}return t.shrink()},i.prototype.loadDictionary=function(t){return this.dictionary=new r(t),this},i.prototype.loadPosVector=function(t){return this.pos_buffer=new r(t),this},i.prototype.loadTargetMap=function(t){var e=new r(t);for(e.position=0,this.target_map={},e.readInt();!(e.buffer.length<e.position+1);)for(var n=e.readInt(),i=e.readInt(),o=0;o<i;o++){var a=e.readInt();this.addMapping(n,a)}return this},i.prototype.getFeatures=function(t){var e=parseInt(t);if(isNaN(e))return"";var n=this.dictionary.getInt(e+6);return this.pos_buffer.getString(n)},t.exports=i},68:(t,e,n)=>{"use strict";var r=n(756),i=n(982),o=n(285);function a(){this.dictionary=new o(10485760),this.target_map={},this.pos_buffer=new o(10485760),this.character_definition=null}a.prototype=Object.create(r.prototype),a.prototype.characterDefinition=function(t){return this.character_definition=t,this},a.prototype.lookup=function(t){return this.character_definition.lookup(t)},a.prototype.lookupCompatibleCategory=function(t){return this.character_definition.lookupCompatibleCategory(t)},a.prototype.loadUnknownDictionaries=function(t,e,n,r,o,a){this.loadDictionary(t),this.loadPosVector(e),this.loadTargetMap(n),this.character_definition=i.load(r,o,a)},t.exports=a},150:(t,e,n)=>{"use strict";var r=n(982),i=n(738),o=/^(\w+)\s+(\d)\s+(\d)\s+(\d)/,a=/^(0x[0-9A-F]{4})(?:\s+([^#\s]+))(?:\s+([^#\s]+))*/,s=/^(0x[0-9A-F]{4})\.\.(0x[0-9A-F]{4})(?:\s+([^#\s]+))(?:\s+([^#\s]+))*/;function u(){this.char_def=new r,this.char_def.invoke_definition_map=new i,this.character_category_definition=[],this.category_mapping=[]}u.prototype.putLine=function(t){var e=o.exec(t);if(null==e){var n=a.exec(t);if(null!=n){var i=r.parseCategoryMapping(n);this.category_mapping.push(i)}var u=s.exec(t);if(null!=u){var c=r.parseRangeCategoryMapping(u);this.category_mapping.push(c)}}else{var f=this.character_category_definition.length,l=r.parseCharCategory(f,e);if(null==l)return;this.character_category_definition.push(l)}},u.prototype.build=function(){return this.char_def.invoke_definition_map.init(this.character_category_definition),this.char_def.initCategoryMappings(this.category_mapping),this.char_def},t.exports=u},558:(t,e,n)=>{"use strict";var r=n(929);function i(){this.lines=0,this.connection_cost=null}i.prototype.putLine=function(t){if(0===this.lines){var e=t.split(" "),n=e[0],i=e[1];if(n<0||i<0)throw"Parse error of matrix.def";return this.connection_cost=new r(n,i),this.lines++,this}var o=t.split(" ");if(3!==o.length)return this;var a=parseInt(o[0]),s=parseInt(o[1]),u=parseInt(o[2]);if(a<0||s<0||!isFinite(a)||!isFinite(s)||this.connection_cost.forward_dimension<=a||this.connection_cost.backward_dimension<=s)throw"Parse error of matrix.def";return this.connection_cost.put(a,s,u),this.lines++,this},i.prototype.build=function(){return this.connection_cost},t.exports=i},911:(t,e,n)=>{"use strict";var r=n(725),i=n(907),o=n(756),a=n(558),s=n(150),u=n(68);function c(){this.tid_entries=[],this.unk_entries=[],this.cc_builder=new a,this.cd_builder=new s}c.prototype.addTokenInfoDictionary=function(t){var e=t.split(",");return this.tid_entries.push(e),this},c.prototype.putCostMatrixLine=function(t){return this.cc_builder.putLine(t),this},c.prototype.putCharDefLine=function(t){return this.cd_builder.putLine(t),this},c.prototype.putUnkDefLine=function(t){return this.unk_entries.push(t.split(",")),this},c.prototype.build=function(){var t=this.buildTokenInfoDictionary(),e=this.buildUnknownDictionary();return new i(t.trie,t.token_info_dictionary,this.cc_builder.build(),e)},c.prototype.buildTokenInfoDictionary=function(){var t=new o,e=t.buildDictionary(this.tid_entries),n=this.buildDoubleArray();for(var r in e){var i=e[r],a=n.lookup(i);t.addMapping(a,r)}return{trie:n,token_info_dictionary:t}},c.prototype.buildUnknownDictionary=function(){var t=new u,e=t.buildDictionary(this.unk_entries),n=this.cd_builder.build();for(var r in t.characterDefinition(n),e){var i=e[r],o=n.invoke_definition_map.lookup(i);t.addMapping(o,r)}return t},c.prototype.buildDoubleArray=function(){var t=0,e=this.tid_entries.map((function(e){return{k:e[0],v:t++}}));return r.builder(1048576).build(e)},t.exports=c},297:(t,e,n)=>{"use strict";var r=n(249),i=n(911),o={builder:function(t){return new r(t)},dictionaryBuilder:function(){return new i}};t.exports=o},110:(t,e,n)=>{"use strict";var r=n(382),i=n(307);function o(t){i.apply(this,[t])}o.prototype=Object.create(i.prototype),o.prototype.loadArrayBuffer=function(t,e){var n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="arraybuffer",n.onload=function(){if(this.status>0&&200!==this.status)e(n.statusText,null);else{var t=this.response,i=new r.Zlib.Gunzip(new Uint8Array(t)).decompress();e(null,i.buffer)}},n.onerror=function(t){e(t,null)},n.send()},t.exports=o},307:(t,e,n)=>{"use strict";var r=n(470),i=n(195),o=n(907);function a(t){this.dic=new o,this.dic_path=t}a.prototype.loadArrayBuffer=function(t,e){throw new Error("DictionaryLoader#loadArrayBuffer should be overwrite")},a.prototype.load=function(t){var e=this.dic,n=this.dic_path,o=this.loadArrayBuffer;i.parallel([function(t){i.map(["base.dat.gz","check.dat.gz"],(function(t,e){o(r.join(n,t),(function(t,n){if(t)return e(t);e(null,n)}))}),(function(n,r){if(n)return t(n);var i=new Int32Array(r[0]),o=new Int32Array(r[1]);e.loadTrie(i,o),t(null)}))},function(t){i.map(["tid.dat.gz","tid_pos.dat.gz","tid_map.dat.gz"],(function(t,e){o(r.join(n,t),(function(t,n){if(t)return e(t);e(null,n)}))}),(function(n,r){if(n)return t(n);var i=new Uint8Array(r[0]),o=new Uint8Array(r[1]),a=new Uint8Array(r[2]);e.loadTokenInfoDictionaries(i,o,a),t(null)}))},function(t){o(r.join(n,"cc.dat.gz"),(function(n,r){if(n)return t(n);var i=new Int16Array(r);e.loadConnectionCosts(i),t(null)}))},function(t){i.map(["unk.dat.gz","unk_pos.dat.gz","unk_map.dat.gz","unk_char.dat.gz","unk_compat.dat.gz","unk_invoke.dat.gz"],(function(t,e){o(r.join(n,t),(function(t,n){if(t)return e(t);e(null,n)}))}),(function(n,r){if(n)return t(n);var i=new Uint8Array(r[0]),o=new Uint8Array(r[1]),a=new Uint8Array(r[2]),s=new Uint8Array(r[3]),u=new Uint32Array(r[4]),c=new Uint8Array(r[5]);e.loadUnknownDictionaries(i,o,a,s,u,c),t(null)}))}],(function(n){t(n,e)}))},t.exports=a},285:t=>{"use strict";function e(t){var e;if(null==t)e=1048576;else{if("number"!=typeof t){if(t instanceof Uint8Array)return this.buffer=t,void(this.position=0);throw typeof t+" is invalid parameter type for ByteBuffer constructor"}e=t}this.buffer=new Uint8Array(e),this.position=0}e.prototype.size=function(){return this.buffer.length},e.prototype.reallocate=function(){var t=new Uint8Array(2*this.buffer.length);t.set(this.buffer),this.buffer=t},e.prototype.shrink=function(){return this.buffer=this.buffer.subarray(0,this.position),this.buffer},e.prototype.put=function(t){this.buffer.length<this.position+1&&this.reallocate(),this.buffer[this.position++]=t},e.prototype.get=function(t){return null==t&&(t=this.position,this.position+=1),this.buffer.length<t+1?0:this.buffer[t]},e.prototype.putShort=function(t){if(65535<t)throw t+" is over short value";var e=255&t,n=(65280&t)>>8;this.put(e),this.put(n)},e.prototype.getShort=function(t){if(null==t&&(t=this.position,this.position+=2),this.buffer.length<t+2)return 0;var e=this.buffer[t],n=(this.buffer[t+1]<<8)+e;return 32768&n&&(n=-(n-1^65535)),n},e.prototype.putInt=function(t){if(4294967295<t)throw t+" is over integer value";var e=255&t,n=(65280&t)>>8,r=(16711680&t)>>16,i=(4278190080&t)>>24;this.put(e),this.put(n),this.put(r),this.put(i)},e.prototype.getInt=function(t){if(null==t&&(t=this.position,this.position+=4),this.buffer.length<t+4)return 0;var e=this.buffer[t],n=this.buffer[t+1],r=this.buffer[t+2];return(this.buffer[t+3]<<24)+(r<<16)+(n<<8)+e},e.prototype.readInt=function(){var t=this.position;return this.position+=4,this.getInt(t)},e.prototype.putString=function(t){for(var e=function(t){for(var e=new Uint8Array(4*t.length),n=0,r=0;n<t.length;){var i,o=t.charCodeAt(n++);if(o>=55296&&o<=56319){var a=o,s=t.charCodeAt(n++);if(!(s>=56320&&s<=57343))return null;i=1024*(a-55296)+65536+(s-56320)}else i=o;i<128?e[r++]=i:i<2048?(e[r++]=i>>>6|192,e[r++]=63&i|128):i<65536?(e[r++]=i>>>12|224,e[r++]=i>>6&63|128,e[r++]=63&i|128):i<1<<21&&(e[r++]=i>>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=63&i|128)}return e.subarray(0,r)}(t),n=0;n<e.length;n++)this.put(e[n]);this.put(0)},e.prototype.getString=function(t){var e,n=[];for(null==t&&(t=this.position);!(this.buffer.length<t+1)&&0!==(e=this.get(t++));)n.push(e);return this.position=t,function(t){for(var e,n,r,i,o="",a=0;a<t.length;)(e=(n=t[a++])<128?n:n>>5==6?(31&n)<<6|63&t[a++]:n>>4==14?(15&n)<<12|(63&t[a++])<<6|63&t[a++]:(7&n)<<18|(63&t[a++])<<12|(63&t[a++])<<6|63&t[a++])<65536?o+=String.fromCharCode(e):(r=55296|(e-=65536)>>10,i=56320|1023&e,o+=String.fromCharCode(r,i));return o}(n)},t.exports=e},682:t=>{"use strict";function e(){}e.prototype.formatEntry=function(t,e,n,r){var i={};return i.word_id=t,i.word_type=n,i.word_position=e,i.surface_form=r[0],i.pos=r[1],i.pos_detail_1=r[2],i.pos_detail_2=r[3],i.pos_detail_3=r[4],i.conjugated_type=r[5],i.conjugated_form=r[6],i.basic_form=r[7],i.reading=r[8],i.pronunciation=r[9],i},e.prototype.formatUnknownEntry=function(t,e,n,r,i){var o={};return o.word_id=t,o.word_type=n,o.word_position=e,o.surface_form=i,o.pos=r[1],o.pos_detail_1=r[2],o.pos_detail_2=r[3],o.pos_detail_3=r[4],o.conjugated_type=r[5],o.conjugated_form=r[6],o.basic_form=r[7],o},t.exports=e},152:t=>{"use strict";function e(t){this.str=t,this.index_mapping=[];for(var n=0;n<t.length;n++){var r=t.charAt(n);this.index_mapping.push(n),e.isSurrogatePair(r)&&n++}this.length=this.index_mapping.length}e.prototype.slice=function(t){if(this.index_mapping.length<=t)return"";var e=this.index_mapping[t];return this.str.slice(e)},e.prototype.charAt=function(t){if(this.str.length<=t)return"";var e=this.index_mapping[t],n=this.index_mapping[t+1];return null==n?this.str.slice(e):this.str.slice(e,n)},e.prototype.charCodeAt=function(t){if(this.index_mapping.length<=t)return NaN;var e,n=this.index_mapping[t],r=this.str.charCodeAt(n);return r>=55296&&r<=56319&&n<this.str.length&&(e=this.str.charCodeAt(n+1))>=56320&&e<=57343?1024*(r-55296)+e-56320+65536:r},e.prototype.toString=function(){return this.str},e.isSurrogatePair=function(t){var e=t.charCodeAt(0);return e>=55296&&e<=56319},t.exports=e},717:(t,e,n)=>{"use strict";var r=n(98),i=n(391),o=n(152);function a(t){this.trie=t.trie,this.token_info_dictionary=t.token_info_dictionary,this.unknown_dictionary=t.unknown_dictionary}a.prototype.build=function(t){for(var e,n,a,s,u,c=new i,f=new o(t),l=0;l<f.length;l++){for(var h=f.slice(l),p=this.trie.commonPrefixSearch(h),g=0;g<p.length;g++){n=p[g].v,e=p[g].k;for(var d=this.token_info_dictionary.target_map[n],v=0;v<d.length;v++){var y=parseInt(d[v]);a=this.token_info_dictionary.dictionary.getShort(y),s=this.token_info_dictionary.dictionary.getShort(y+2),u=this.token_info_dictionary.dictionary.getShort(y+4),c.append(new r(y,u,l+1,e.length,"KNOWN",a,s,e))}}var m=new o(h),_=new o(m.charAt(0)),w=this.unknown_dictionary.lookup(_.toString());if(null==p||0===p.length||1===w.is_always_invoke){if(e=_,1===w.is_grouping&&1<m.length)for(var b=1;b<m.length;b++){var x=m.charAt(b),k=this.unknown_dictionary.lookup(x);if(w.class_name!==k.class_name)break;e+=x}for(var S=this.unknown_dictionary.target_map[w.class_id],C=0;C<S.length;C++){var j=parseInt(S[C]);a=this.unknown_dictionary.dictionary.getShort(j),s=this.unknown_dictionary.dictionary.getShort(j+2),u=this.unknown_dictionary.dictionary.getShort(j+4),c.append(new r(j,u,l+1,e.length,"UNKNOWN",a,s,e.toString()))}}}return c.appendEos(),c},t.exports=a},391:(t,e,n)=>{"use strict";var r=n(98);function i(){this.nodes_end_at=[],this.nodes_end_at[0]=[new r(-1,0,0,0,"BOS",0,0,"")],this.eos_pos=1}i.prototype.append=function(t){var e=t.start_pos+t.length-1;this.eos_pos<e&&(this.eos_pos=e);var n=this.nodes_end_at[e];null==n&&(n=[]),n.push(t),this.nodes_end_at[e]=n},i.prototype.appendEos=function(){var t=this.nodes_end_at.length;this.eos_pos++,this.nodes_end_at[t]=[new r(-1,0,this.eos_pos,0,"EOS",0,0,"")]},t.exports=i},98:t=>{"use strict";t.exports=function(t,e,n,r,i,o,a,s){this.name=t,this.cost=e,this.start_pos=n,this.length=r,this.left_id=o,this.right_id=a,this.prev=null,this.surface_form=s,this.shortest_cost="BOS"===i?0:Number.MAX_VALUE,this.type=i}},393:t=>{"use strict";function e(t){this.connection_costs=t}e.prototype.search=function(t){return t=this.forward(t),this.backward(t)},e.prototype.forward=function(t){var e,n,r;for(e=1;e<=t.eos_pos;e++){var i=t.nodes_end_at[e];if(null!=i)for(n=0;n<i.length;n++){var o,a=i[n],s=Number.MAX_VALUE,u=t.nodes_end_at[a.start_pos-1];if(null!=u){for(r=0;r<u.length;r++){var c,f=u[r];null==a.left_id||null==f.right_id?(console.log("Left or right is null"),c=0):c=this.connection_costs.get(f.right_id,a.left_id);var l=f.shortest_cost+c+a.cost;l<s&&(o=f,s=l)}a.prev=o,a.shortest_cost=s}}}return t},e.prototype.backward=function(t){var e=[],n=t.nodes_end_at[t.nodes_end_at.length-1][0].prev;if(null==n)return[];for(;"BOS"!==n.type;){if(e.push(n),null==n.prev)return[];n=n.prev}return e.reverse()},t.exports=e},656:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});var r=n(297),i=n.n(r);t=n.hmd(t);let o=!1;!("undefined"!=typeof window)&&t.exports&&(o=!0);const a=class{constructor({dictPath:t}={}){this._analyzer=null,this._dictPath=t||(o?n(297).replace(/src(?!.*src).*/,"dict/"):"node_modules/kuromoji/dict/")}init(){return new Promise(((t,e)=>{const n=this;null==this._analyzer?i().builder({dicPath:this._dictPath}).build(((r,i)=>{if(r)return e(r);n._analyzer=i,t()})):e(new Error("This analyzer has already been initialized."))}))}parse(t=""){return new Promise(((e,n)=>{if(""===t.trim())return e([]);const r=this._analyzer.tokenize(t);for(let t=0;t<r.length;t++)r[t].verbose={},r[t].verbose.word_id=r[t].word_id,r[t].verbose.word_type=r[t].word_type,r[t].verbose.word_position=r[t].word_position,delete r[t].word_id,delete r[t].word_type,delete r[t].word_position;e(r)}))}}},486:function(t,e,n){var r;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */t=n.nmd(t),function(){var i,o="Expected a function",a="__lodash_hash_undefined__",s="__lodash_placeholder__",u=16,c=32,f=64,l=128,h=256,p=1/0,g=9007199254740991,d=NaN,v=4294967295,y=[["ary",l],["bind",1],["bindKey",2],["curry",8],["curryRight",u],["flip",512],["partial",c],["partialRight",f],["rearg",h]],m="[object Arguments]",_="[object Array]",w="[object Boolean]",b="[object Date]",x="[object Error]",k="[object Function]",S="[object GeneratorFunction]",C="[object Map]",j="[object Number]",T="[object Object]",A="[object Promise]",P="[object RegExp]",O="[object Set]",L="[object String]",F="[object Symbol]",z="[object WeakMap]",E="[object ArrayBuffer]",U="[object DataView]",R="[object Float32Array]",I="[object Float64Array]",D="[object Int8Array]",M="[object Int16Array]",B="[object Int32Array]",N="[object Uint8Array]",H="[object Uint8ClampedArray]",G="[object Uint16Array]",W="[object Uint32Array]",$=/\b__p \+= '';/g,J=/\b(__p \+=) '' \+/g,q=/(__e\(.*?\)|\b__t\)) \+\n'';/g,K=/&(?:amp|lt|gt|quot|#39);/g,X=/[&<>"']/g,V=RegExp(K.source),Z=RegExp(X.source),Y=/<%-([\s\S]+?)%>/g,Q=/<%([\s\S]+?)%>/g,tt=/<%=([\s\S]+?)%>/g,et=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,nt=/^\w*$/,rt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,it=/[\\^$.*+?()[\]{}|]/g,ot=RegExp(it.source),at=/^\s+/,st=/\s/,ut=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ct=/\{\n\/\* \[wrapped with (.+)\] \*/,ft=/,? & /,lt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ht=/[()=,{}\[\]\/\s]/,pt=/\\(\\)?/g,gt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,dt=/\w*$/,vt=/^[-+]0x[0-9a-f]+$/i,yt=/^0b[01]+$/i,mt=/^\[object .+?Constructor\]$/,_t=/^0o[0-7]+$/i,wt=/^(?:0|[1-9]\d*)$/,bt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,xt=/($^)/,kt=/['\n\r\u2028\u2029\\]/g,St="\\ud800-\\udfff",Ct="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",jt="\\u2700-\\u27bf",Tt="a-z\\xdf-\\xf6\\xf8-\\xff",At="A-Z\\xc0-\\xd6\\xd8-\\xde",Pt="\\ufe0e\\ufe0f",Ot="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Lt="['’]",Ft="["+St+"]",zt="["+Ot+"]",Et="["+Ct+"]",Ut="\\d+",Rt="["+jt+"]",It="["+Tt+"]",Dt="[^"+St+Ot+Ut+jt+Tt+At+"]",Mt="\\ud83c[\\udffb-\\udfff]",Bt="[^"+St+"]",Nt="(?:\\ud83c[\\udde6-\\uddff]){2}",Ht="[\\ud800-\\udbff][\\udc00-\\udfff]",Gt="["+At+"]",Wt="\\u200d",$t="(?:"+It+"|"+Dt+")",Jt="(?:"+Gt+"|"+Dt+")",qt="(?:['’](?:d|ll|m|re|s|t|ve))?",Kt="(?:['’](?:D|LL|M|RE|S|T|VE))?",Xt="(?:"+Et+"|"+Mt+")"+"?",Vt="["+Pt+"]?",Zt=Vt+Xt+("(?:"+Wt+"(?:"+[Bt,Nt,Ht].join("|")+")"+Vt+Xt+")*"),Yt="(?:"+[Rt,Nt,Ht].join("|")+")"+Zt,Qt="(?:"+[Bt+Et+"?",Et,Nt,Ht,Ft].join("|")+")",te=RegExp(Lt,"g"),ee=RegExp(Et,"g"),ne=RegExp(Mt+"(?="+Mt+")|"+Qt+Zt,"g"),re=RegExp([Gt+"?"+It+"+"+qt+"(?="+[zt,Gt,"$"].join("|")+")",Jt+"+"+Kt+"(?="+[zt,Gt+$t,"$"].join("|")+")",Gt+"?"+$t+"+"+qt,Gt+"+"+Kt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ut,Yt].join("|"),"g"),ie=RegExp("["+Wt+St+Ct+Pt+"]"),oe=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ae=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],se=-1,ue={};ue[R]=ue[I]=ue[D]=ue[M]=ue[B]=ue[N]=ue[H]=ue[G]=ue[W]=!0,ue[m]=ue[_]=ue[E]=ue[w]=ue[U]=ue[b]=ue[x]=ue[k]=ue[C]=ue[j]=ue[T]=ue[P]=ue[O]=ue[L]=ue[z]=!1;var ce={};ce[m]=ce[_]=ce[E]=ce[U]=ce[w]=ce[b]=ce[R]=ce[I]=ce[D]=ce[M]=ce[B]=ce[C]=ce[j]=ce[T]=ce[P]=ce[O]=ce[L]=ce[F]=ce[N]=ce[H]=ce[G]=ce[W]=!0,ce[x]=ce[k]=ce[z]=!1;var fe={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},le=parseFloat,he=parseInt,pe="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,ge="object"==typeof self&&self&&self.Object===Object&&self,de=pe||ge||Function("return this")(),ve=e&&!e.nodeType&&e,ye=ve&&t&&!t.nodeType&&t,me=ye&&ye.exports===ve,_e=me&&pe.process,we=function(){try{var t=ye&&ye.require&&ye.require("util").types;return t||_e&&_e.binding&&_e.binding("util")}catch(t){}}(),be=we&&we.isArrayBuffer,xe=we&&we.isDate,ke=we&&we.isMap,Se=we&&we.isRegExp,Ce=we&&we.isSet,je=we&&we.isTypedArray;function Te(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function Ae(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];e(r,a,n(a),t)}return r}function Pe(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function Oe(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function Le(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function Fe(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}function ze(t,e){return!!(null==t?0:t.length)&&Ge(t,e,0)>-1}function Ee(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function Ue(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function Re(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function Ie(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function De(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function Me(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var Be=qe("length");function Ne(t,e,n){var r;return n(t,(function(t,n,i){if(e(t,n,i))return r=n,!1})),r}function He(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function Ge(t,e,n){return e==e?function(t,e,n){var r=n-1,i=t.length;for(;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):He(t,$e,n)}function We(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function $e(t){return t!=t}function Je(t,e){var n=null==t?0:t.length;return n?Ve(t,e)/n:d}function qe(t){return function(e){return null==e?i:e[t]}}function Ke(t){return function(e){return null==t?i:t[e]}}function Xe(t,e,n,r,i){return i(t,(function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)})),n}function Ve(t,e){for(var n,r=-1,o=t.length;++r<o;){var a=e(t[r]);a!==i&&(n=n===i?a:n+a)}return n}function Ze(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function Ye(t){return t?t.slice(0,vn(t)+1).replace(at,""):t}function Qe(t){return function(e){return t(e)}}function tn(t,e){return Ue(e,(function(e){return t[e]}))}function en(t,e){return t.has(e)}function nn(t,e){for(var n=-1,r=t.length;++n<r&&Ge(e,t[n],0)>-1;);return n}function rn(t,e){for(var n=t.length;n--&&Ge(e,t[n],0)>-1;);return n}var on=Ke({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),an=Ke({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function sn(t){return"\\"+fe[t]}function un(t){return ie.test(t)}function cn(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function fn(t,e){return function(n){return t(e(n))}}function ln(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n];a!==e&&a!==s||(t[n]=s,o[i++]=n)}return o}function hn(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function pn(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function gn(t){return un(t)?function(t){var e=ne.lastIndex=0;for(;ne.test(t);)++e;return e}(t):Be(t)}function dn(t){return un(t)?function(t){return t.match(ne)||[]}(t):function(t){return t.split("")}(t)}function vn(t){for(var e=t.length;e--&&st.test(t.charAt(e)););return e}var yn=Ke({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var mn=function t(e){var n,r=(e=null==e?de:mn.defaults(de.Object(),e,mn.pick(de,ae))).Array,st=e.Date,St=e.Error,Ct=e.Function,jt=e.Math,Tt=e.Object,At=e.RegExp,Pt=e.String,Ot=e.TypeError,Lt=r.prototype,Ft=Ct.prototype,zt=Tt.prototype,Et=e["__core-js_shared__"],Ut=Ft.toString,Rt=zt.hasOwnProperty,It=0,Dt=(n=/[^.]+$/.exec(Et&&Et.keys&&Et.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Mt=zt.toString,Bt=Ut.call(Tt),Nt=de._,Ht=At("^"+Ut.call(Rt).replace(it,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Gt=me?e.Buffer:i,Wt=e.Symbol,$t=e.Uint8Array,Jt=Gt?Gt.allocUnsafe:i,qt=fn(Tt.getPrototypeOf,Tt),Kt=Tt.create,Xt=zt.propertyIsEnumerable,Vt=Lt.splice,Zt=Wt?Wt.isConcatSpreadable:i,Yt=Wt?Wt.iterator:i,Qt=Wt?Wt.toStringTag:i,ne=function(){try{var t=ho(Tt,"defineProperty");return t({},"",{}),t}catch(t){}}(),ie=e.clearTimeout!==de.clearTimeout&&e.clearTimeout,fe=st&&st.now!==de.Date.now&&st.now,pe=e.setTimeout!==de.setTimeout&&e.setTimeout,ge=jt.ceil,ve=jt.floor,ye=Tt.getOwnPropertySymbols,_e=Gt?Gt.isBuffer:i,we=e.isFinite,Be=Lt.join,Ke=fn(Tt.keys,Tt),_n=jt.max,wn=jt.min,bn=st.now,xn=e.parseInt,kn=jt.random,Sn=Lt.reverse,Cn=ho(e,"DataView"),jn=ho(e,"Map"),Tn=ho(e,"Promise"),An=ho(e,"Set"),Pn=ho(e,"WeakMap"),On=ho(Tt,"create"),Ln=Pn&&new Pn,Fn={},zn=Mo(Cn),En=Mo(jn),Un=Mo(Tn),Rn=Mo(An),In=Mo(Pn),Dn=Wt?Wt.prototype:i,Mn=Dn?Dn.valueOf:i,Bn=Dn?Dn.toString:i;function Nn(t){if(ns(t)&&!$a(t)&&!(t instanceof $n)){if(t instanceof Wn)return t;if(Rt.call(t,"__wrapped__"))return Bo(t)}return new Wn(t)}var Hn=function(){function t(){}return function(e){if(!es(e))return{};if(Kt)return Kt(e);t.prototype=e;var n=new t;return t.prototype=i,n}}();function Gn(){}function Wn(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=i}function $n(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=v,this.__views__=[]}function Jn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function qn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Kn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Xn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Kn;++e<n;)this.add(t[e])}function Vn(t){var e=this.__data__=new qn(t);this.size=e.size}function Zn(t,e){var n=$a(t),r=!n&&Wa(t),i=!n&&!r&&Xa(t),o=!n&&!r&&!i&&fs(t),a=n||r||i||o,s=a?Ze(t.length,Pt):[],u=s.length;for(var c in t)!e&&!Rt.call(t,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||wo(c,u))||s.push(c);return s}function Yn(t){var e=t.length;return e?t[Xr(0,e-1)]:i}function Qn(t,e){return Ro(Oi(t),ur(e,0,t.length))}function tr(t){return Ro(Oi(t))}function er(t,e,n){(n!==i&&!Na(t[e],n)||n===i&&!(e in t))&&ar(t,e,n)}function nr(t,e,n){var r=t[e];Rt.call(t,e)&&Na(r,n)&&(n!==i||e in t)||ar(t,e,n)}function rr(t,e){for(var n=t.length;n--;)if(Na(t[n][0],e))return n;return-1}function ir(t,e,n,r){return pr(t,(function(t,i,o){e(r,t,n(t),o)})),r}function or(t,e){return t&&Li(e,Fs(e),t)}function ar(t,e,n){"__proto__"==e&&ne?ne(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function sr(t,e){for(var n=-1,o=e.length,a=r(o),s=null==t;++n<o;)a[n]=s?i:Ts(t,e[n]);return a}function ur(t,e,n){return t==t&&(n!==i&&(t=t<=n?t:n),e!==i&&(t=t>=e?t:e)),t}function cr(t,e,n,r,o,a){var s,u=1&e,c=2&e,f=4&e;if(n&&(s=o?n(t,r,o,a):n(t)),s!==i)return s;if(!es(t))return t;var l=$a(t);if(l){if(s=function(t){var e=t.length,n=new t.constructor(e);e&&"string"==typeof t[0]&&Rt.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(t),!u)return Oi(t,s)}else{var h=vo(t),p=h==k||h==S;if(Xa(t))return Si(t,u);if(h==T||h==m||p&&!o){if(s=c||p?{}:mo(t),!u)return c?function(t,e){return Li(t,go(t),e)}(t,function(t,e){return t&&Li(e,zs(e),t)}(s,t)):function(t,e){return Li(t,po(t),e)}(t,or(s,t))}else{if(!ce[h])return o?t:{};s=function(t,e,n){var r=t.constructor;switch(e){case E:return Ci(t);case w:case b:return new r(+t);case U:return function(t,e){var n=e?Ci(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case R:case I:case D:case M:case B:case N:case H:case G:case W:return ji(t,n);case C:return new r;case j:case L:return new r(t);case P:return function(t){var e=new t.constructor(t.source,dt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case O:return new r;case F:return i=t,Mn?Tt(Mn.call(i)):{}}var i}(t,h,u)}}a||(a=new Vn);var g=a.get(t);if(g)return g;a.set(t,s),ss(t)?t.forEach((function(r){s.add(cr(r,e,n,r,t,a))})):rs(t)&&t.forEach((function(r,i){s.set(i,cr(r,e,n,i,t,a))}));var d=l?i:(f?c?oo:io:c?zs:Fs)(t);return Pe(d||t,(function(r,i){d&&(r=t[i=r]),nr(s,i,cr(r,e,n,i,t,a))})),s}function fr(t,e,n){var r=n.length;if(null==t)return!r;for(t=Tt(t);r--;){var o=n[r],a=e[o],s=t[o];if(s===i&&!(o in t)||!a(s))return!1}return!0}function lr(t,e,n){if("function"!=typeof t)throw new Ot(o);return Fo((function(){t.apply(i,n)}),e)}function hr(t,e,n,r){var i=-1,o=ze,a=!0,s=t.length,u=[],c=e.length;if(!s)return u;n&&(e=Ue(e,Qe(n))),r?(o=Ee,a=!1):e.length>=200&&(o=en,a=!1,e=new Xn(e));t:for(;++i<s;){var f=t[i],l=null==n?f:n(f);if(f=r||0!==f?f:0,a&&l==l){for(var h=c;h--;)if(e[h]===l)continue t;u.push(f)}else o(e,l,r)||u.push(f)}return u}Nn.templateSettings={escape:Y,evaluate:Q,interpolate:tt,variable:"",imports:{_:Nn}},Nn.prototype=Gn.prototype,Nn.prototype.constructor=Nn,Wn.prototype=Hn(Gn.prototype),Wn.prototype.constructor=Wn,$n.prototype=Hn(Gn.prototype),$n.prototype.constructor=$n,Jn.prototype.clear=function(){this.__data__=On?On(null):{},this.size=0},Jn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Jn.prototype.get=function(t){var e=this.__data__;if(On){var n=e[t];return n===a?i:n}return Rt.call(e,t)?e[t]:i},Jn.prototype.has=function(t){var e=this.__data__;return On?e[t]!==i:Rt.call(e,t)},Jn.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=On&&e===i?a:e,this},qn.prototype.clear=function(){this.__data__=[],this.size=0},qn.prototype.delete=function(t){var e=this.__data__,n=rr(e,t);return!(n<0)&&(n==e.length-1?e.pop():Vt.call(e,n,1),--this.size,!0)},qn.prototype.get=function(t){var e=this.__data__,n=rr(e,t);return n<0?i:e[n][1]},qn.prototype.has=function(t){return rr(this.__data__,t)>-1},qn.prototype.set=function(t,e){var n=this.__data__,r=rr(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},Kn.prototype.clear=function(){this.size=0,this.__data__={hash:new Jn,map:new(jn||qn),string:new Jn}},Kn.prototype.delete=function(t){var e=fo(this,t).delete(t);return this.size-=e?1:0,e},Kn.prototype.get=function(t){return fo(this,t).get(t)},Kn.prototype.has=function(t){return fo(this,t).has(t)},Kn.prototype.set=function(t,e){var n=fo(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},Xn.prototype.add=Xn.prototype.push=function(t){return this.__data__.set(t,a),this},Xn.prototype.has=function(t){return this.__data__.has(t)},Vn.prototype.clear=function(){this.__data__=new qn,this.size=0},Vn.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Vn.prototype.get=function(t){return this.__data__.get(t)},Vn.prototype.has=function(t){return this.__data__.has(t)},Vn.prototype.set=function(t,e){var n=this.__data__;if(n instanceof qn){var r=n.__data__;if(!jn||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Kn(r)}return n.set(t,e),this.size=n.size,this};var pr=Ei(br),gr=Ei(xr,!0);function dr(t,e){var n=!0;return pr(t,(function(t,r,i){return n=!!e(t,r,i)})),n}function vr(t,e,n){for(var r=-1,o=t.length;++r<o;){var a=t[r],s=e(a);if(null!=s&&(u===i?s==s&&!cs(s):n(s,u)))var u=s,c=a}return c}function yr(t,e){var n=[];return pr(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n}function mr(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=_o),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?mr(s,e-1,n,r,i):Re(i,s):r||(i[i.length]=s)}return i}var _r=Ui(),wr=Ui(!0);function br(t,e){return t&&_r(t,e,Fs)}function xr(t,e){return t&&wr(t,e,Fs)}function kr(t,e){return Fe(e,(function(e){return Ya(t[e])}))}function Sr(t,e){for(var n=0,r=(e=wi(e,t)).length;null!=t&&n<r;)t=t[Do(e[n++])];return n&&n==r?t:i}function Cr(t,e,n){var r=e(t);return $a(t)?r:Re(r,n(t))}function jr(t){return null==t?t===i?"[object Undefined]":"[object Null]":Qt&&Qt in Tt(t)?function(t){var e=Rt.call(t,Qt),n=t[Qt];try{t[Qt]=i;var r=!0}catch(t){}var o=Mt.call(t);r&&(e?t[Qt]=n:delete t[Qt]);return o}(t):function(t){return Mt.call(t)}(t)}function Tr(t,e){return t>e}function Ar(t,e){return null!=t&&Rt.call(t,e)}function Pr(t,e){return null!=t&&e in Tt(t)}function Or(t,e,n){for(var o=n?Ee:ze,a=t[0].length,s=t.length,u=s,c=r(s),f=1/0,l=[];u--;){var h=t[u];u&&e&&(h=Ue(h,Qe(e))),f=wn(h.length,f),c[u]=!n&&(e||a>=120&&h.length>=120)?new Xn(u&&h):i}h=t[0];var p=-1,g=c[0];t:for(;++p<a&&l.length<f;){var d=h[p],v=e?e(d):d;if(d=n||0!==d?d:0,!(g?en(g,v):o(l,v,n))){for(u=s;--u;){var y=c[u];if(!(y?en(y,v):o(t[u],v,n)))continue t}g&&g.push(v),l.push(d)}}return l}function Lr(t,e,n){var r=null==(t=Po(t,e=wi(e,t)))?t:t[Do(Zo(e))];return null==r?i:Te(r,t,n)}function Fr(t){return ns(t)&&jr(t)==m}function zr(t,e,n,r,o){return t===e||(null==t||null==e||!ns(t)&&!ns(e)?t!=t&&e!=e:function(t,e,n,r,o,a){var s=$a(t),u=$a(e),c=s?_:vo(t),f=u?_:vo(e),l=(c=c==m?T:c)==T,h=(f=f==m?T:f)==T,p=c==f;if(p&&Xa(t)){if(!Xa(e))return!1;s=!0,l=!1}if(p&&!l)return a||(a=new Vn),s||fs(t)?no(t,e,n,r,o,a):function(t,e,n,r,i,o,a){switch(n){case U:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case E:return!(t.byteLength!=e.byteLength||!o(new $t(t),new $t(e)));case w:case b:case j:return Na(+t,+e);case x:return t.name==e.name&&t.message==e.message;case P:case L:return t==e+"";case C:var s=cn;case O:var u=1&r;if(s||(s=hn),t.size!=e.size&&!u)return!1;var c=a.get(t);if(c)return c==e;r|=2,a.set(t,e);var f=no(s(t),s(e),r,i,o,a);return a.delete(t),f;case F:if(Mn)return Mn.call(t)==Mn.call(e)}return!1}(t,e,c,n,r,o,a);if(!(1&n)){var g=l&&Rt.call(t,"__wrapped__"),d=h&&Rt.call(e,"__wrapped__");if(g||d){var v=g?t.value():t,y=d?e.value():e;return a||(a=new Vn),o(v,y,n,r,a)}}if(!p)return!1;return a||(a=new Vn),function(t,e,n,r,o,a){var s=1&n,u=io(t),c=u.length,f=io(e),l=f.length;if(c!=l&&!s)return!1;var h=c;for(;h--;){var p=u[h];if(!(s?p in e:Rt.call(e,p)))return!1}var g=a.get(t),d=a.get(e);if(g&&d)return g==e&&d==t;var v=!0;a.set(t,e),a.set(e,t);var y=s;for(;++h<c;){var m=t[p=u[h]],_=e[p];if(r)var w=s?r(_,m,p,e,t,a):r(m,_,p,t,e,a);if(!(w===i?m===_||o(m,_,n,r,a):w)){v=!1;break}y||(y="constructor"==p)}if(v&&!y){var b=t.constructor,x=e.constructor;b==x||!("constructor"in t)||!("constructor"in e)||"function"==typeof b&&b instanceof b&&"function"==typeof x&&x instanceof x||(v=!1)}return a.delete(t),a.delete(e),v}(t,e,n,r,o,a)}(t,e,n,r,zr,o))}function Er(t,e,n,r){var o=n.length,a=o,s=!r;if(null==t)return!a;for(t=Tt(t);o--;){var u=n[o];if(s&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++o<a;){var c=(u=n[o])[0],f=t[c],l=u[1];if(s&&u[2]){if(f===i&&!(c in t))return!1}else{var h=new Vn;if(r)var p=r(f,l,c,t,e,h);if(!(p===i?zr(l,f,3,r,h):p))return!1}}return!0}function Ur(t){return!(!es(t)||(e=t,Dt&&Dt in e))&&(Ya(t)?Ht:mt).test(Mo(t));var e}function Rr(t){return"function"==typeof t?t:null==t?iu:"object"==typeof t?$a(t)?Hr(t[0],t[1]):Nr(t):pu(t)}function Ir(t){if(!Co(t))return Ke(t);var e=[];for(var n in Tt(t))Rt.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Dr(t){if(!es(t))return function(t){var e=[];if(null!=t)for(var n in Tt(t))e.push(n);return e}(t);var e=Co(t),n=[];for(var r in t)("constructor"!=r||!e&&Rt.call(t,r))&&n.push(r);return n}function Mr(t,e){return t<e}function Br(t,e){var n=-1,i=qa(t)?r(t.length):[];return pr(t,(function(t,r,o){i[++n]=e(t,r,o)})),i}function Nr(t){var e=lo(t);return 1==e.length&&e[0][2]?To(e[0][0],e[0][1]):function(n){return n===t||Er(n,t,e)}}function Hr(t,e){return xo(t)&&jo(e)?To(Do(t),e):function(n){var r=Ts(n,t);return r===i&&r===e?As(n,t):zr(e,r,3)}}function Gr(t,e,n,r,o){t!==e&&_r(e,(function(a,s){if(o||(o=new Vn),es(a))!function(t,e,n,r,o,a,s){var u=Oo(t,n),c=Oo(e,n),f=s.get(c);if(f)return void er(t,n,f);var l=a?a(u,c,n+"",t,e,s):i,h=l===i;if(h){var p=$a(c),g=!p&&Xa(c),d=!p&&!g&&fs(c);l=c,p||g||d?$a(u)?l=u:Ka(u)?l=Oi(u):g?(h=!1,l=Si(c,!0)):d?(h=!1,l=ji(c,!0)):l=[]:os(c)||Wa(c)?(l=u,Wa(u)?l=ms(u):es(u)&&!Ya(u)||(l=mo(c))):h=!1}h&&(s.set(c,l),o(l,c,r,a,s),s.delete(c));er(t,n,l)}(t,e,s,n,Gr,r,o);else{var u=r?r(Oo(t,s),a,s+"",t,e,o):i;u===i&&(u=a),er(t,s,u)}}),zs)}function Wr(t,e){var n=t.length;if(n)return wo(e+=e<0?n:0,n)?t[e]:i}function $r(t,e,n){e=e.length?Ue(e,(function(t){return $a(t)?function(e){return Sr(e,1===t.length?t[0]:t)}:t})):[iu];var r=-1;e=Ue(e,Qe(co()));var i=Br(t,(function(t,n,i){var o=Ue(e,(function(e){return e(t)}));return{criteria:o,index:++r,value:t}}));return function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(i,(function(t,e){return function(t,e,n){var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;for(;++r<a;){var u=Ti(i[r],o[r]);if(u)return r>=s?u:u*("desc"==n[r]?-1:1)}return t.index-e.index}(t,e,n)}))}function Jr(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var a=e[r],s=Sr(t,a);n(s,a)&&ti(o,wi(a,t),s)}return o}function qr(t,e,n,r){var i=r?We:Ge,o=-1,a=e.length,s=t;for(t===e&&(e=Oi(e)),n&&(s=Ue(t,Qe(n)));++o<a;)for(var u=0,c=e[o],f=n?n(c):c;(u=i(s,f,u,r))>-1;)s!==t&&Vt.call(s,u,1),Vt.call(t,u,1);return t}function Kr(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;wo(i)?Vt.call(t,i,1):hi(t,i)}}return t}function Xr(t,e){return t+ve(kn()*(e-t+1))}function Vr(t,e){var n="";if(!t||e<1||e>g)return n;do{e%2&&(n+=t),(e=ve(e/2))&&(t+=t)}while(e);return n}function Zr(t,e){return zo(Ao(t,e,iu),t+"")}function Yr(t){return Yn(Ns(t))}function Qr(t,e){var n=Ns(t);return Ro(n,ur(e,0,n.length))}function ti(t,e,n,r){if(!es(t))return t;for(var o=-1,a=(e=wi(e,t)).length,s=a-1,u=t;null!=u&&++o<a;){var c=Do(e[o]),f=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return t;if(o!=s){var l=u[c];(f=r?r(l,c,u):i)===i&&(f=es(l)?l:wo(e[o+1])?[]:{})}nr(u,c,f),u=u[c]}return t}var ei=Ln?function(t,e){return Ln.set(t,e),t}:iu,ni=ne?function(t,e){return ne(t,"toString",{configurable:!0,enumerable:!1,value:eu(e),writable:!0})}:iu;function ri(t){return Ro(Ns(t))}function ii(t,e,n){var i=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var a=r(o);++i<o;)a[i]=t[i+e];return a}function oi(t,e){var n;return pr(t,(function(t,r,i){return!(n=e(t,r,i))})),!!n}function ai(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e==e&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=t[o];null!==a&&!cs(a)&&(n?a<=e:a<e)?r=o+1:i=o}return i}return si(t,e,iu,n)}function si(t,e,n,r){var o=0,a=null==t?0:t.length;if(0===a)return 0;for(var s=(e=n(e))!=e,u=null===e,c=cs(e),f=e===i;o<a;){var l=ve((o+a)/2),h=n(t[l]),p=h!==i,g=null===h,d=h==h,v=cs(h);if(s)var y=r||d;else y=f?d&&(r||p):u?d&&p&&(r||!g):c?d&&p&&!g&&(r||!v):!g&&!v&&(r?h<=e:h<e);y?o=l+1:a=l}return wn(a,4294967294)}function ui(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n],s=e?e(a):a;if(!n||!Na(s,u)){var u=s;o[i++]=0===a?0:a}}return o}function ci(t){return"number"==typeof t?t:cs(t)?d:+t}function fi(t){if("string"==typeof t)return t;if($a(t))return Ue(t,fi)+"";if(cs(t))return Bn?Bn.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function li(t,e,n){var r=-1,i=ze,o=t.length,a=!0,s=[],u=s;if(n)a=!1,i=Ee;else if(o>=200){var c=e?null:Vi(t);if(c)return hn(c);a=!1,i=en,u=new Xn}else u=e?[]:s;t:for(;++r<o;){var f=t[r],l=e?e(f):f;if(f=n||0!==f?f:0,a&&l==l){for(var h=u.length;h--;)if(u[h]===l)continue t;e&&u.push(l),s.push(f)}else i(u,l,n)||(u!==s&&u.push(l),s.push(f))}return s}function hi(t,e){return null==(t=Po(t,e=wi(e,t)))||delete t[Do(Zo(e))]}function pi(t,e,n,r){return ti(t,e,n(Sr(t,e)),r)}function gi(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?ii(t,r?0:o,r?o+1:i):ii(t,r?o+1:0,r?i:o)}function di(t,e){var n=t;return n instanceof $n&&(n=n.value()),Ie(e,(function(t,e){return e.func.apply(e.thisArg,Re([t],e.args))}),n)}function vi(t,e,n){var i=t.length;if(i<2)return i?li(t[0]):[];for(var o=-1,a=r(i);++o<i;)for(var s=t[o],u=-1;++u<i;)u!=o&&(a[o]=hr(a[o]||s,t[u],e,n));return li(mr(a,1),e,n)}function yi(t,e,n){for(var r=-1,o=t.length,a=e.length,s={};++r<o;){var u=r<a?e[r]:i;n(s,t[r],u)}return s}function mi(t){return Ka(t)?t:[]}function _i(t){return"function"==typeof t?t:iu}function wi(t,e){return $a(t)?t:xo(t,e)?[t]:Io(_s(t))}var bi=Zr;function xi(t,e,n){var r=t.length;return n=n===i?r:n,!e&&n>=r?t:ii(t,e,n)}var ki=ie||function(t){return de.clearTimeout(t)};function Si(t,e){if(e)return t.slice();var n=t.length,r=Jt?Jt(n):new t.constructor(n);return t.copy(r),r}function Ci(t){var e=new t.constructor(t.byteLength);return new $t(e).set(new $t(t)),e}function ji(t,e){var n=e?Ci(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Ti(t,e){if(t!==e){var n=t!==i,r=null===t,o=t==t,a=cs(t),s=e!==i,u=null===e,c=e==e,f=cs(e);if(!u&&!f&&!a&&t>e||a&&s&&c&&!u&&!f||r&&s&&c||!n&&c||!o)return 1;if(!r&&!a&&!f&&t<e||f&&n&&o&&!r&&!a||u&&n&&o||!s&&o||!c)return-1}return 0}function Ai(t,e,n,i){for(var o=-1,a=t.length,s=n.length,u=-1,c=e.length,f=_n(a-s,0),l=r(c+f),h=!i;++u<c;)l[u]=e[u];for(;++o<s;)(h||o<a)&&(l[n[o]]=t[o]);for(;f--;)l[u++]=t[o++];return l}function Pi(t,e,n,i){for(var o=-1,a=t.length,s=-1,u=n.length,c=-1,f=e.length,l=_n(a-u,0),h=r(l+f),p=!i;++o<l;)h[o]=t[o];for(var g=o;++c<f;)h[g+c]=e[c];for(;++s<u;)(p||o<a)&&(h[g+n[s]]=t[o++]);return h}function Oi(t,e){var n=-1,i=t.length;for(e||(e=r(i));++n<i;)e[n]=t[n];return e}function Li(t,e,n,r){var o=!n;n||(n={});for(var a=-1,s=e.length;++a<s;){var u=e[a],c=r?r(n[u],t[u],u,n,t):i;c===i&&(c=t[u]),o?ar(n,u,c):nr(n,u,c)}return n}function Fi(t,e){return function(n,r){var i=$a(n)?Ae:ir,o=e?e():{};return i(n,t,co(r,2),o)}}function zi(t){return Zr((function(e,n){var r=-1,o=n.length,a=o>1?n[o-1]:i,s=o>2?n[2]:i;for(a=t.length>3&&"function"==typeof a?(o--,a):i,s&&bo(n[0],n[1],s)&&(a=o<3?i:a,o=1),e=Tt(e);++r<o;){var u=n[r];u&&t(e,u,r,a)}return e}))}function Ei(t,e){return function(n,r){if(null==n)return n;if(!qa(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Tt(n);(e?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function Ui(t){return function(e,n,r){for(var i=-1,o=Tt(e),a=r(e),s=a.length;s--;){var u=a[t?s:++i];if(!1===n(o[u],u,o))break}return e}}function Ri(t){return function(e){var n=un(e=_s(e))?dn(e):i,r=n?n[0]:e.charAt(0),o=n?xi(n,1).join(""):e.slice(1);return r[t]()+o}}function Ii(t){return function(e){return Ie(Ys(Ws(e).replace(te,"")),t,"")}}function Di(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Hn(t.prototype),r=t.apply(n,e);return es(r)?r:n}}function Mi(t){return function(e,n,r){var o=Tt(e);if(!qa(e)){var a=co(n,3);e=Fs(e),n=function(t){return a(o[t],t,o)}}var s=t(e,n,r);return s>-1?o[a?e[s]:s]:i}}function Bi(t){return ro((function(e){var n=e.length,r=n,a=Wn.prototype.thru;for(t&&e.reverse();r--;){var s=e[r];if("function"!=typeof s)throw new Ot(o);if(a&&!u&&"wrapper"==so(s))var u=new Wn([],!0)}for(r=u?r:n;++r<n;){var c=so(s=e[r]),f="wrapper"==c?ao(s):i;u=f&&ko(f[0])&&424==f[1]&&!f[4].length&&1==f[9]?u[so(f[0])].apply(u,f[3]):1==s.length&&ko(s)?u[c]():u.thru(s)}return function(){var t=arguments,r=t[0];if(u&&1==t.length&&$a(r))return u.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}}))}function Ni(t,e,n,o,a,s,u,c,f,h){var p=e&l,g=1&e,d=2&e,v=24&e,y=512&e,m=d?i:Di(t);return function l(){for(var _=arguments.length,w=r(_),b=_;b--;)w[b]=arguments[b];if(v)var x=uo(l),k=function(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}(w,x);if(o&&(w=Ai(w,o,a,v)),s&&(w=Pi(w,s,u,v)),_-=k,v&&_<h){var S=ln(w,x);return Ki(t,e,Ni,l.placeholder,n,w,S,c,f,h-_)}var C=g?n:this,j=d?C[t]:t;return _=w.length,c?w=function(t,e){var n=t.length,r=wn(e.length,n),o=Oi(t);for(;r--;){var a=e[r];t[r]=wo(a,n)?o[a]:i}return t}(w,c):y&&_>1&&w.reverse(),p&&f<_&&(w.length=f),this&&this!==de&&this instanceof l&&(j=m||Di(j)),j.apply(C,w)}}function Hi(t,e){return function(n,r){return function(t,e,n,r){return br(t,(function(t,i,o){e(r,n(t),i,o)})),r}(n,t,e(r),{})}}function Gi(t,e){return function(n,r){var o;if(n===i&&r===i)return e;if(n!==i&&(o=n),r!==i){if(o===i)return r;"string"==typeof n||"string"==typeof r?(n=fi(n),r=fi(r)):(n=ci(n),r=ci(r)),o=t(n,r)}return o}}function Wi(t){return ro((function(e){return e=Ue(e,Qe(co())),Zr((function(n){var r=this;return t(e,(function(t){return Te(t,r,n)}))}))}))}function $i(t,e){var n=(e=e===i?" ":fi(e)).length;if(n<2)return n?Vr(e,t):e;var r=Vr(e,ge(t/gn(e)));return un(e)?xi(dn(r),0,t).join(""):r.slice(0,t)}function Ji(t){return function(e,n,o){return o&&"number"!=typeof o&&bo(e,n,o)&&(n=o=i),e=gs(e),n===i?(n=e,e=0):n=gs(n),function(t,e,n,i){for(var o=-1,a=_n(ge((e-t)/(n||1)),0),s=r(a);a--;)s[i?a:++o]=t,t+=n;return s}(e,n,o=o===i?e<n?1:-1:gs(o),t)}}function qi(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=ys(e),n=ys(n)),t(e,n)}}function Ki(t,e,n,r,o,a,s,u,l,h){var p=8&e;e|=p?c:f,4&(e&=~(p?f:c))||(e&=-4);var g=[t,e,o,p?a:i,p?s:i,p?i:a,p?i:s,u,l,h],d=n.apply(i,g);return ko(t)&&Lo(d,g),d.placeholder=r,Eo(d,t,e)}function Xi(t){var e=jt[t];return function(t,n){if(t=ys(t),(n=null==n?0:wn(ds(n),292))&&we(t)){var r=(_s(t)+"e").split("e");return+((r=(_s(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var Vi=An&&1/hn(new An([,-0]))[1]==p?function(t){return new An(t)}:cu;function Zi(t){return function(e){var n=vo(e);return n==C?cn(e):n==O?pn(e):function(t,e){return Ue(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Yi(t,e,n,a,p,g,d,v){var y=2&e;if(!y&&"function"!=typeof t)throw new Ot(o);var m=a?a.length:0;if(m||(e&=-97,a=p=i),d=d===i?d:_n(ds(d),0),v=v===i?v:ds(v),m-=p?p.length:0,e&f){var _=a,w=p;a=p=i}var b=y?i:ao(t),x=[t,e,n,a,p,_,w,g,d,v];if(b&&function(t,e){var n=t[1],r=e[1],i=n|r,o=i<131,a=r==l&&8==n||r==l&&n==h&&t[7].length<=e[8]||384==r&&e[7].length<=e[8]&&8==n;if(!o&&!a)return t;1&r&&(t[2]=e[2],i|=1&n?0:4);var u=e[3];if(u){var c=t[3];t[3]=c?Ai(c,u,e[4]):u,t[4]=c?ln(t[3],s):e[4]}(u=e[5])&&(c=t[5],t[5]=c?Pi(c,u,e[6]):u,t[6]=c?ln(t[5],s):e[6]);(u=e[7])&&(t[7]=u);r&l&&(t[8]=null==t[8]?e[8]:wn(t[8],e[8]));null==t[9]&&(t[9]=e[9]);t[0]=e[0],t[1]=i}(x,b),t=x[0],e=x[1],n=x[2],a=x[3],p=x[4],!(v=x[9]=x[9]===i?y?0:t.length:_n(x[9]-m,0))&&24&e&&(e&=-25),e&&1!=e)k=8==e||e==u?function(t,e,n){var o=Di(t);return function a(){for(var s=arguments.length,u=r(s),c=s,f=uo(a);c--;)u[c]=arguments[c];var l=s<3&&u[0]!==f&&u[s-1]!==f?[]:ln(u,f);return(s-=l.length)<n?Ki(t,e,Ni,a.placeholder,i,u,l,i,i,n-s):Te(this&&this!==de&&this instanceof a?o:t,this,u)}}(t,e,v):e!=c&&33!=e||p.length?Ni.apply(i,x):function(t,e,n,i){var o=1&e,a=Di(t);return function e(){for(var s=-1,u=arguments.length,c=-1,f=i.length,l=r(f+u),h=this&&this!==de&&this instanceof e?a:t;++c<f;)l[c]=i[c];for(;u--;)l[c++]=arguments[++s];return Te(h,o?n:this,l)}}(t,e,n,a);else var k=function(t,e,n){var r=1&e,i=Di(t);return function e(){return(this&&this!==de&&this instanceof e?i:t).apply(r?n:this,arguments)}}(t,e,n);return Eo((b?ei:Lo)(k,x),t,e)}function Qi(t,e,n,r){return t===i||Na(t,zt[n])&&!Rt.call(r,n)?e:t}function to(t,e,n,r,o,a){return es(t)&&es(e)&&(a.set(e,t),Gr(t,e,i,to,a),a.delete(e)),t}function eo(t){return os(t)?i:t}function no(t,e,n,r,o,a){var s=1&n,u=t.length,c=e.length;if(u!=c&&!(s&&c>u))return!1;var f=a.get(t),l=a.get(e);if(f&&l)return f==e&&l==t;var h=-1,p=!0,g=2&n?new Xn:i;for(a.set(t,e),a.set(e,t);++h<u;){var d=t[h],v=e[h];if(r)var y=s?r(v,d,h,e,t,a):r(d,v,h,t,e,a);if(y!==i){if(y)continue;p=!1;break}if(g){if(!Me(e,(function(t,e){if(!en(g,e)&&(d===t||o(d,t,n,r,a)))return g.push(e)}))){p=!1;break}}else if(d!==v&&!o(d,v,n,r,a)){p=!1;break}}return a.delete(t),a.delete(e),p}function ro(t){return zo(Ao(t,i,Jo),t+"")}function io(t){return Cr(t,Fs,po)}function oo(t){return Cr(t,zs,go)}var ao=Ln?function(t){return Ln.get(t)}:cu;function so(t){for(var e=t.name+"",n=Fn[e],r=Rt.call(Fn,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function uo(t){return(Rt.call(Nn,"placeholder")?Nn:t).placeholder}function co(){var t=Nn.iteratee||ou;return t=t===ou?Rr:t,arguments.length?t(arguments[0],arguments[1]):t}function fo(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function lo(t){for(var e=Fs(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,jo(i)]}return e}function ho(t,e){var n=function(t,e){return null==t?i:t[e]}(t,e);return Ur(n)?n:i}var po=ye?function(t){return null==t?[]:(t=Tt(t),Fe(ye(t),(function(e){return Xt.call(t,e)})))}:vu,go=ye?function(t){for(var e=[];t;)Re(e,po(t)),t=qt(t);return e}:vu,vo=jr;function yo(t,e,n){for(var r=-1,i=(e=wi(e,t)).length,o=!1;++r<i;){var a=Do(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&ts(i)&&wo(a,i)&&($a(t)||Wa(t))}function mo(t){return"function"!=typeof t.constructor||Co(t)?{}:Hn(qt(t))}function _o(t){return $a(t)||Wa(t)||!!(Zt&&t&&t[Zt])}function wo(t,e){var n=typeof t;return!!(e=null==e?g:e)&&("number"==n||"symbol"!=n&&wt.test(t))&&t>-1&&t%1==0&&t<e}function bo(t,e,n){if(!es(n))return!1;var r=typeof e;return!!("number"==r?qa(n)&&wo(e,n.length):"string"==r&&e in n)&&Na(n[e],t)}function xo(t,e){if($a(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!cs(t))||(nt.test(t)||!et.test(t)||null!=e&&t in Tt(e))}function ko(t){var e=so(t),n=Nn[e];if("function"!=typeof n||!(e in $n.prototype))return!1;if(t===n)return!0;var r=ao(n);return!!r&&t===r[0]}(Cn&&vo(new Cn(new ArrayBuffer(1)))!=U||jn&&vo(new jn)!=C||Tn&&vo(Tn.resolve())!=A||An&&vo(new An)!=O||Pn&&vo(new Pn)!=z)&&(vo=function(t){var e=jr(t),n=e==T?t.constructor:i,r=n?Mo(n):"";if(r)switch(r){case zn:return U;case En:return C;case Un:return A;case Rn:return O;case In:return z}return e});var So=Et?Ya:yu;function Co(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||zt)}function jo(t){return t==t&&!es(t)}function To(t,e){return function(n){return null!=n&&(n[t]===e&&(e!==i||t in Tt(n)))}}function Ao(t,e,n){return e=_n(e===i?t.length-1:e,0),function(){for(var i=arguments,o=-1,a=_n(i.length-e,0),s=r(a);++o<a;)s[o]=i[e+o];o=-1;for(var u=r(e+1);++o<e;)u[o]=i[o];return u[e]=n(s),Te(t,this,u)}}function Po(t,e){return e.length<2?t:Sr(t,ii(e,0,-1))}function Oo(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var Lo=Uo(ei),Fo=pe||function(t,e){return de.setTimeout(t,e)},zo=Uo(ni);function Eo(t,e,n){var r=e+"";return zo(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(ut,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return Pe(y,(function(n){var r="_."+n[0];e&n[1]&&!ze(t,r)&&t.push(r)})),t.sort()}(function(t){var e=t.match(ct);return e?e[1].split(ft):[]}(r),n)))}function Uo(t){var e=0,n=0;return function(){var r=bn(),o=16-(r-n);if(n=r,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(i,arguments)}}function Ro(t,e){var n=-1,r=t.length,o=r-1;for(e=e===i?r:e;++n<e;){var a=Xr(n,o),s=t[a];t[a]=t[n],t[n]=s}return t.length=e,t}var Io=function(t){var e=Ua(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(rt,(function(t,n,r,i){e.push(r?i.replace(pt,"$1"):n||t)})),e}));function Do(t){if("string"==typeof t||cs(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Mo(t){if(null!=t){try{return Ut.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Bo(t){if(t instanceof $n)return t.clone();var e=new Wn(t.__wrapped__,t.__chain__);return e.__actions__=Oi(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var No=Zr((function(t,e){return Ka(t)?hr(t,mr(e,1,Ka,!0)):[]})),Ho=Zr((function(t,e){var n=Zo(e);return Ka(n)&&(n=i),Ka(t)?hr(t,mr(e,1,Ka,!0),co(n,2)):[]})),Go=Zr((function(t,e){var n=Zo(e);return Ka(n)&&(n=i),Ka(t)?hr(t,mr(e,1,Ka,!0),i,n):[]}));function Wo(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:ds(n);return i<0&&(i=_n(r+i,0)),He(t,co(e,3),i)}function $o(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=r-1;return n!==i&&(o=ds(n),o=n<0?_n(r+o,0):wn(o,r-1)),He(t,co(e,3),o,!0)}function Jo(t){return(null==t?0:t.length)?mr(t,1):[]}function qo(t){return t&&t.length?t[0]:i}var Ko=Zr((function(t){var e=Ue(t,mi);return e.length&&e[0]===t[0]?Or(e):[]})),Xo=Zr((function(t){var e=Zo(t),n=Ue(t,mi);return e===Zo(n)?e=i:n.pop(),n.length&&n[0]===t[0]?Or(n,co(e,2)):[]})),Vo=Zr((function(t){var e=Zo(t),n=Ue(t,mi);return(e="function"==typeof e?e:i)&&n.pop(),n.length&&n[0]===t[0]?Or(n,i,e):[]}));function Zo(t){var e=null==t?0:t.length;return e?t[e-1]:i}var Yo=Zr(Qo);function Qo(t,e){return t&&t.length&&e&&e.length?qr(t,e):t}var ta=ro((function(t,e){var n=null==t?0:t.length,r=sr(t,e);return Kr(t,Ue(e,(function(t){return wo(t,n)?+t:t})).sort(Ti)),r}));function ea(t){return null==t?t:Sn.call(t)}var na=Zr((function(t){return li(mr(t,1,Ka,!0))})),ra=Zr((function(t){var e=Zo(t);return Ka(e)&&(e=i),li(mr(t,1,Ka,!0),co(e,2))})),ia=Zr((function(t){var e=Zo(t);return e="function"==typeof e?e:i,li(mr(t,1,Ka,!0),i,e)}));function oa(t){if(!t||!t.length)return[];var e=0;return t=Fe(t,(function(t){if(Ka(t))return e=_n(t.length,e),!0})),Ze(e,(function(e){return Ue(t,qe(e))}))}function aa(t,e){if(!t||!t.length)return[];var n=oa(t);return null==e?n:Ue(n,(function(t){return Te(e,i,t)}))}var sa=Zr((function(t,e){return Ka(t)?hr(t,e):[]})),ua=Zr((function(t){return vi(Fe(t,Ka))})),ca=Zr((function(t){var e=Zo(t);return Ka(e)&&(e=i),vi(Fe(t,Ka),co(e,2))})),fa=Zr((function(t){var e=Zo(t);return e="function"==typeof e?e:i,vi(Fe(t,Ka),i,e)})),la=Zr(oa);var ha=Zr((function(t){var e=t.length,n=e>1?t[e-1]:i;return n="function"==typeof n?(t.pop(),n):i,aa(t,n)}));function pa(t){var e=Nn(t);return e.__chain__=!0,e}function ga(t,e){return e(t)}var da=ro((function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,o=function(e){return sr(e,t)};return!(e>1||this.__actions__.length)&&r instanceof $n&&wo(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:ga,args:[o],thisArg:i}),new Wn(r,this.__chain__).thru((function(t){return e&&!t.length&&t.push(i),t}))):this.thru(o)}));var va=Fi((function(t,e,n){Rt.call(t,n)?++t[n]:ar(t,n,1)}));var ya=Mi(Wo),ma=Mi($o);function _a(t,e){return($a(t)?Pe:pr)(t,co(e,3))}function wa(t,e){return($a(t)?Oe:gr)(t,co(e,3))}var ba=Fi((function(t,e,n){Rt.call(t,n)?t[n].push(e):ar(t,n,[e])}));var xa=Zr((function(t,e,n){var i=-1,o="function"==typeof e,a=qa(t)?r(t.length):[];return pr(t,(function(t){a[++i]=o?Te(e,t,n):Lr(t,e,n)})),a})),ka=Fi((function(t,e,n){ar(t,n,e)}));function Sa(t,e){return($a(t)?Ue:Br)(t,co(e,3))}var Ca=Fi((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]}));var ja=Zr((function(t,e){if(null==t)return[];var n=e.length;return n>1&&bo(t,e[0],e[1])?e=[]:n>2&&bo(e[0],e[1],e[2])&&(e=[e[0]]),$r(t,mr(e,1),[])})),Ta=fe||function(){return de.Date.now()};function Aa(t,e,n){return e=n?i:e,e=t&&null==e?t.length:e,Yi(t,l,i,i,i,i,e)}function Pa(t,e){var n;if("function"!=typeof e)throw new Ot(o);return t=ds(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=i),n}}var Oa=Zr((function(t,e,n){var r=1;if(n.length){var i=ln(n,uo(Oa));r|=c}return Yi(t,r,e,n,i)})),La=Zr((function(t,e,n){var r=3;if(n.length){var i=ln(n,uo(La));r|=c}return Yi(e,r,t,n,i)}));function Fa(t,e,n){var r,a,s,u,c,f,l=0,h=!1,p=!1,g=!0;if("function"!=typeof t)throw new Ot(o);function d(e){var n=r,o=a;return r=a=i,l=e,u=t.apply(o,n)}function v(t){var n=t-f;return f===i||n>=e||n<0||p&&t-l>=s}function y(){var t=Ta();if(v(t))return m(t);c=Fo(y,function(t){var n=e-(t-f);return p?wn(n,s-(t-l)):n}(t))}function m(t){return c=i,g&&r?d(t):(r=a=i,u)}function _(){var t=Ta(),n=v(t);if(r=arguments,a=this,f=t,n){if(c===i)return function(t){return l=t,c=Fo(y,e),h?d(t):u}(f);if(p)return ki(c),c=Fo(y,e),d(f)}return c===i&&(c=Fo(y,e)),u}return e=ys(e)||0,es(n)&&(h=!!n.leading,s=(p="maxWait"in n)?_n(ys(n.maxWait)||0,e):s,g="trailing"in n?!!n.trailing:g),_.cancel=function(){c!==i&&ki(c),l=0,r=f=a=c=i},_.flush=function(){return c===i?u:m(Ta())},_}var za=Zr((function(t,e){return lr(t,1,e)})),Ea=Zr((function(t,e,n){return lr(t,ys(e)||0,n)}));function Ua(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new Ot(o);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Ua.Cache||Kn),n}function Ra(t){if("function"!=typeof t)throw new Ot(o);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Ua.Cache=Kn;var Ia=bi((function(t,e){var n=(e=1==e.length&&$a(e[0])?Ue(e[0],Qe(co())):Ue(mr(e,1),Qe(co()))).length;return Zr((function(r){for(var i=-1,o=wn(r.length,n);++i<o;)r[i]=e[i].call(this,r[i]);return Te(t,this,r)}))})),Da=Zr((function(t,e){var n=ln(e,uo(Da));return Yi(t,c,i,e,n)})),Ma=Zr((function(t,e){var n=ln(e,uo(Ma));return Yi(t,f,i,e,n)})),Ba=ro((function(t,e){return Yi(t,h,i,i,i,e)}));function Na(t,e){return t===e||t!=t&&e!=e}var Ha=qi(Tr),Ga=qi((function(t,e){return t>=e})),Wa=Fr(function(){return arguments}())?Fr:function(t){return ns(t)&&Rt.call(t,"callee")&&!Xt.call(t,"callee")},$a=r.isArray,Ja=be?Qe(be):function(t){return ns(t)&&jr(t)==E};function qa(t){return null!=t&&ts(t.length)&&!Ya(t)}function Ka(t){return ns(t)&&qa(t)}var Xa=_e||yu,Va=xe?Qe(xe):function(t){return ns(t)&&jr(t)==b};function Za(t){if(!ns(t))return!1;var e=jr(t);return e==x||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!os(t)}function Ya(t){if(!es(t))return!1;var e=jr(t);return e==k||e==S||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Qa(t){return"number"==typeof t&&t==ds(t)}function ts(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=g}function es(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function ns(t){return null!=t&&"object"==typeof t}var rs=ke?Qe(ke):function(t){return ns(t)&&vo(t)==C};function is(t){return"number"==typeof t||ns(t)&&jr(t)==j}function os(t){if(!ns(t)||jr(t)!=T)return!1;var e=qt(t);if(null===e)return!0;var n=Rt.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Ut.call(n)==Bt}var as=Se?Qe(Se):function(t){return ns(t)&&jr(t)==P};var ss=Ce?Qe(Ce):function(t){return ns(t)&&vo(t)==O};function us(t){return"string"==typeof t||!$a(t)&&ns(t)&&jr(t)==L}function cs(t){return"symbol"==typeof t||ns(t)&&jr(t)==F}var fs=je?Qe(je):function(t){return ns(t)&&ts(t.length)&&!!ue[jr(t)]};var ls=qi(Mr),hs=qi((function(t,e){return t<=e}));function ps(t){if(!t)return[];if(qa(t))return us(t)?dn(t):Oi(t);if(Yt&&t[Yt])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[Yt]());var e=vo(t);return(e==C?cn:e==O?hn:Ns)(t)}function gs(t){return t?(t=ys(t))===p||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function ds(t){var e=gs(t),n=e%1;return e==e?n?e-n:e:0}function vs(t){return t?ur(ds(t),0,v):0}function ys(t){if("number"==typeof t)return t;if(cs(t))return d;if(es(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=es(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Ye(t);var n=yt.test(t);return n||_t.test(t)?he(t.slice(2),n?2:8):vt.test(t)?d:+t}function ms(t){return Li(t,zs(t))}function _s(t){return null==t?"":fi(t)}var ws=zi((function(t,e){if(Co(e)||qa(e))Li(e,Fs(e),t);else for(var n in e)Rt.call(e,n)&&nr(t,n,e[n])})),bs=zi((function(t,e){Li(e,zs(e),t)})),xs=zi((function(t,e,n,r){Li(e,zs(e),t,r)})),ks=zi((function(t,e,n,r){Li(e,Fs(e),t,r)})),Ss=ro(sr);var Cs=Zr((function(t,e){t=Tt(t);var n=-1,r=e.length,o=r>2?e[2]:i;for(o&&bo(e[0],e[1],o)&&(r=1);++n<r;)for(var a=e[n],s=zs(a),u=-1,c=s.length;++u<c;){var f=s[u],l=t[f];(l===i||Na(l,zt[f])&&!Rt.call(t,f))&&(t[f]=a[f])}return t})),js=Zr((function(t){return t.push(i,to),Te(Us,i,t)}));function Ts(t,e,n){var r=null==t?i:Sr(t,e);return r===i?n:r}function As(t,e){return null!=t&&yo(t,e,Pr)}var Ps=Hi((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Mt.call(e)),t[e]=n}),eu(iu)),Os=Hi((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Mt.call(e)),Rt.call(t,e)?t[e].push(n):t[e]=[n]}),co),Ls=Zr(Lr);function Fs(t){return qa(t)?Zn(t):Ir(t)}function zs(t){return qa(t)?Zn(t,!0):Dr(t)}var Es=zi((function(t,e,n){Gr(t,e,n)})),Us=zi((function(t,e,n,r){Gr(t,e,n,r)})),Rs=ro((function(t,e){var n={};if(null==t)return n;var r=!1;e=Ue(e,(function(e){return e=wi(e,t),r||(r=e.length>1),e})),Li(t,oo(t),n),r&&(n=cr(n,7,eo));for(var i=e.length;i--;)hi(n,e[i]);return n}));var Is=ro((function(t,e){return null==t?{}:function(t,e){return Jr(t,e,(function(e,n){return As(t,n)}))}(t,e)}));function Ds(t,e){if(null==t)return{};var n=Ue(oo(t),(function(t){return[t]}));return e=co(e),Jr(t,n,(function(t,n){return e(t,n[0])}))}var Ms=Zi(Fs),Bs=Zi(zs);function Ns(t){return null==t?[]:tn(t,Fs(t))}var Hs=Ii((function(t,e,n){return e=e.toLowerCase(),t+(n?Gs(e):e)}));function Gs(t){return Zs(_s(t).toLowerCase())}function Ws(t){return(t=_s(t))&&t.replace(bt,on).replace(ee,"")}var $s=Ii((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),Js=Ii((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),qs=Ri("toLowerCase");var Ks=Ii((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}));var Xs=Ii((function(t,e,n){return t+(n?" ":"")+Zs(e)}));var Vs=Ii((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),Zs=Ri("toUpperCase");function Ys(t,e,n){return t=_s(t),(e=n?i:e)===i?function(t){return oe.test(t)}(t)?function(t){return t.match(re)||[]}(t):function(t){return t.match(lt)||[]}(t):t.match(e)||[]}var Qs=Zr((function(t,e){try{return Te(t,i,e)}catch(t){return Za(t)?t:new St(t)}})),tu=ro((function(t,e){return Pe(e,(function(e){e=Do(e),ar(t,e,Oa(t[e],t))})),t}));function eu(t){return function(){return t}}var nu=Bi(),ru=Bi(!0);function iu(t){return t}function ou(t){return Rr("function"==typeof t?t:cr(t,1))}var au=Zr((function(t,e){return function(n){return Lr(n,t,e)}})),su=Zr((function(t,e){return function(n){return Lr(t,n,e)}}));function uu(t,e,n){var r=Fs(e),i=kr(e,r);null!=n||es(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=kr(e,Fs(e)));var o=!(es(n)&&"chain"in n&&!n.chain),a=Ya(t);return Pe(i,(function(n){var r=e[n];t[n]=r,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__);return(n.__actions__=Oi(this.__actions__)).push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,Re([this.value()],arguments))})})),t}function cu(){}var fu=Wi(Ue),lu=Wi(Le),hu=Wi(Me);function pu(t){return xo(t)?qe(Do(t)):function(t){return function(e){return Sr(e,t)}}(t)}var gu=Ji(),du=Ji(!0);function vu(){return[]}function yu(){return!1}var mu=Gi((function(t,e){return t+e}),0),_u=Xi("ceil"),wu=Gi((function(t,e){return t/e}),1),bu=Xi("floor");var xu,ku=Gi((function(t,e){return t*e}),1),Su=Xi("round"),Cu=Gi((function(t,e){return t-e}),0);return Nn.after=function(t,e){if("function"!=typeof e)throw new Ot(o);return t=ds(t),function(){if(--t<1)return e.apply(this,arguments)}},Nn.ary=Aa,Nn.assign=ws,Nn.assignIn=bs,Nn.assignInWith=xs,Nn.assignWith=ks,Nn.at=Ss,Nn.before=Pa,Nn.bind=Oa,Nn.bindAll=tu,Nn.bindKey=La,Nn.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return $a(t)?t:[t]},Nn.chain=pa,Nn.chunk=function(t,e,n){e=(n?bo(t,e,n):e===i)?1:_n(ds(e),0);var o=null==t?0:t.length;if(!o||e<1)return[];for(var a=0,s=0,u=r(ge(o/e));a<o;)u[s++]=ii(t,a,a+=e);return u},Nn.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i},Nn.concat=function(){var t=arguments.length;if(!t)return[];for(var e=r(t-1),n=arguments[0],i=t;i--;)e[i-1]=arguments[i];return Re($a(n)?Oi(n):[n],mr(e,1))},Nn.cond=function(t){var e=null==t?0:t.length,n=co();return t=e?Ue(t,(function(t){if("function"!=typeof t[1])throw new Ot(o);return[n(t[0]),t[1]]})):[],Zr((function(n){for(var r=-1;++r<e;){var i=t[r];if(Te(i[0],this,n))return Te(i[1],this,n)}}))},Nn.conforms=function(t){return function(t){var e=Fs(t);return function(n){return fr(n,t,e)}}(cr(t,1))},Nn.constant=eu,Nn.countBy=va,Nn.create=function(t,e){var n=Hn(t);return null==e?n:or(n,e)},Nn.curry=function t(e,n,r){var o=Yi(e,8,i,i,i,i,i,n=r?i:n);return o.placeholder=t.placeholder,o},Nn.curryRight=function t(e,n,r){var o=Yi(e,u,i,i,i,i,i,n=r?i:n);return o.placeholder=t.placeholder,o},Nn.debounce=Fa,Nn.defaults=Cs,Nn.defaultsDeep=js,Nn.defer=za,Nn.delay=Ea,Nn.difference=No,Nn.differenceBy=Ho,Nn.differenceWith=Go,Nn.drop=function(t,e,n){var r=null==t?0:t.length;return r?ii(t,(e=n||e===i?1:ds(e))<0?0:e,r):[]},Nn.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?ii(t,0,(e=r-(e=n||e===i?1:ds(e)))<0?0:e):[]},Nn.dropRightWhile=function(t,e){return t&&t.length?gi(t,co(e,3),!0,!0):[]},Nn.dropWhile=function(t,e){return t&&t.length?gi(t,co(e,3),!0):[]},Nn.fill=function(t,e,n,r){var o=null==t?0:t.length;return o?(n&&"number"!=typeof n&&bo(t,e,n)&&(n=0,r=o),function(t,e,n,r){var o=t.length;for((n=ds(n))<0&&(n=-n>o?0:o+n),(r=r===i||r>o?o:ds(r))<0&&(r+=o),r=n>r?0:vs(r);n<r;)t[n++]=e;return t}(t,e,n,r)):[]},Nn.filter=function(t,e){return($a(t)?Fe:yr)(t,co(e,3))},Nn.flatMap=function(t,e){return mr(Sa(t,e),1)},Nn.flatMapDeep=function(t,e){return mr(Sa(t,e),p)},Nn.flatMapDepth=function(t,e,n){return n=n===i?1:ds(n),mr(Sa(t,e),n)},Nn.flatten=Jo,Nn.flattenDeep=function(t){return(null==t?0:t.length)?mr(t,p):[]},Nn.flattenDepth=function(t,e){return(null==t?0:t.length)?mr(t,e=e===i?1:ds(e)):[]},Nn.flip=function(t){return Yi(t,512)},Nn.flow=nu,Nn.flowRight=ru,Nn.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},Nn.functions=function(t){return null==t?[]:kr(t,Fs(t))},Nn.functionsIn=function(t){return null==t?[]:kr(t,zs(t))},Nn.groupBy=ba,Nn.initial=function(t){return(null==t?0:t.length)?ii(t,0,-1):[]},Nn.intersection=Ko,Nn.intersectionBy=Xo,Nn.intersectionWith=Vo,Nn.invert=Ps,Nn.invertBy=Os,Nn.invokeMap=xa,Nn.iteratee=ou,Nn.keyBy=ka,Nn.keys=Fs,Nn.keysIn=zs,Nn.map=Sa,Nn.mapKeys=function(t,e){var n={};return e=co(e,3),br(t,(function(t,r,i){ar(n,e(t,r,i),t)})),n},Nn.mapValues=function(t,e){var n={};return e=co(e,3),br(t,(function(t,r,i){ar(n,r,e(t,r,i))})),n},Nn.matches=function(t){return Nr(cr(t,1))},Nn.matchesProperty=function(t,e){return Hr(t,cr(e,1))},Nn.memoize=Ua,Nn.merge=Es,Nn.mergeWith=Us,Nn.method=au,Nn.methodOf=su,Nn.mixin=uu,Nn.negate=Ra,Nn.nthArg=function(t){return t=ds(t),Zr((function(e){return Wr(e,t)}))},Nn.omit=Rs,Nn.omitBy=function(t,e){return Ds(t,Ra(co(e)))},Nn.once=function(t){return Pa(2,t)},Nn.orderBy=function(t,e,n,r){return null==t?[]:($a(e)||(e=null==e?[]:[e]),$a(n=r?i:n)||(n=null==n?[]:[n]),$r(t,e,n))},Nn.over=fu,Nn.overArgs=Ia,Nn.overEvery=lu,Nn.overSome=hu,Nn.partial=Da,Nn.partialRight=Ma,Nn.partition=Ca,Nn.pick=Is,Nn.pickBy=Ds,Nn.property=pu,Nn.propertyOf=function(t){return function(e){return null==t?i:Sr(t,e)}},Nn.pull=Yo,Nn.pullAll=Qo,Nn.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?qr(t,e,co(n,2)):t},Nn.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?qr(t,e,i,n):t},Nn.pullAt=ta,Nn.range=gu,Nn.rangeRight=du,Nn.rearg=Ba,Nn.reject=function(t,e){return($a(t)?Fe:yr)(t,Ra(co(e,3)))},Nn.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=co(e,3);++r<o;){var a=t[r];e(a,r,t)&&(n.push(a),i.push(r))}return Kr(t,i),n},Nn.rest=function(t,e){if("function"!=typeof t)throw new Ot(o);return Zr(t,e=e===i?e:ds(e))},Nn.reverse=ea,Nn.sampleSize=function(t,e,n){return e=(n?bo(t,e,n):e===i)?1:ds(e),($a(t)?Qn:Qr)(t,e)},Nn.set=function(t,e,n){return null==t?t:ti(t,e,n)},Nn.setWith=function(t,e,n,r){return r="function"==typeof r?r:i,null==t?t:ti(t,e,n,r)},Nn.shuffle=function(t){return($a(t)?tr:ri)(t)},Nn.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&bo(t,e,n)?(e=0,n=r):(e=null==e?0:ds(e),n=n===i?r:ds(n)),ii(t,e,n)):[]},Nn.sortBy=ja,Nn.sortedUniq=function(t){return t&&t.length?ui(t):[]},Nn.sortedUniqBy=function(t,e){return t&&t.length?ui(t,co(e,2)):[]},Nn.split=function(t,e,n){return n&&"number"!=typeof n&&bo(t,e,n)&&(e=n=i),(n=n===i?v:n>>>0)?(t=_s(t))&&("string"==typeof e||null!=e&&!as(e))&&!(e=fi(e))&&un(t)?xi(dn(t),0,n):t.split(e,n):[]},Nn.spread=function(t,e){if("function"!=typeof t)throw new Ot(o);return e=null==e?0:_n(ds(e),0),Zr((function(n){var r=n[e],i=xi(n,0,e);return r&&Re(i,r),Te(t,this,i)}))},Nn.tail=function(t){var e=null==t?0:t.length;return e?ii(t,1,e):[]},Nn.take=function(t,e,n){return t&&t.length?ii(t,0,(e=n||e===i?1:ds(e))<0?0:e):[]},Nn.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?ii(t,(e=r-(e=n||e===i?1:ds(e)))<0?0:e,r):[]},Nn.takeRightWhile=function(t,e){return t&&t.length?gi(t,co(e,3),!1,!0):[]},Nn.takeWhile=function(t,e){return t&&t.length?gi(t,co(e,3)):[]},Nn.tap=function(t,e){return e(t),t},Nn.throttle=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new Ot(o);return es(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Fa(t,e,{leading:r,maxWait:e,trailing:i})},Nn.thru=ga,Nn.toArray=ps,Nn.toPairs=Ms,Nn.toPairsIn=Bs,Nn.toPath=function(t){return $a(t)?Ue(t,Do):cs(t)?[t]:Oi(Io(_s(t)))},Nn.toPlainObject=ms,Nn.transform=function(t,e,n){var r=$a(t),i=r||Xa(t)||fs(t);if(e=co(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:es(t)&&Ya(o)?Hn(qt(t)):{}}return(i?Pe:br)(t,(function(t,r,i){return e(n,t,r,i)})),n},Nn.unary=function(t){return Aa(t,1)},Nn.union=na,Nn.unionBy=ra,Nn.unionWith=ia,Nn.uniq=function(t){return t&&t.length?li(t):[]},Nn.uniqBy=function(t,e){return t&&t.length?li(t,co(e,2)):[]},Nn.uniqWith=function(t,e){return e="function"==typeof e?e:i,t&&t.length?li(t,i,e):[]},Nn.unset=function(t,e){return null==t||hi(t,e)},Nn.unzip=oa,Nn.unzipWith=aa,Nn.update=function(t,e,n){return null==t?t:pi(t,e,_i(n))},Nn.updateWith=function(t,e,n,r){return r="function"==typeof r?r:i,null==t?t:pi(t,e,_i(n),r)},Nn.values=Ns,Nn.valuesIn=function(t){return null==t?[]:tn(t,zs(t))},Nn.without=sa,Nn.words=Ys,Nn.wrap=function(t,e){return Da(_i(e),t)},Nn.xor=ua,Nn.xorBy=ca,Nn.xorWith=fa,Nn.zip=la,Nn.zipObject=function(t,e){return yi(t||[],e||[],nr)},Nn.zipObjectDeep=function(t,e){return yi(t||[],e||[],ti)},Nn.zipWith=ha,Nn.entries=Ms,Nn.entriesIn=Bs,Nn.extend=bs,Nn.extendWith=xs,uu(Nn,Nn),Nn.add=mu,Nn.attempt=Qs,Nn.camelCase=Hs,Nn.capitalize=Gs,Nn.ceil=_u,Nn.clamp=function(t,e,n){return n===i&&(n=e,e=i),n!==i&&(n=(n=ys(n))==n?n:0),e!==i&&(e=(e=ys(e))==e?e:0),ur(ys(t),e,n)},Nn.clone=function(t){return cr(t,4)},Nn.cloneDeep=function(t){return cr(t,5)},Nn.cloneDeepWith=function(t,e){return cr(t,5,e="function"==typeof e?e:i)},Nn.cloneWith=function(t,e){return cr(t,4,e="function"==typeof e?e:i)},Nn.conformsTo=function(t,e){return null==e||fr(t,e,Fs(e))},Nn.deburr=Ws,Nn.defaultTo=function(t,e){return null==t||t!=t?e:t},Nn.divide=wu,Nn.endsWith=function(t,e,n){t=_s(t),e=fi(e);var r=t.length,o=n=n===i?r:ur(ds(n),0,r);return(n-=e.length)>=0&&t.slice(n,o)==e},Nn.eq=Na,Nn.escape=function(t){return(t=_s(t))&&Z.test(t)?t.replace(X,an):t},Nn.escapeRegExp=function(t){return(t=_s(t))&&ot.test(t)?t.replace(it,"\\$&"):t},Nn.every=function(t,e,n){var r=$a(t)?Le:dr;return n&&bo(t,e,n)&&(e=i),r(t,co(e,3))},Nn.find=ya,Nn.findIndex=Wo,Nn.findKey=function(t,e){return Ne(t,co(e,3),br)},Nn.findLast=ma,Nn.findLastIndex=$o,Nn.findLastKey=function(t,e){return Ne(t,co(e,3),xr)},Nn.floor=bu,Nn.forEach=_a,Nn.forEachRight=wa,Nn.forIn=function(t,e){return null==t?t:_r(t,co(e,3),zs)},Nn.forInRight=function(t,e){return null==t?t:wr(t,co(e,3),zs)},Nn.forOwn=function(t,e){return t&&br(t,co(e,3))},Nn.forOwnRight=function(t,e){return t&&xr(t,co(e,3))},Nn.get=Ts,Nn.gt=Ha,Nn.gte=Ga,Nn.has=function(t,e){return null!=t&&yo(t,e,Ar)},Nn.hasIn=As,Nn.head=qo,Nn.identity=iu,Nn.includes=function(t,e,n,r){t=qa(t)?t:Ns(t),n=n&&!r?ds(n):0;var i=t.length;return n<0&&(n=_n(i+n,0)),us(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&Ge(t,e,n)>-1},Nn.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:ds(n);return i<0&&(i=_n(r+i,0)),Ge(t,e,i)},Nn.inRange=function(t,e,n){return e=gs(e),n===i?(n=e,e=0):n=gs(n),function(t,e,n){return t>=wn(e,n)&&t<_n(e,n)}(t=ys(t),e,n)},Nn.invoke=Ls,Nn.isArguments=Wa,Nn.isArray=$a,Nn.isArrayBuffer=Ja,Nn.isArrayLike=qa,Nn.isArrayLikeObject=Ka,Nn.isBoolean=function(t){return!0===t||!1===t||ns(t)&&jr(t)==w},Nn.isBuffer=Xa,Nn.isDate=Va,Nn.isElement=function(t){return ns(t)&&1===t.nodeType&&!os(t)},Nn.isEmpty=function(t){if(null==t)return!0;if(qa(t)&&($a(t)||"string"==typeof t||"function"==typeof t.splice||Xa(t)||fs(t)||Wa(t)))return!t.length;var e=vo(t);if(e==C||e==O)return!t.size;if(Co(t))return!Ir(t).length;for(var n in t)if(Rt.call(t,n))return!1;return!0},Nn.isEqual=function(t,e){return zr(t,e)},Nn.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:i)?n(t,e):i;return r===i?zr(t,e,i,n):!!r},Nn.isError=Za,Nn.isFinite=function(t){return"number"==typeof t&&we(t)},Nn.isFunction=Ya,Nn.isInteger=Qa,Nn.isLength=ts,Nn.isMap=rs,Nn.isMatch=function(t,e){return t===e||Er(t,e,lo(e))},Nn.isMatchWith=function(t,e,n){return n="function"==typeof n?n:i,Er(t,e,lo(e),n)},Nn.isNaN=function(t){return is(t)&&t!=+t},Nn.isNative=function(t){if(So(t))throw new St("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Ur(t)},Nn.isNil=function(t){return null==t},Nn.isNull=function(t){return null===t},Nn.isNumber=is,Nn.isObject=es,Nn.isObjectLike=ns,Nn.isPlainObject=os,Nn.isRegExp=as,Nn.isSafeInteger=function(t){return Qa(t)&&t>=-9007199254740991&&t<=g},Nn.isSet=ss,Nn.isString=us,Nn.isSymbol=cs,Nn.isTypedArray=fs,Nn.isUndefined=function(t){return t===i},Nn.isWeakMap=function(t){return ns(t)&&vo(t)==z},Nn.isWeakSet=function(t){return ns(t)&&"[object WeakSet]"==jr(t)},Nn.join=function(t,e){return null==t?"":Be.call(t,e)},Nn.kebabCase=$s,Nn.last=Zo,Nn.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=r;return n!==i&&(o=(o=ds(n))<0?_n(r+o,0):wn(o,r-1)),e==e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,o):He(t,$e,o,!0)},Nn.lowerCase=Js,Nn.lowerFirst=qs,Nn.lt=ls,Nn.lte=hs,Nn.max=function(t){return t&&t.length?vr(t,iu,Tr):i},Nn.maxBy=function(t,e){return t&&t.length?vr(t,co(e,2),Tr):i},Nn.mean=function(t){return Je(t,iu)},Nn.meanBy=function(t,e){return Je(t,co(e,2))},Nn.min=function(t){return t&&t.length?vr(t,iu,Mr):i},Nn.minBy=function(t,e){return t&&t.length?vr(t,co(e,2),Mr):i},Nn.stubArray=vu,Nn.stubFalse=yu,Nn.stubObject=function(){return{}},Nn.stubString=function(){return""},Nn.stubTrue=function(){return!0},Nn.multiply=ku,Nn.nth=function(t,e){return t&&t.length?Wr(t,ds(e)):i},Nn.noConflict=function(){return de._===this&&(de._=Nt),this},Nn.noop=cu,Nn.now=Ta,Nn.pad=function(t,e,n){t=_s(t);var r=(e=ds(e))?gn(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return $i(ve(i),n)+t+$i(ge(i),n)},Nn.padEnd=function(t,e,n){t=_s(t);var r=(e=ds(e))?gn(t):0;return e&&r<e?t+$i(e-r,n):t},Nn.padStart=function(t,e,n){t=_s(t);var r=(e=ds(e))?gn(t):0;return e&&r<e?$i(e-r,n)+t:t},Nn.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),xn(_s(t).replace(at,""),e||0)},Nn.random=function(t,e,n){if(n&&"boolean"!=typeof n&&bo(t,e,n)&&(e=n=i),n===i&&("boolean"==typeof e?(n=e,e=i):"boolean"==typeof t&&(n=t,t=i)),t===i&&e===i?(t=0,e=1):(t=gs(t),e===i?(e=t,t=0):e=gs(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var o=kn();return wn(t+o*(e-t+le("1e-"+((o+"").length-1))),e)}return Xr(t,e)},Nn.reduce=function(t,e,n){var r=$a(t)?Ie:Xe,i=arguments.length<3;return r(t,co(e,4),n,i,pr)},Nn.reduceRight=function(t,e,n){var r=$a(t)?De:Xe,i=arguments.length<3;return r(t,co(e,4),n,i,gr)},Nn.repeat=function(t,e,n){return e=(n?bo(t,e,n):e===i)?1:ds(e),Vr(_s(t),e)},Nn.replace=function(){var t=arguments,e=_s(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Nn.result=function(t,e,n){var r=-1,o=(e=wi(e,t)).length;for(o||(o=1,t=i);++r<o;){var a=null==t?i:t[Do(e[r])];a===i&&(r=o,a=n),t=Ya(a)?a.call(t):a}return t},Nn.round=Su,Nn.runInContext=t,Nn.sample=function(t){return($a(t)?Yn:Yr)(t)},Nn.size=function(t){if(null==t)return 0;if(qa(t))return us(t)?gn(t):t.length;var e=vo(t);return e==C||e==O?t.size:Ir(t).length},Nn.snakeCase=Ks,Nn.some=function(t,e,n){var r=$a(t)?Me:oi;return n&&bo(t,e,n)&&(e=i),r(t,co(e,3))},Nn.sortedIndex=function(t,e){return ai(t,e)},Nn.sortedIndexBy=function(t,e,n){return si(t,e,co(n,2))},Nn.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=ai(t,e);if(r<n&&Na(t[r],e))return r}return-1},Nn.sortedLastIndex=function(t,e){return ai(t,e,!0)},Nn.sortedLastIndexBy=function(t,e,n){return si(t,e,co(n,2),!0)},Nn.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var n=ai(t,e,!0)-1;if(Na(t[n],e))return n}return-1},Nn.startCase=Xs,Nn.startsWith=function(t,e,n){return t=_s(t),n=null==n?0:ur(ds(n),0,t.length),e=fi(e),t.slice(n,n+e.length)==e},Nn.subtract=Cu,Nn.sum=function(t){return t&&t.length?Ve(t,iu):0},Nn.sumBy=function(t,e){return t&&t.length?Ve(t,co(e,2)):0},Nn.template=function(t,e,n){var r=Nn.templateSettings;n&&bo(t,e,n)&&(e=i),t=_s(t),e=xs({},e,r,Qi);var o,a,s=xs({},e.imports,r.imports,Qi),u=Fs(s),c=tn(s,u),f=0,l=e.interpolate||xt,h="__p += '",p=At((e.escape||xt).source+"|"+l.source+"|"+(l===tt?gt:xt).source+"|"+(e.evaluate||xt).source+"|$","g"),g="//# sourceURL="+(Rt.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++se+"]")+"\n";t.replace(p,(function(e,n,r,i,s,u){return r||(r=i),h+=t.slice(f,u).replace(kt,sn),n&&(o=!0,h+="' +\n__e("+n+") +\n'"),s&&(a=!0,h+="';\n"+s+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),f=u+e.length,e})),h+="';\n";var d=Rt.call(e,"variable")&&e.variable;if(d){if(ht.test(d))throw new St("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(a?h.replace($,""):h).replace(J,"$1").replace(q,"$1;"),h="function("+(d||"obj")+") {\n"+(d?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var v=Qs((function(){return Ct(u,g+"return "+h).apply(i,c)}));if(v.source=h,Za(v))throw v;return v},Nn.times=function(t,e){if((t=ds(t))<1||t>g)return[];var n=v,r=wn(t,v);e=co(e),t-=v;for(var i=Ze(r,e);++n<t;)e(n);return i},Nn.toFinite=gs,Nn.toInteger=ds,Nn.toLength=vs,Nn.toLower=function(t){return _s(t).toLowerCase()},Nn.toNumber=ys,Nn.toSafeInteger=function(t){return t?ur(ds(t),-9007199254740991,g):0===t?t:0},Nn.toString=_s,Nn.toUpper=function(t){return _s(t).toUpperCase()},Nn.trim=function(t,e,n){if((t=_s(t))&&(n||e===i))return Ye(t);if(!t||!(e=fi(e)))return t;var r=dn(t),o=dn(e);return xi(r,nn(r,o),rn(r,o)+1).join("")},Nn.trimEnd=function(t,e,n){if((t=_s(t))&&(n||e===i))return t.slice(0,vn(t)+1);if(!t||!(e=fi(e)))return t;var r=dn(t);return xi(r,0,rn(r,dn(e))+1).join("")},Nn.trimStart=function(t,e,n){if((t=_s(t))&&(n||e===i))return t.replace(at,"");if(!t||!(e=fi(e)))return t;var r=dn(t);return xi(r,nn(r,dn(e))).join("")},Nn.truncate=function(t,e){var n=30,r="...";if(es(e)){var o="separator"in e?e.separator:o;n="length"in e?ds(e.length):n,r="omission"in e?fi(e.omission):r}var a=(t=_s(t)).length;if(un(t)){var s=dn(t);a=s.length}if(n>=a)return t;var u=n-gn(r);if(u<1)return r;var c=s?xi(s,0,u).join(""):t.slice(0,u);if(o===i)return c+r;if(s&&(u+=c.length-u),as(o)){if(t.slice(u).search(o)){var f,l=c;for(o.global||(o=At(o.source,_s(dt.exec(o))+"g")),o.lastIndex=0;f=o.exec(l);)var h=f.index;c=c.slice(0,h===i?u:h)}}else if(t.indexOf(fi(o),u)!=u){var p=c.lastIndexOf(o);p>-1&&(c=c.slice(0,p))}return c+r},Nn.unescape=function(t){return(t=_s(t))&&V.test(t)?t.replace(K,yn):t},Nn.uniqueId=function(t){var e=++It;return _s(t)+e},Nn.upperCase=Vs,Nn.upperFirst=Zs,Nn.each=_a,Nn.eachRight=wa,Nn.first=qo,uu(Nn,(xu={},br(Nn,(function(t,e){Rt.call(Nn.prototype,e)||(xu[e]=t)})),xu),{chain:!1}),Nn.VERSION="4.17.21",Pe(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Nn[t].placeholder=Nn})),Pe(["drop","take"],(function(t,e){$n.prototype[t]=function(n){n=n===i?1:_n(ds(n),0);var r=this.__filtered__&&!e?new $n(this):this.clone();return r.__filtered__?r.__takeCount__=wn(n,r.__takeCount__):r.__views__.push({size:wn(n,v),type:t+(r.__dir__<0?"Right":"")}),r},$n.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),Pe(["filter","map","takeWhile"],(function(t,e){var n=e+1,r=1==n||3==n;$n.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:co(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}})),Pe(["head","last"],(function(t,e){var n="take"+(e?"Right":"");$n.prototype[t]=function(){return this[n](1).value()[0]}})),Pe(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");$n.prototype[t]=function(){return this.__filtered__?new $n(this):this[n](1)}})),$n.prototype.compact=function(){return this.filter(iu)},$n.prototype.find=function(t){return this.filter(t).head()},$n.prototype.findLast=function(t){return this.reverse().find(t)},$n.prototype.invokeMap=Zr((function(t,e){return"function"==typeof t?new $n(this):this.map((function(n){return Lr(n,t,e)}))})),$n.prototype.reject=function(t){return this.filter(Ra(co(t)))},$n.prototype.slice=function(t,e){t=ds(t);var n=this;return n.__filtered__&&(t>0||e<0)?new $n(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==i&&(n=(e=ds(e))<0?n.dropRight(-e):n.take(e-t)),n)},$n.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},$n.prototype.toArray=function(){return this.take(v)},br($n.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),o=Nn[r?"take"+("last"==e?"Right":""):e],a=r||/^find/.test(e);o&&(Nn.prototype[e]=function(){var e=this.__wrapped__,s=r?[1]:arguments,u=e instanceof $n,c=s[0],f=u||$a(e),l=function(t){var e=o.apply(Nn,Re([t],s));return r&&h?e[0]:e};f&&n&&"function"==typeof c&&1!=c.length&&(u=f=!1);var h=this.__chain__,p=!!this.__actions__.length,g=a&&!h,d=u&&!p;if(!a&&f){e=d?e:new $n(this);var v=t.apply(e,s);return v.__actions__.push({func:ga,args:[l],thisArg:i}),new Wn(v,h)}return g&&d?t.apply(this,s):(v=this.thru(l),g?r?v.value()[0]:v.value():v)})})),Pe(["pop","push","shift","sort","splice","unshift"],(function(t){var e=Lt[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);Nn.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply($a(i)?i:[],t)}return this[n]((function(n){return e.apply($a(n)?n:[],t)}))}})),br($n.prototype,(function(t,e){var n=Nn[e];if(n){var r=n.name+"";Rt.call(Fn,r)||(Fn[r]=[]),Fn[r].push({name:e,func:n})}})),Fn[Ni(i,2).name]=[{name:"wrapper",func:i}],$n.prototype.clone=function(){var t=new $n(this.__wrapped__);return t.__actions__=Oi(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Oi(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Oi(this.__views__),t},$n.prototype.reverse=function(){if(this.__filtered__){var t=new $n(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},$n.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=$a(t),r=e<0,i=n?t.length:0,o=function(t,e,n){var r=-1,i=n.length;for(;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=wn(e,t+a);break;case"takeRight":t=_n(t,e-a)}}return{start:t,end:e}}(0,i,this.__views__),a=o.start,s=o.end,u=s-a,c=r?s:a-1,f=this.__iteratees__,l=f.length,h=0,p=wn(u,this.__takeCount__);if(!n||!r&&i==u&&p==u)return di(t,this.__actions__);var g=[];t:for(;u--&&h<p;){for(var d=-1,v=t[c+=e];++d<l;){var y=f[d],m=y.iteratee,_=y.type,w=m(v);if(2==_)v=w;else if(!w){if(1==_)continue t;break t}}g[h++]=v}return g},Nn.prototype.at=da,Nn.prototype.chain=function(){return pa(this)},Nn.prototype.commit=function(){return new Wn(this.value(),this.__chain__)},Nn.prototype.next=function(){this.__values__===i&&(this.__values__=ps(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?i:this.__values__[this.__index__++]}},Nn.prototype.plant=function(t){for(var e,n=this;n instanceof Gn;){var r=Bo(n);r.__index__=0,r.__values__=i,e?o.__wrapped__=r:e=r;var o=r;n=n.__wrapped__}return o.__wrapped__=t,e},Nn.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof $n){var e=t;return this.__actions__.length&&(e=new $n(this)),(e=e.reverse()).__actions__.push({func:ga,args:[ea],thisArg:i}),new Wn(e,this.__chain__)}return this.thru(ea)},Nn.prototype.toJSON=Nn.prototype.valueOf=Nn.prototype.value=function(){return di(this.__wrapped__,this.__actions__)},Nn.prototype.first=Nn.prototype.head,Yt&&(Nn.prototype[Yt]=function(){return this}),Nn}();de._=mn,(r=function(){return mn}.call(e,n,e,t))===i||(t.exports=r)}.call(this)},470:t=>{"use strict";function e(t){if("string"!=typeof t)throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}function n(t,e){for(var n,r="",i=0,o=-1,a=0,s=0;s<=t.length;++s){if(s<t.length)n=t.charCodeAt(s);else{if(47===n)break;n=47}if(47===n){if(o===s-1||1===a);else if(o!==s-1&&2===a){if(r.length<2||2!==i||46!==r.charCodeAt(r.length-1)||46!==r.charCodeAt(r.length-2))if(r.length>2){var u=r.lastIndexOf("/");if(u!==r.length-1){-1===u?(r="",i=0):i=(r=r.slice(0,u)).length-1-r.lastIndexOf("/"),o=s,a=0;continue}}else if(2===r.length||1===r.length){r="",i=0,o=s,a=0;continue}e&&(r.length>0?r+="/..":r="..",i=2)}else r.length>0?r+="/"+t.slice(o+1,s):r=t.slice(o+1,s),i=s-o-1;o=s,a=0}else 46===n&&-1!==a?++a:a=-1}return r}var r={resolve:function(){for(var t,r="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var a;o>=0?a=arguments[o]:(void 0===t&&(t=process.cwd()),a=t),e(a),0!==a.length&&(r=a+"/"+r,i=47===a.charCodeAt(0))}return r=n(r,!i),i?r.length>0?"/"+r:"/":r.length>0?r:"."},normalize:function(t){if(e(t),0===t.length)return".";var r=47===t.charCodeAt(0),i=47===t.charCodeAt(t.length-1);return 0!==(t=n(t,!r)).length||r||(t="."),t.length>0&&i&&(t+="/"),r?"/"+t:t},isAbsolute:function(t){return e(t),t.length>0&&47===t.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var t,n=0;n<arguments.length;++n){var i=arguments[n];e(i),i.length>0&&(void 0===t?t=i:t+="/"+i)}return void 0===t?".":r.normalize(t)},relative:function(t,n){if(e(t),e(n),t===n)return"";if((t=r.resolve(t))===(n=r.resolve(n)))return"";for(var i=1;i<t.length&&47===t.charCodeAt(i);++i);for(var o=t.length,a=o-i,s=1;s<n.length&&47===n.charCodeAt(s);++s);for(var u=n.length-s,c=a<u?a:u,f=-1,l=0;l<=c;++l){if(l===c){if(u>c){if(47===n.charCodeAt(s+l))return n.slice(s+l+1);if(0===l)return n.slice(s+l)}else a>c&&(47===t.charCodeAt(i+l)?f=l:0===l&&(f=0));break}var h=t.charCodeAt(i+l);if(h!==n.charCodeAt(s+l))break;47===h&&(f=l)}var p="";for(l=i+f+1;l<=o;++l)l!==o&&47!==t.charCodeAt(l)||(0===p.length?p+="..":p+="/..");return p.length>0?p+n.slice(s+f):(s+=f,47===n.charCodeAt(s)&&++s,n.slice(s))},_makeLong:function(t){return t},dirname:function(t){if(e(t),0===t.length)return".";for(var n=t.charCodeAt(0),r=47===n,i=-1,o=!0,a=t.length-1;a>=1;--a)if(47===(n=t.charCodeAt(a))){if(!o){i=a;break}}else o=!1;return-1===i?r?"/":".":r&&1===i?"//":t.slice(0,i)},basename:function(t,n){if(void 0!==n&&"string"!=typeof n)throw new TypeError('"ext" argument must be a string');e(t);var r,i=0,o=-1,a=!0;if(void 0!==n&&n.length>0&&n.length<=t.length){if(n.length===t.length&&n===t)return"";var s=n.length-1,u=-1;for(r=t.length-1;r>=0;--r){var c=t.charCodeAt(r);if(47===c){if(!a){i=r+1;break}}else-1===u&&(a=!1,u=r+1),s>=0&&(c===n.charCodeAt(s)?-1==--s&&(o=r):(s=-1,o=u))}return i===o?o=u:-1===o&&(o=t.length),t.slice(i,o)}for(r=t.length-1;r>=0;--r)if(47===t.charCodeAt(r)){if(!a){i=r+1;break}}else-1===o&&(a=!1,o=r+1);return-1===o?"":t.slice(i,o)},extname:function(t){e(t);for(var n=-1,r=0,i=-1,o=!0,a=0,s=t.length-1;s>=0;--s){var u=t.charCodeAt(s);if(47!==u)-1===i&&(o=!1,i=s+1),46===u?-1===n?n=s:1!==a&&(a=1):-1!==n&&(a=-1);else if(!o){r=s+1;break}}return-1===n||-1===i||0===a||1===a&&n===i-1&&n===r+1?"":t.slice(n,i)},format:function(t){if(null===t||"object"!=typeof t)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof t);return function(t,e){var n=e.dir||e.root,r=e.base||(e.name||"")+(e.ext||"");return n?n===e.root?n+r:n+t+r:r}("/",t)},parse:function(t){e(t);var n={root:"",dir:"",base:"",ext:"",name:""};if(0===t.length)return n;var r,i=t.charCodeAt(0),o=47===i;o?(n.root="/",r=1):r=0;for(var a=-1,s=0,u=-1,c=!0,f=t.length-1,l=0;f>=r;--f)if(47!==(i=t.charCodeAt(f)))-1===u&&(c=!1,u=f+1),46===i?-1===a?a=f:1!==l&&(l=1):-1!==a&&(l=-1);else if(!c){s=f+1;break}return-1===a||-1===u||0===l||1===l&&a===u-1&&a===s+1?-1!==u&&(n.base=n.name=0===s&&o?t.slice(1,u):t.slice(s,u)):(0===s&&o?(n.name=t.slice(1,a),n.base=t.slice(1,u)):(n.name=t.slice(s,a),n.base=t.slice(s,u)),n.ext=t.slice(a,u)),s>0?n.dir=t.slice(0,s-1):o&&(n.dir="/"),n},sep:"/",delimiter:":",win32:null,posix:null};r.posix=r,t.exports=r},382:function(){
/** @license zlib.js 2012 - imaya [ https://github.com/imaya/zlib.js ] The MIT License */(function(){"use strict";function t(t){throw t}var e=void 0,n=this;function r(t,r){var i,o=t.split("."),a=n;!(o[0]in a)&&a.execScript&&a.execScript("var "+o[0]);for(;o.length&&(i=o.shift());)o.length||r===e?a=a[i]?a[i]:a[i]={}:a[i]=r}var i,o="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array&&"undefined"!=typeof DataView;for(new(o?Uint8Array:Array)(256),i=0;256>i;++i)for(var a=(a=i)>>>1;a;a>>>=1)0;function s(t,e,n){var r,i="number"==typeof e?e:e=0,o="number"==typeof n?n:t.length;for(r=-1,i=7&o;i--;++e)r=r>>>8^c[255&(r^t[e])];for(i=o>>3;i--;e+=8)r=(r=(r=(r=(r=(r=(r=(r=r>>>8^c[255&(r^t[e])])>>>8^c[255&(r^t[e+1])])>>>8^c[255&(r^t[e+2])])>>>8^c[255&(r^t[e+3])])>>>8^c[255&(r^t[e+4])])>>>8^c[255&(r^t[e+5])])>>>8^c[255&(r^t[e+6])])>>>8^c[255&(r^t[e+7])];return(4294967295^r)>>>0}var u=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],c=o?new Uint32Array(u):u;function f(){}function l(t){var e,n,r,i,a,s,u,c,f,l,h=t.length,p=0,g=Number.POSITIVE_INFINITY;for(c=0;c<h;++c)t[c]>p&&(p=t[c]),t[c]<g&&(g=t[c]);for(e=1<<p,n=new(o?Uint32Array:Array)(e),r=1,i=0,a=2;r<=p;){for(c=0;c<h;++c)if(t[c]===r){for(s=0,u=i,f=0;f<r;++f)s=s<<1|1&u,u>>=1;for(l=r<<16|c,f=s;f<e;f+=a)n[f]=l;++i}++r,i<<=1,a<<=1}return[n,p,g]}f.prototype.getName=function(){return this.name},f.prototype.getData=function(){return this.data},f.prototype.G=function(){return this.H};var h,p=[];for(h=0;288>h;h++)switch(!0){case 143>=h:p.push([h+48,8]);break;case 255>=h:p.push([h-144+400,9]);break;case 279>=h:p.push([h-256+0,7]);break;case 287>=h:p.push([h-280+192,8]);break;default:t("invalid literal: "+h)}var g=function(){function e(e){switch(!0){case 3===e:return[257,e-3,0];case 4===e:return[258,e-4,0];case 5===e:return[259,e-5,0];case 6===e:return[260,e-6,0];case 7===e:return[261,e-7,0];case 8===e:return[262,e-8,0];case 9===e:return[263,e-9,0];case 10===e:return[264,e-10,0];case 12>=e:return[265,e-11,1];case 14>=e:return[266,e-13,1];case 16>=e:return[267,e-15,1];case 18>=e:return[268,e-17,1];case 22>=e:return[269,e-19,2];case 26>=e:return[270,e-23,2];case 30>=e:return[271,e-27,2];case 34>=e:return[272,e-31,2];case 42>=e:return[273,e-35,3];case 50>=e:return[274,e-43,3];case 58>=e:return[275,e-51,3];case 66>=e:return[276,e-59,3];case 82>=e:return[277,e-67,4];case 98>=e:return[278,e-83,4];case 114>=e:return[279,e-99,4];case 130>=e:return[280,e-115,4];case 162>=e:return[281,e-131,5];case 194>=e:return[282,e-163,5];case 226>=e:return[283,e-195,5];case 257>=e:return[284,e-227,5];case 258===e:return[285,e-258,0];default:t("invalid length: "+e)}}var n,r,i=[];for(n=3;258>=n;n++)r=e(n),i[n]=r[2]<<24|r[1]<<16|r[0];return i}();function d(e,n){switch(this.i=[],this.j=32768,this.d=this.f=this.c=this.n=0,this.input=o?new Uint8Array(e):e,this.o=!1,this.k=y,this.w=!1,!n&&(n={})||(n.index&&(this.c=n.index),n.bufferSize&&(this.j=n.bufferSize),n.bufferType&&(this.k=n.bufferType),n.resize&&(this.w=n.resize)),this.k){case v:this.a=32768,this.b=new(o?Uint8Array:Array)(32768+this.j+258);break;case y:this.a=0,this.b=new(o?Uint8Array:Array)(this.j),this.e=this.D,this.q=this.A,this.l=this.C;break;default:t(Error("invalid inflate mode"))}}o&&new Uint32Array(g);var v=0,y=1;d.prototype.g=function(){for(;!this.o;){var n=R(this,3);switch(1&n&&(this.o=!0),n>>>=1){case 0:var r=this.input,i=this.c,a=this.b,s=this.a,u=r.length,c=e,f=a.length,h=e;switch(this.d=this.f=0,i+1>=u&&t(Error("invalid uncompressed block header: LEN")),c=r[i++]|r[i++]<<8,i+1>=u&&t(Error("invalid uncompressed block header: NLEN")),c===~(r[i++]|r[i++]<<8)&&t(Error("invalid uncompressed block header: length verify")),i+c>r.length&&t(Error("input buffer is broken")),this.k){case v:for(;s+c>a.length;){if(c-=h=f-s,o)a.set(r.subarray(i,i+h),s),s+=h,i+=h;else for(;h--;)a[s++]=r[i++];this.a=s,a=this.e(),s=this.a}break;case y:for(;s+c>a.length;)a=this.e({t:2});break;default:t(Error("invalid inflate mode"))}if(o)a.set(r.subarray(i,i+c),s),s+=c,i+=c;else for(;c--;)a[s++]=r[i++];this.c=i,this.a=s,this.b=a;break;case 1:this.l(z,U);break;case 2:var p,g,d,m,_=R(this,5)+257,w=R(this,5)+1,x=R(this,4)+4,k=new(o?Uint8Array:Array)(b.length),S=e,C=e,j=e,T=e,A=e;for(A=0;A<x;++A)k[b[A]]=R(this,3);if(!o)for(A=x,x=k.length;A<x;++A)k[b[A]]=0;for(p=l(k),S=new(o?Uint8Array:Array)(_+w),A=0,m=_+w;A<m;)switch(C=I(this,p),C){case 16:for(T=3+R(this,2);T--;)S[A++]=j;break;case 17:for(T=3+R(this,3);T--;)S[A++]=0;j=0;break;case 18:for(T=11+R(this,7);T--;)S[A++]=0;j=0;break;default:j=S[A++]=C}g=l(o?S.subarray(0,_):S.slice(0,_)),d=l(o?S.subarray(_):S.slice(_)),this.l(g,d);break;default:t(Error("unknown BTYPE: "+n))}}return this.q()};var m,_,w=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],b=o?new Uint16Array(w):w,x=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258],k=o?new Uint16Array(x):x,S=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0],C=o?new Uint8Array(S):S,j=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],T=o?new Uint16Array(j):j,A=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],P=o?new Uint8Array(A):A,O=new(o?Uint8Array:Array)(288);for(m=0,_=O.length;m<_;++m)O[m]=143>=m?8:255>=m?9:279>=m?7:8;var L,F,z=l(O),E=new(o?Uint8Array:Array)(30);for(L=0,F=E.length;L<F;++L)E[L]=5;var U=l(E);function R(e,n){for(var r,i=e.f,o=e.d,a=e.input,s=e.c,u=a.length;o<n;)s>=u&&t(Error("input buffer is broken")),i|=a[s++]<<o,o+=8;return r=i&(1<<n)-1,e.f=i>>>n,e.d=o-n,e.c=s,r}function I(e,n){for(var r,i,o=e.f,a=e.d,s=e.input,u=e.c,c=s.length,f=n[0],l=n[1];a<l&&!(u>=c);)o|=s[u++]<<a,a+=8;return(i=(r=f[o&(1<<l)-1])>>>16)>a&&t(Error("invalid code length: "+i)),e.f=o>>i,e.d=a-i,e.c=u,65535&r}function D(t){this.input=t,this.c=0,this.m=[],this.s=!1}d.prototype.l=function(t,e){var n=this.b,r=this.a;this.r=t;for(var i,o,a,s,u=n.length-258;256!==(i=I(this,t));)if(256>i)r>=u&&(this.a=r,n=this.e(),r=this.a),n[r++]=i;else for(s=k[o=i-257],0<C[o]&&(s+=R(this,C[o])),i=I(this,e),a=T[i],0<P[i]&&(a+=R(this,P[i])),r>=u&&(this.a=r,n=this.e(),r=this.a);s--;)n[r]=n[r++-a];for(;8<=this.d;)this.d-=8,this.c--;this.a=r},d.prototype.C=function(t,e){var n=this.b,r=this.a;this.r=t;for(var i,o,a,s,u=n.length;256!==(i=I(this,t));)if(256>i)r>=u&&(u=(n=this.e()).length),n[r++]=i;else for(s=k[o=i-257],0<C[o]&&(s+=R(this,C[o])),i=I(this,e),a=T[i],0<P[i]&&(a+=R(this,P[i])),r+s>u&&(u=(n=this.e()).length);s--;)n[r]=n[r++-a];for(;8<=this.d;)this.d-=8,this.c--;this.a=r},d.prototype.e=function(){var t,e,n=new(o?Uint8Array:Array)(this.a-32768),r=this.a-32768,i=this.b;if(o)n.set(i.subarray(32768,n.length));else for(t=0,e=n.length;t<e;++t)n[t]=i[t+32768];if(this.i.push(n),this.n+=n.length,o)i.set(i.subarray(r,r+32768));else for(t=0;32768>t;++t)i[t]=i[r+t];return this.a=32768,i},d.prototype.D=function(t){var e,n,r,i=this.input.length/this.c+1|0,a=this.input,s=this.b;return t&&("number"==typeof t.t&&(i=t.t),"number"==typeof t.z&&(i+=t.z)),2>i?n=(r=(a.length-this.c)/this.r[2]/2*258|0)<s.length?s.length+r:s.length<<1:n=s.length*i,o?(e=new Uint8Array(n)).set(s):e=s,this.b=e},d.prototype.q=function(){var t,e,n,r,i,a=0,s=this.b,u=this.i,c=new(o?Uint8Array:Array)(this.n+(this.a-32768));if(0===u.length)return o?this.b.subarray(32768,this.a):this.b.slice(32768,this.a);for(e=0,n=u.length;e<n;++e)for(r=0,i=(t=u[e]).length;r<i;++r)c[a++]=t[r];for(e=32768,n=this.a;e<n;++e)c[a++]=s[e];return this.i=[],this.buffer=c},d.prototype.A=function(){var t,e=this.a;return o?this.w?(t=new Uint8Array(e)).set(this.b.subarray(0,e)):t=this.b.subarray(0,e):(this.b.length>e&&(this.b.length=e),t=this.b),this.buffer=t},D.prototype.F=function(){return this.s||this.g(),this.m.slice()},D.prototype.g=function(){for(var n=this.input.length;this.c<n;){var r,i,a=new f,u=e,c=e,l=e,h=e,p=e,g=e,v=e,y=this.input,m=this.c;if(a.u=y[m++],a.v=y[m++],(31!==a.u||139!==a.v)&&t(Error("invalid file signature:"+a.u+","+a.v)),a.p=y[m++],8===a.p);else t(Error("unknown compression method: "+a.p));if(a.h=y[m++],i=y[m++]|y[m++]<<8|y[m++]<<16|y[m++]<<24,a.H=new Date(1e3*i),a.N=y[m++],a.M=y[m++],0<(4&a.h)&&(a.I=y[m++]|y[m++]<<8,m+=a.I),0<(8&a.h)){for(g=[],p=0;0<(h=y[m++]);)g[p++]=String.fromCharCode(h);a.name=g.join("")}if(0<(16&a.h)){for(g=[],p=0;0<(h=y[m++]);)g[p++]=String.fromCharCode(h);a.J=g.join("")}0<(2&a.h)&&(a.B=65535&s(y,0,m),a.B!==(y[m++]|y[m++]<<8)&&t(Error("invalid header crc16"))),u=y[y.length-4]|y[y.length-3]<<8|y[y.length-2]<<16|y[y.length-1]<<24,y.length-m-4-4<512*u&&(l=u),c=new d(y,{index:m,bufferSize:l}),a.data=r=c.g(),m=c.c,a.K=v=(y[m++]|y[m++]<<8|y[m++]<<16|y[m++]<<24)>>>0,s(r,e,e)!==v&&t(Error("invalid CRC-32 checksum: 0x"+s(r,e,e).toString(16)+" / 0x"+v.toString(16))),a.L=u=(y[m++]|y[m++]<<8|y[m++]<<16|y[m++]<<24)>>>0,(4294967295&r.length)!==u&&t(Error("invalid input size: "+(4294967295&r.length)+" / "+u)),this.m.push(a),this.c=m}this.s=!0;var _,w,b,x=this.m,k=0,S=0;for(_=0,w=x.length;_<w;++_)S+=x[_].data.length;if(o)for(b=new Uint8Array(S),_=0;_<w;++_)b.set(x[_].data,k),k+=x[_].data.length;else{for(b=[],_=0;_<w;++_)b[_]=x[_].data;b=Array.prototype.concat.apply([],b)}return b},r("Zlib.Gunzip",D),r("Zlib.Gunzip.prototype.decompress",D.prototype.g),r("Zlib.Gunzip.prototype.getMembers",D.prototype.F),r("Zlib.GunzipMember",f),r("Zlib.GunzipMember.prototype.getName",f.prototype.getName),r("Zlib.GunzipMember.prototype.getData",f.prototype.getData),r("Zlib.GunzipMember.prototype.getMtime",f.prototype.G)}).call(this)}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={id:r,loaded:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.hmd=t=>((t=Object.create(t)).children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.nmd=t=>(t.paths=[],t.children||(t.children=[]),t);var r={};return(()=>{"use strict";function t(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.r(r),n.d(r,{Card:()=>St,CardShowcase:()=>Ht,version:()=>Gt});const e=class{constructor(){t(this,"pathLoadingMap",{}),t(this,"pathImageMap",{}),t(this,"loadImage",((t,e)=>{let{onLoad:n}=e;if(this.pathImageMap[t])return this.pathImageMap[t];if(!0===this.pathLoadingMap[t])return null;const r=new Image;return r.src=t,this.pathLoadingMap[t]=!0,r.onload=()=>{this.pathLoadingMap[t]=!1,this.pathImageMap[t]=r,null==n||n()},null}))}};var i=n(486),o=n(470),a=n.n(o);const s={Portal:{Leader:"image/leader/portal.png",Follower:{normal:"image/portal/portal.png",LG:"image/portal/portal_LG.png",UR:"image/portal/portal_UR.png",tarot:"image/portal/portal_tarot.png"},FollowerEvo:{normal:"image/portal/portal_evo.png",LG:"image/portal/portal_evo_LG.png",UR:"image/portal/portal_evo_UR.png",tarot:"image/portal/portal_evo_tarot.png",tarotReverse:"image/portal/portal_evo_tarot_reverse.png"},FollowerAdv:{normal:"image/portal/portal_adv.png",LG:"image/portal/portal_adv.png",UR:"image/portal/portal_adv.png",tarot:"image/portal/portal_adv_tarot.png"},Spell:{normal:"image/portal/portal_spell.png",LG:"image/portal/portal_spell_LG.png",UR:"image/portal/portal_spell_UR.png",tarot:"image/portal/portal_spell_tarot.png"},Amulet:{normal:"image/portal/portal_amulet.png",LG:"image/portal/portal_amulet_LG.png",UR:"image/portal/portal_amulet_UR.png",tarot:"image/portal/portal_amulet_tarot.png"},AmuletToken:"image/portal/portal_amulet_token.png",SpellToken:"image/portal/portal_spell_token.png",FollowerToken:"image/portal/portal_token.png",showcase:"image/portal/portal_showcase.png"},Dragon:{Leader:"image/leader/dragon.png",Follower:{normal:"image/dragon/dragon.png",LG:"image/dragon/dragon_LG.png",UR:"image/dragon/dragon_UR.png",tarot:"image/dragon/dragon_tarot.png"},FollowerEvo:{normal:"image/dragon/dragon_evo.png",LG:"image/dragon/dragon_evo_LG.png",UR:"image/dragon/dragon_evo_UR.png",tarot:"image/dragon/dragon_evo_tarot.png",tarotReverse:"image/dragon/dragon_evo_tarot_reverse.png"},FollowerAdv:{normal:"image/dragon/dragon_adv.png",LG:"image/dragon/dragon_adv.png",UR:"image/dragon/dragon_adv.png",tarot:"image/dragon/dragon_adv_tarot.png"},Spell:{normal:"image/dragon/dragon_spell.png",LG:"image/dragon/dragon_spell_LG.png",UR:"image/dragon/dragon_spell_UR.png",tarot:"image/dragon/dragon_spell_tarot.png"},Amulet:{normal:"image/dragon/dragon_amulet.png",LG:"image/dragon/dragon_amulet_LG.png",UR:"image/dragon/dragon_amulet_UR.png",tarot:"image/dragon/dragon_amulet_tarot.png"},AmuletToken:"image/dragon/dragon_amulet_token.png",SpellToken:"image/dragon/dragon_spell_token.png",FollowerToken:"image/dragon/dragon_token.png",showcase:"image/dragon/dragon_showcase.png"},Forest:{Leader:"image/leader/forest.png",Follower:{normal:"image/forest/forest.png",LG:"image/forest/forest_LG.png",UR:"image/forest/forest_UR.png",tarot:"image/forest/forest_tarot.png"},FollowerEvo:{normal:"image/forest/forest_evo.png",LG:"image/forest/forest_evo_LG.png",UR:"image/forest/forest_evo_UR.png",tarot:"image/forest/forest_evo_tarot.png",tarotReverse:"image/forest/forest_evo_tarot_reverse.png"},FollowerAdv:{normal:"image/forest/forest_adv.png",LG:"image/forest/forest_adv.png",UR:"image/forest/forest_adv.png",tarot:"image/forest/forest_adv_tarot.png"},Spell:{normal:"image/forest/forest_spell.png",LG:"image/forest/forest_spell_LG.png",UR:"image/forest/forest_spell_UR.png",tarot:"image/forest/forest_spell_tarot.png"},Amulet:{normal:"image/forest/forest_amulet.png",LG:"image/forest/forest_amulet_LG.png",UR:"image/forest/forest_amulet_UR.png",tarot:"image/forest/forest_amulet_tarot.png"},AmuletToken:"image/forest/forest_amulet_token.png",SpellToken:"image/forest/forest_spell_token.png",FollowerToken:"image/forest/forest_token.png",showcase:"image/forest/forest_showcase.png"},Haven:{Leader:"image/leader/haven.png",Follower:{normal:"image/haven/haven.png",LG:"image/haven/haven_LG.png",UR:"image/haven/haven_UR.png",tarot:"image/haven/haven_tarot.png",tarotReverse:"image/haven/haven_evo_tarot_reverse.png"},FollowerEvo:{normal:"image/haven/haven_evo.png",LG:"image/haven/haven_evo_LG.png",UR:"image/haven/haven_evo_UR.png",tarot:"image/haven/haven_evo_tarot.png"},FollowerAdv:{normal:"image/haven/haven_adv.png",LG:"image/haven/haven_adv.png",UR:"image/haven/haven_adv.png",tarot:"image/haven/haven_adv_tarot.png"},Spell:{normal:"image/haven/haven_spell.png",LG:"image/haven/haven_spell_LG.png",UR:"image/haven/haven_spell_UR.png",tarot:"image/haven/haven_spell_tarot.png"},Amulet:{normal:"image/haven/haven_amulet.png",LG:"image/haven/haven_amulet_LG.png",UR:"image/haven/haven_amulet_UR.png",tarot:"image/haven/haven_amulet_tarot.png"},AmuletToken:"image/haven/haven_amulet_token.png",SpellToken:"image/haven/haven_spell_token.png",FollowerToken:"image/haven/haven_token.png",showcase:"image/haven/haven_showcase.png"},Neutral:{Leader:"image/leader/neutral.png",Follower:{normal:"image/neutral/neutral.png",LG:"image/neutral/neutral_LG.png",UR:"image/neutral/neutral_UR.png",tarot:"image/neutral/neutral_tarot.png"},FollowerEvo:{normal:"image/neutral/neutral_evo.png",LG:"image/neutral/neutral_evo_LG.png",UR:"image/neutral/neutral_evo_UR.png",tarot:"image/neutral/neutral_evo_tarot.png",tarotReverse:"image/neutral/neutral_evo_tarot_reverse.png"},FollowerAdv:{normal:"image/neutral/neutral_adv.png",LG:"image/neutral/neutral_adv.png",UR:"image/neutral/neutral_adv.png",tarot:"image/neutral/neutral_adv_tarot.png"},Spell:{normal:"image/neutral/neutral_spell.png",LG:"image/neutral/neutral_spell_LG.png",UR:"image/neutral/neutral_spell_UR.png",tarot:"image/neutral/neutral_spell_tarot.png"},Amulet:{normal:"image/neutral/neutral_amulet.png",LG:"image/neutral/neutral_amulet_LG.png",UR:"image/neutral/neutral_amulet_UR.png",tarot:"image/neutral/neutral_amulet_tarot.png"},AmuletToken:"image/neutral/neutral_amulet_token.png",SpellToken:"image/neutral/neutral_spell_token.png",FollowerToken:"image/neutral/neutral_token.png",showcase:"image/neutral/neutral_showcase.png",EP:"image/neutral/evolve_point.png"},Abyss:{Leader:"image/leader/abyss.png",Follower:{normal:"image/abyss/abyss.png",LG:"image/abyss/abyss_LG.png",UR:"image/abyss/abyss_UR.png",tarot:"image/abyss/abyss_tarot.png"},FollowerEvo:{normal:"image/abyss/abyss_evo.png",LG:"image/abyss/abyss_evo_LG.png",UR:"image/abyss/abyss_evo_UR.png",tarot:"image/abyss/abyss_evo_tarot.png",tarotReverse:"image/abyss/abyss_evo_tarot_reverse.png"},FollowerAdv:{normal:"image/abyss/abyss_adv.png",LG:"image/abyss/abyss_adv.png",UR:"image/abyss/abyss_adv.png",tarot:"image/abyss/abyss_adv_tarot.png"},Spell:{normal:"image/abyss/abyss_spell.png",LG:"image/abyss/abyss_spell_LG.png",UR:"image/abyss/abyss_spell_UR.png",tarot:"image/abyss/abyss_spell_tarot.png"},Amulet:{normal:"image/abyss/abyss_amulet.png",LG:"image/abyss/abyss_amulet_LG.png",UR:"image/abyss/abyss_amulet_UR.png",tarot:"image/abyss/abyss_amulet_tarot.png"},AmuletToken:"image/abyss/abyss_amulet_token.png",SpellToken:"image/abyss/abyss_spell_token.png",FollowerToken:"image/abyss/abyss_token.png",showcase:"image/abyss/abyss_showcase.png"},Rune:{Leader:"image/leader/rune.png",Follower:{normal:"image/rune/rune.png",LG:"image/rune/rune_LG.png",UR:"image/rune/rune_UR.png",tarot:"image/rune/rune_tarot.png"},FollowerEvo:{normal:"image/rune/rune_evo.png",LG:"image/rune/rune_evo_LG.png",UR:"image/rune/rune_evo_UR.png",tarot:"image/rune/rune_evo_tarot.png",tarotReverse:"image/rune/rune_evo_tarot_reverse.png"},FollowerAdv:{normal:"image/rune/rune_adv.png",LG:"image/rune/rune_adv.png",UR:"image/rune/rune_adv.png",tarot:"image/rune/rune_adv_tarot.png"},Spell:{normal:"image/rune/rune_spell.png",LG:"image/rune/rune_spell_LG.png",UR:"image/rune/rune_spell_UR.png",tarot:"image/rune/rune_spell_tarot.png"},Amulet:{normal:"image/rune/rune_amulet.png",LG:"image/rune/rune_amulet_LG.png",UR:"image/rune/rune_amulet_UR.png",tarot:"image/rune/rune_amulet_tarot.png"},AmuletToken:"image/rune/rune_amulet_token.png",SpellToken:"image/rune/rune_spell_token.png",FollowerToken:"image/rune/rune_token.png",showcase:"image/rune/rune_showcase.png"},Sword:{Leader:"image/leader/sword.png",Follower:{normal:"image/sword/sword.png",LG:"image/sword/sword_LG.png",UR:"image/sword/sword_UR.png",tarot:"image/sword/sword_tarot.png"},FollowerEvo:{normal:"image/sword/sword_evo.png",LG:"image/sword/sword_evo_LG.png",UR:"image/sword/sword_evo_UR.png",tarot:"image/sword/sword_evo_tarot.png",tarotReverse:"image/sword/sword_evo_tarot_reverse.png"},FollowerAdv:{normal:"image/sword/sword_adv.png",LG:"image/sword/sword_adv.png",UR:"image/sword/sword_adv.png",tarot:"image/sword/sword_adv_tarot.png"},Spell:{normal:"image/sword/sword_spell.png",LG:"image/sword/sword_spell_LG.png",UR:"image/sword/sword_spell_UR.png",tarot:"image/sword/sword_spell_tarot.png"},Amulet:{normal:"image/sword/sword_amulet.png",LG:"image/sword/sword_amulet_LG.png",UR:"image/sword/sword_amulet_UR.png",tarot:"image/sword/sword_amulet_tarot.png"},AmuletToken:"image/sword/sword_amulet_token.png",SpellToken:"image/sword/sword_spell_token.png",FollowerToken:"image/sword/sword_token.png",showcase:"image/sword/sword_showcase.png"}},u={src:"image/desc/follower.png",height:50,width:153},c={src:"image/desc/spell.png",height:50,width:155},f={src:"image/desc/amulet.png",height:50,width:153},l={src:"image/desc/evolve.png",height:43,width:124},h={src:"image/desc/token.png",height:50,width:149},p={src:"image/desc/advance.png",height:46,width:153},g={};var d=n(347),v=n.n(d);const y=["。","，","：","』","、","】","」"],m=["【","『","「"],_={"sve-card-ja":{left:["。","，","、","』","】","」"],right:["【","『","「"],center:["："]}},w=(t,e)=>{var n,r,i,o;const a=null!==(n=_[e])&&void 0!==n?n:{};return[...null!==(r=a.left)&&void 0!==r?r:y,...null!==(i=a.right)&&void 0!==i?i:m,...null!==(o=a.center)&&void 0!==o?o:[]].includes(t)},b=(t,e)=>{var n,r;return(null!==(r=(null!==(n=_[e])&&void 0!==n?n:{}).left)&&void 0!==r?r:y).includes(t)},x=(t,e)=>{var n,r;return(null!==(r=(null!==(n=_[e])&&void 0!==n?n:{}).right)&&void 0!==r?r:m).includes(t)},k={"/act":{src:"image/desc/act.png",height:184,width:187,JPText:"《アクト》",CHSText:"《ACT》"},"/quick":{src:"image/desc/quick.png",height:88,width:214,JPText:"《クイック》",CHSText:"《快速》"},"/qs":{src:"image/desc/qs.png",height:184,width:187,JPText:"《Q》",CHSText:"《快速》"},"/start":{src:"image/desc/start.png",height:184,width:187,JPText:"《起動》",CHSText:"《启动》"},"/fanfare":{src:"image/desc/fanfare.png",height:184,width:187,JPText:"《ファンファーレ》",CHSText:"《入场曲》"},"/lastword":{src:"image/desc/lastword.png",height:184,width:187,JPText:"《ラストワード》",CHSText:"《谢幕曲》"},"/attack":{src:"image/desc/attack.png",height:184,width:187,JPText:"《攻撃力》",CHSText:"《攻击力》"},"/defense":{src:"image/desc/defense.png",height:184,width:187,JPText:"《体力》",CHSText:"《体力》"},"/eat":{src:"image/desc/eat.png",height:184,width:187,JPText:"《食事》",CHSText:"《吃饭》"},"/evo":{src:"image/desc/evo.png",height:184,width:187,JPText:"《進化》",CHSText:"《进化》"},"/cost0":{src:"image/desc/cost0.png",height:184,width:187,JPText:"《コスト0》",CHSText:"《花费0》"},"/cost1":{src:"image/desc/cost1.png",height:184,width:187,JPText:"《コスト1》",CHSText:"《花费1》"},"/cost2":{src:"image/desc/cost2.png",height:184,width:187,JPText:"《コスト2》",CHSText:"《花费2》"},"/cost3":{src:"image/desc/cost3.png",height:184,width:187,JPText:"《コスト3》",CHSText:"《花费3》"},"/cost4":{src:"image/desc/cost4.png",height:184,width:187,JPText:"《コスト4》",CHSText:"《花费4》"},"/cost5":{src:"image/desc/cost5.png",height:184,width:187,JPText:"《コスト5》",CHSText:"《花费5》"},"/cost6":{src:"image/desc/cost6.png",height:184,width:187,JPText:"《コスト6》",CHSText:"《花费6》"},"/cost7":{src:"image/desc/cost7.png",height:184,width:187,JPText:"《コスト7》",CHSText:"《花费7》"},"/cost8":{src:"image/desc/cost8.png",height:184,width:187,JPText:"《コスト8》",CHSText:"《花费8》"},"/cost9":{src:"image/desc/cost9.png",height:184,width:187,JPText:"《コスト9》",CHSText:"《花费9》"},"/costx":{src:"image/desc/costx.png",height:184,width:187,JPText:"《コスト10》",CHSText:"《花费10》"},"/costc":{src:"image/desc/costc.png",height:184,width:187,JPText:"《コストX》",CHSText:"《花费X》"},"/forest":{src:"image/desc/forest.png",height:184,width:187,JPText:"《エルフ》",CHSText:"《妖精》"},"/sword":{src:"image/desc/sword.png",height:184,width:187,JPText:"《ロイヤル》",CHSText:"《皇家》"},"/haven":{src:"image/desc/haven.png",height:184,width:187,JPText:"《ビショップ》",CHSText:"《主教》"},"/rune":{src:"image/desc/rune.png",height:184,width:187,JPText:"《ウィッチ》",CHSText:"《巫师》"},"/dragon":{src:"image/desc/dragon.png",height:184,width:187,JPText:"《ドラゴン》",CHSText:"《龙族》"},"/abyss":{src:"image/desc/abyss.png",height:184,width:187,JPText:"《ナイトメア》",CHSText:"《梦魇》"},"/neutral":{src:"image/desc/neutral.png",height:184,width:187,JPText:"《ニュートラル》",CHSText:"《中立》"},"/portal":{src:"image/desc/portal.png",height:184,width:187}},S=((0,i.keys)(k),{handlePunctuation:!1,replaceKeyword:!1,isCHS:!1}),C=(t,e)=>{const n=k[t.text],{height:r,width:i}=n;return i*(e/r)},j=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{iconHeight:r,iconPaddingX:o}=n,a=(0,i.flow)([t=>(0,i.filter)(t,(t=>"char"===t.type)),t=>(0,i.map)(t,(t=>t.text)),t=>(0,i.join)(t,"")])(t),s=e("。"),u=(0,i.filter)(t,(t=>"punctuation"===t.type)),c=(0,i.ceil)(s*(0,i.size)(u)/2),f=(0,i.filter)(t,(t=>"icon"===t.type)),l=(0,i.flow)([t=>(0,i.map)(t,(t=>C(t,r))),i.sum])(f);return e(a)+l+(0,i.size)(f)*(null!=o?o:0)*2+c},T=(t,e,n,r,o,a)=>{let s=((t,e)=>{const n=(0,i.split)(t,"\n"),r=(0,i.remove)(n,((t,n)=>n>=e));return r.length&&(n[e-1]=n[e-1]+(0,i.join)(r,"")),n})(t,n);return s=(0,i.map)(s,(t=>function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,i.defaultsDeep)(n,S);const r=[];let o="",a=!1;const s=t=>n.handlePunctuation&&w(t,e)?{type:"punctuation",text:t,position:b(t,e)?"left":x(t,e)?"right":"center"}:{type:"char",text:t},u=()=>{""!==o&&((0,i.forEach)(o,(t=>{r.push(s(t))})),o="")};return(0,i.forEach)(t,((t,e)=>{"/"===t?(u(),a=!0,o+=t):a?(o+=t,k[o]&&(n.replaceKeyword?(o=n.isCHS?k[o].CHSText:k[o].JPText,u()):r.push({type:"icon",text:o}),o="")):r.push(s(t))})),u(),r}(t,r,o))),((t,e,n,r,o)=>{const a=n=>(0,i.reduce)(t,((t,r)=>t+Math.ceil(n*o(r)/e)),0);let s=1;for(;a(s)>n&&s>0;)s-=.01;return{list:(0,i.flatMap)(t,(t=>{let n=[],a=[];return(0,i.forEach)(t,(t=>{(0,i.isEmpty)(a)&&n.length>0&&w(t.text,r)?n[n.length-1].push(t):(a.push(t),s*o(a)>=e&&(n.push(a),a=[]))})),(0,i.isEmpty)(a)||n.push(a),n})),scale:s}})(s,e,n,r,a)};function A(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function P(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?A(Object(n),!0).forEach((function(e){O(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function O(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const L={BR:"image/rarity/BR.png",GR:"image/rarity/GR.png",SR:"image/rarity/SR.png",LG:"image/rarity/LG.png",UR:"image/rarity/UR.png"},F={"sve-card-cn":"font/cn.ttf","sve-card-ja":"font/ja.otf"},z={onLoadAll:()=>{},onEachStepLoad:()=>{}};class E{constructor(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};O(this,"loadImage",((t,e)=>this.iamgeLoader.loadImage(t,P({onLoad:this.onEachStepLoad},e)))),O(this,"loadRarityImage",(t=>{const e=a().join(this.assetPath,L[t]);if(e)return this.loadImage(e)})),O(this,"loadFrame",(()=>{const t=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,i.defaultsDeep)(e,g);const n=t=>a().join(e.assetPath,t);if("EP"===t.cardType)return n(s.Neutral.EP);const r=s[t.craft],o="LG"===t.rarity,u="UR"===t.rarity,c="Tarot"===t.cardStyle||"TarotReverse"===t.cardStyle;if("Leader"===t.cardType)return n(r[t.cardType]);if(["AmuletToken","SpellToken","FollowerToken"].includes(t.cardType))return n(r[t.cardType]);if(["Spell","Amulet","Follower","FollowerEvo","FollowerAdv"].includes(t.cardType)){const e=r[t.cardType];let i;return c&&!u?(i="tarot","TarotReverse"===t.cardStyle&&"FollowerEvo"===t.cardType&&(i="tarotReverse")):i=o?"LG":u?"UR":"normal",n(e[i])}}(this.data,{assetPath:this.assetPath});if(null!=t)return this.loadImage(t);console.error("无法获取 frame, 请检查 craft, cardType, rarity 是否正确")})),O(this,"loadShowcaseFrame",(()=>{const t=((t,e)=>{(0,i.defaultsDeep)(e,g);const n=s[t.craft];return r=n.showcase,a().join(e.assetPath,r);var r})(this.data,{assetPath:this.assetPath});if(null!=t)return this.loadImage(t);console.error("无法获取 frame, 请检查 craft, cardType, rarity 是否正确")})),O(this,"loadCardImage",(()=>this.loadImage(this.data.imageSrc))),O(this,"loadDescBackground",(t=>{const e=t?"image/UR_desc_background.png":"image/desc_background.png";return this.loadImage(a().join(this.assetPath,e))})),O(this,"loadFont",(async t=>{if(!F[t])return;const e="font-loading-".concat(t);if(this.loadingMap[e])return;this.loadingMap[e]=!0;const n=document.createElement("style");n.setAttribute("type","text/css"),n.setAttribute("crossOrigin","anonymous"),n.setAttribute("class",t);const r="\n            @font-face {\n            font-family: '"+t+"';\n            src: url('"+a().join(this.assetPath,F[t])+"');\n        }";n.appendChild(document.createTextNode(r)),document.head.appendChild(n);const i=new(v())(t);try{var o;await i.load(),null===(o=this.onEachStepLoad)||void 0===o||o.call(this)}catch(t){}})),O(this,"loadNumberSprite",(t=>{const e=t?"image/number/UR.png":"image/number/normal.png";return this.loadImage(a().join(this.assetPath,e))})),O(this,"loadImageAsset",(t=>this.loadImage(a().join(this.assetPath,t)))),O(this,"loadCraftIcon",(()=>{const t=k["/".concat((0,i.lowerCase)(this.data.craft))];return[this.loadImageAsset(t.src),t]})),O(this,"loadAll",(async()=>{})),r=P(P({},z),r),this.config=n,this.data=t,this.onLoadAll=r.onLoadAll,this.onEachStepLoad=r.onEachStepLoad,this.loadingMap={},this.iamgeLoader=new e}get assetPath(){return this.config.assetPath}}const U={0:[0,0,142,210],1:[142,0,118,210],2:[260,0,149,210],3:[409,0,140,210],4:[549,0,172,210],5:[721,0,131,210],6:[852,0,137,210],7:[989,0,137,210],8:[1126,0,146,210],9:[1272,0,134,210]},R={0:[0,0,174,234],1:[174,0,145,234],2:[319,0,174,234],3:[493,0,174,234],4:[667,0,198,234],5:[865,0,174,234],6:[1039,0,174,234],7:[1213,0,174,234],8:[1387,0,174,234],9:[1561,0,174,234]},I={0:[1735,0,142,210],1:[1877,0,118,210],2:[1995,0,149,210],3:[2144,0,140,210],4:[2284,0,172,210],5:[2456,0,131,210],6:[2587,0,137,210],7:[2724,0,137,210],8:[2861,0,146,210],9:[3007,0,134,210]},D={isUR:!1,isCost:!1},M=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,i.defaultsDeep)(e,D);const{isUR:n,isCost:r}=e;return n?U[t]:r?R[t]:I[t]},B="ぁ".charCodeAt(0)-"ァ".charCodeAt(0),N="ァ".charCodeAt(0)-"ぁ".charCodeAt(0),H={NIPPON:"nippon",PASSPORT:"passport",HEPBURN:"hepburn"},G=function(t){return(t=t[0])>="぀"&&t<="ゟ"},W=function(t){return(t=t[0])>="゠"&&t<="ヿ"},$=function(t){return G(t)||W(t)},J=function(t){return(t=t[0])>="一"&&t<="鿏"||t>="豈"&&t<="﫿"||t>="㐀"&&t<="䶿"},q=function(t){return $(t)||J(t)},K=function(t){for(let e=0;e<t.length;e++)if(G(t[e]))return!0;return!1},X=function(t){for(let e=0;e<t.length;e++)if(W(t[e]))return!0;return!1},V=function(t){for(let e=0;e<t.length;e++)if(J(t[e]))return!0;return!1},Z=function(t){for(let e=0;e<t.length;e++)if(q(t[e]))return!0;return!1},Y=function(t){return[...t].map((t=>t>"゠"&&t<"ヷ"?String.fromCharCode(t.charCodeAt(0)+B):t)).join("")},Q=function(t){return[...t].map((t=>t>"぀"&&t<"゗"?String.fromCharCode(t.charCodeAt(0)+N):t)).join("")},tt=function(t,e){const n={nippon:{"１":"1","２":"2","３":"3","４":"4","５":"5","６":"6","７":"7","８":"8","９":"9","０":"0","！":"!","“":'"',"”":'"',"＃":"#","＄":"$","％":"%","＆":"&","’":"'","（":"(","）":")","＝":"=","～":"~","｜":"|","＠":"@","‘":"`","＋":"+","＊":"*","；":";","：":":","＜":"<","＞":">","、":",","。":".","／":"/","？":"?","＿":"_","・":"･","「":'"',"」":'"',"｛":"{","｝":"}","￥":"\\","＾":"^",あ:"a",い:"i",う:"u",え:"e",お:"o",ア:"a",イ:"i",ウ:"u",エ:"e",オ:"o",か:"ka",き:"ki",く:"ku",け:"ke",こ:"ko",カ:"ka",キ:"ki",ク:"ku",ケ:"ke",コ:"ko",さ:"sa",し:"si",す:"su",せ:"se",そ:"so",サ:"sa",シ:"si",ス:"su",セ:"se",ソ:"so",た:"ta",ち:"ti",つ:"tu",て:"te",と:"to",タ:"ta",チ:"ti",ツ:"tu",テ:"te",ト:"to",な:"na",に:"ni",ぬ:"nu",ね:"ne",の:"no",ナ:"na",ニ:"ni",ヌ:"nu",ネ:"ne",ノ:"no",は:"ha",ひ:"hi",ふ:"hu",へ:"he",ほ:"ho",ハ:"ha",ヒ:"hi",フ:"hu",ヘ:"he",ホ:"ho",ま:"ma",み:"mi",む:"mu",め:"me",も:"mo",マ:"ma",ミ:"mi",ム:"mu",メ:"me",モ:"mo",や:"ya",ゆ:"yu",よ:"yo",ヤ:"ya",ユ:"yu",ヨ:"yo",ら:"ra",り:"ri",る:"ru",れ:"re",ろ:"ro",ラ:"ra",リ:"ri",ル:"ru",レ:"re",ロ:"ro",わ:"wa",ゐ:"wi",ゑ:"we",を:"wo",ワ:"wa",ヰ:"wi",ヱ:"we",ヲ:"wo",が:"ga",ぎ:"gi",ぐ:"gu",げ:"ge",ご:"go",ガ:"ga",ギ:"gi",グ:"gu",ゲ:"ge",ゴ:"go",ざ:"za",じ:"zi",ず:"zu",ぜ:"ze",ぞ:"zo",ザ:"za",ジ:"zi",ズ:"zu",ゼ:"ze",ゾ:"zo",だ:"da",ぢ:"di",づ:"du",で:"de",ど:"do",ダ:"da",ヂ:"di",ヅ:"du",デ:"de",ド:"do",ば:"ba",び:"bi",ぶ:"bu",べ:"be",ぼ:"bo",バ:"ba",ビ:"bi",ブ:"bu",ベ:"be",ボ:"bo",ぱ:"pa",ぴ:"pi",ぷ:"pu",ぺ:"pe",ぽ:"po",パ:"pa",ピ:"pi",プ:"pu",ペ:"pe",ポ:"po",きゃ:"kya",きゅ:"kyu",きょ:"kyo",しゃ:"sya",しゅ:"syu",しょ:"syo",ちゃ:"tya",ちゅ:"tyu",ちょ:"tyo",にゃ:"nya",にゅ:"nyu",にょ:"nyo",ひゃ:"hya",ひゅ:"hyu",ひょ:"hyo",みゃ:"mya",みゅ:"myu",みょ:"myo",りゃ:"rya",りゅ:"ryu",りょ:"ryo",キャ:"kya",キュ:"kyu",キョ:"kyo",シャ:"sya",シュ:"syu",ショ:"syo",チャ:"tya",チュ:"tyu",チョ:"tyo",ニャ:"nya",ニュ:"nyu",ニョ:"nyo",ヒャ:"hya",ヒュ:"hyu",ヒョ:"hyo",ミャ:"mya",ミュ:"myu",ミョ:"myo",リャ:"rya",リュ:"ryu",リョ:"ryo",ぎゃ:"gya",ぎゅ:"gyu",ぎょ:"gyo",じゃ:"zya",じゅ:"zyu",じょ:"zyo",ぢゃ:"dya",ぢゅ:"dyu",ぢょ:"dyo",びゃ:"bya",びゅ:"byu",びょ:"byo",ぴゃ:"pya",ぴゅ:"pyu",ぴょ:"pyo",くゎ:"kwa",ぐゎ:"gwa",ギャ:"gya",ギュ:"gyu",ギョ:"gyo",ジャ:"zya",ジュ:"zyu",ジョ:"zyo",ヂャ:"dya",ヂュ:"dyu",ヂョ:"dyo",ビャ:"bya",ビュ:"byu",ビョ:"byo",ピャ:"pya",ピュ:"pyu",ピョ:"pyo",クヮ:"kwa",グヮ:"gwa",ぁ:"a",ぃ:"i",ぅ:"u",ぇ:"e",ぉ:"o",ゃ:"ya",ゅ:"yu",ょ:"yo",ゎ:"wa",ァ:"a",ィ:"i",ゥ:"u",ェ:"e",ォ:"o",ャ:"ya",ュ:"yu",ョ:"yo",ヮ:"wa",ヵ:"ka",ヶ:"ke",ん:"n",ン:"n","　":" ",いぇ:"ye",きぇ:"kye",くぃ:"kwi",くぇ:"kwe",くぉ:"kwo",ぐぃ:"gwi",ぐぇ:"gwe",ぐぉ:"gwo",イェ:"ye",キェ:"kya",クィ:"kwi",クェ:"kwe",クォ:"kwo",グィ:"gwi",グェ:"gwe",グォ:"gwo",しぇ:"sye",じぇ:"zye",すぃ:"swi",ずぃ:"zwi",ちぇ:"tye",つぁ:"twa",つぃ:"twi",つぇ:"twe",つぉ:"two",にぇ:"nye",ひぇ:"hye",ふぁ:"hwa",ふぃ:"hwi",ふぇ:"hwe",ふぉ:"hwo",ふゅ:"hwyu",ふょ:"hwyo",シェ:"sye",ジェ:"zye",スィ:"swi",ズィ:"zwi",チェ:"tye",ツァ:"twa",ツィ:"twi",ツェ:"twe",ツォ:"two",ニェ:"nye",ヒェ:"hye",ファ:"hwa",フィ:"hwi",フェ:"hwe",フォ:"hwo",フュ:"hwyu",フョ:"hwyo"},passport:{"１":"1","２":"2","３":"3","４":"4","５":"5","６":"6","７":"7","８":"8","９":"9","０":"0","！":"!","“":'"',"”":'"',"＃":"#","＄":"$","％":"%","＆":"&","’":"'","（":"(","）":")","＝":"=","～":"~","｜":"|","＠":"@","‘":"`","＋":"+","＊":"*","；":";","：":":","＜":"<","＞":">","、":",","。":".","／":"/","？":"?","＿":"_","・":"･","「":'"',"」":'"',"｛":"{","｝":"}","￥":"\\","＾":"^",あ:"a",い:"i",う:"u",え:"e",お:"o",ア:"a",イ:"i",ウ:"u",エ:"e",オ:"o",か:"ka",き:"ki",く:"ku",け:"ke",こ:"ko",カ:"ka",キ:"ki",ク:"ku",ケ:"ke",コ:"ko",さ:"sa",し:"shi",す:"su",せ:"se",そ:"so",サ:"sa",シ:"shi",ス:"su",セ:"se",ソ:"so",た:"ta",ち:"chi",つ:"tsu",て:"te",と:"to",タ:"ta",チ:"chi",ツ:"tsu",テ:"te",ト:"to",な:"na",に:"ni",ぬ:"nu",ね:"ne",の:"no",ナ:"na",ニ:"ni",ヌ:"nu",ネ:"ne",ノ:"no",は:"ha",ひ:"hi",ふ:"fu",へ:"he",ほ:"ho",ハ:"ha",ヒ:"hi",フ:"fu",ヘ:"he",ホ:"ho",ま:"ma",み:"mi",む:"mu",め:"me",も:"mo",マ:"ma",ミ:"mi",ム:"mu",メ:"me",モ:"mo",や:"ya",ゆ:"yu",よ:"yo",ヤ:"ya",ユ:"yu",ヨ:"yo",ら:"ra",り:"ri",る:"ru",れ:"re",ろ:"ro",ラ:"ra",リ:"ri",ル:"ru",レ:"re",ロ:"ro",わ:"wa",ゐ:"i",ゑ:"e",を:"o",ワ:"wa",ヰ:"i",ヱ:"e",ヲ:"o",が:"ga",ぎ:"gi",ぐ:"gu",げ:"ge",ご:"go",ガ:"ga",ギ:"gi",グ:"gu",ゲ:"ge",ゴ:"go",ざ:"za",じ:"ji",ず:"zu",ぜ:"ze",ぞ:"zo",ザ:"za",ジ:"ji",ズ:"zu",ゼ:"ze",ゾ:"zo",だ:"da",ぢ:"ji",づ:"zu",で:"de",ど:"do",ダ:"da",ヂ:"ji",ヅ:"zu",デ:"de",ド:"do",ば:"ba",び:"bi",ぶ:"bu",べ:"be",ぼ:"bo",バ:"ba",ビ:"bi",ブ:"bu",ベ:"be",ボ:"bo",ぱ:"pa",ぴ:"pi",ぷ:"pu",ぺ:"pe",ぽ:"po",パ:"pa",ピ:"pi",プ:"pu",ペ:"pe",ポ:"po",きゃ:"kya",きゅ:"kyu",きょ:"kyo",しゃ:"sha",しゅ:"shu",しょ:"sho",ちゃ:"cha",ちゅ:"chu",ちょ:"cho",にゃ:"nya",にゅ:"nyu",にょ:"nyo",ひゃ:"hya",ひゅ:"hyu",ひょ:"hyo",みゃ:"mya",みゅ:"myu",みょ:"myo",りゃ:"rya",りゅ:"ryu",りょ:"ryo",キャ:"kya",キュ:"kyu",キョ:"kyo",シャ:"sha",シュ:"shu",ショ:"sho",チャ:"cha",チュ:"chu",チョ:"cho",ニャ:"nya",ニュ:"nyu",ニョ:"nyo",ヒャ:"hya",ヒュ:"hyu",ヒョ:"hyo",ミャ:"mya",ミュ:"myu",ミョ:"myo",リャ:"rya",リュ:"ryu",リョ:"ryo",ぎゃ:"gya",ぎゅ:"gyu",ぎょ:"gyo",じゃ:"ja",じゅ:"ju",じょ:"jo",ぢゃ:"ja",ぢゅ:"ju",ぢょ:"jo",びゃ:"bya",びゅ:"byu",びょ:"byo",ぴゃ:"pya",ぴゅ:"pyu",ぴょ:"pyo",ギャ:"gya",ギュ:"gyu",ギョ:"gyo",ジャ:"ja",ジュ:"ju",ジョ:"jo",ヂャ:"ja",ヂュ:"ju",ヂョ:"jo",ビャ:"bya",ビュ:"byu",ビョ:"byo",ピャ:"pya",ピュ:"pyu",ピョ:"pyo",ぁ:"a",ぃ:"i",ぅ:"u",ぇ:"e",ぉ:"o",ゃ:"ya",ゅ:"yu",ょ:"yo",ゎ:"wa",ァ:"a",ィ:"i",ゥ:"u",ェ:"e",ォ:"o",ャ:"ya",ュ:"yu",ョ:"yo",ヮ:"wa",ヵ:"ka",ヶ:"ke",ん:"n",ン:"n","　":" ",ヴ:"b"},hepburn:{"１":"1","２":"2","３":"3","４":"4","５":"5","６":"6","７":"7","８":"8","９":"9","０":"0","！":"!","“":'"',"”":'"',"＃":"#","＄":"$","％":"%","＆":"&","’":"'","（":"(","）":")","＝":"=","～":"~","｜":"|","＠":"@","‘":"`","＋":"+","＊":"*","；":";","：":":","＜":"<","＞":">","、":",","。":".","／":"/","？":"?","＿":"_","・":"･","「":'"',"」":'"',"｛":"{","｝":"}","￥":"\\","＾":"^",あ:"a",い:"i",う:"u",え:"e",お:"o",ア:"a",イ:"i",ウ:"u",エ:"e",オ:"o",か:"ka",き:"ki",く:"ku",け:"ke",こ:"ko",カ:"ka",キ:"ki",ク:"ku",ケ:"ke",コ:"ko",さ:"sa",し:"shi",す:"su",せ:"se",そ:"so",サ:"sa",シ:"shi",ス:"su",セ:"se",ソ:"so",た:"ta",ち:"chi",つ:"tsu",て:"te",と:"to",タ:"ta",チ:"chi",ツ:"tsu",テ:"te",ト:"to",な:"na",に:"ni",ぬ:"nu",ね:"ne",の:"no",ナ:"na",ニ:"ni",ヌ:"nu",ネ:"ne",ノ:"no",は:"ha",ひ:"hi",ふ:"fu",へ:"he",ほ:"ho",ハ:"ha",ヒ:"hi",フ:"fu",ヘ:"he",ホ:"ho",ま:"ma",み:"mi",む:"mu",め:"me",も:"mo",マ:"ma",ミ:"mi",ム:"mu",メ:"me",モ:"mo",や:"ya",ゆ:"yu",よ:"yo",ヤ:"ya",ユ:"yu",ヨ:"yo",ら:"ra",り:"ri",る:"ru",れ:"re",ろ:"ro",ラ:"ra",リ:"ri",ル:"ru",レ:"re",ロ:"ro",わ:"wa",ゐ:"i",ゑ:"e",を:"o",ワ:"wa",ヰ:"i",ヱ:"e",ヲ:"o",が:"ga",ぎ:"gi",ぐ:"gu",げ:"ge",ご:"go",ガ:"ga",ギ:"gi",グ:"gu",ゲ:"ge",ゴ:"go",ざ:"za",じ:"ji",ず:"zu",ぜ:"ze",ぞ:"zo",ザ:"za",ジ:"ji",ズ:"zu",ゼ:"ze",ゾ:"zo",だ:"da",ぢ:"ji",づ:"zu",で:"de",ど:"do",ダ:"da",ヂ:"ji",ヅ:"zu",デ:"de",ド:"do",ば:"ba",び:"bi",ぶ:"bu",べ:"be",ぼ:"bo",バ:"ba",ビ:"bi",ブ:"bu",ベ:"be",ボ:"bo",ぱ:"pa",ぴ:"pi",ぷ:"pu",ぺ:"pe",ぽ:"po",パ:"pa",ピ:"pi",プ:"pu",ペ:"pe",ポ:"po",きゃ:"kya",きゅ:"kyu",きょ:"kyo",しゃ:"sha",しゅ:"shu",しょ:"sho",ちゃ:"cha",ちゅ:"chu",ちょ:"cho",にゃ:"nya",にゅ:"nyu",にょ:"nyo",ひゃ:"hya",ひゅ:"hyu",ひょ:"hyo",みゃ:"mya",みゅ:"myu",みょ:"myo",りゃ:"rya",りゅ:"ryu",りょ:"ryo",キャ:"kya",キュ:"kyu",キョ:"kyo",シャ:"sha",シュ:"shu",ショ:"sho",チャ:"cha",チュ:"chu",チョ:"cho",ニャ:"nya",ニュ:"nyu",ニョ:"nyo",ヒャ:"hya",ヒュ:"hyu",ヒョ:"hyo",ミャ:"mya",ミュ:"myu",ミョ:"myo",リャ:"rya",リュ:"ryu",リョ:"ryo",ぎゃ:"gya",ぎゅ:"gyu",ぎょ:"gyo",じゃ:"ja",じゅ:"ju",じょ:"jo",ぢゃ:"ja",ぢゅ:"ju",ぢょ:"jo",びゃ:"bya",びゅ:"byu",びょ:"byo",ぴゃ:"pya",ぴゅ:"pyu",ぴょ:"pyo",ギャ:"gya",ギュ:"gyu",ギョ:"gyo",ジャ:"ja",ジュ:"ju",ジョ:"jo",ヂャ:"ja",ヂュ:"ju",ヂョ:"jo",ビャ:"bya",ビュ:"byu",ビョ:"byo",ピャ:"pya",ピュ:"pyu",ピョ:"pyo",ぁ:"a",ぃ:"i",ぅ:"u",ぇ:"e",ぉ:"o",ゃ:"ya",ゅ:"yu",ょ:"yo",ゎ:"wa",ァ:"a",ィ:"i",ゥ:"u",ェ:"e",ォ:"o",ャ:"ya",ュ:"yu",ョ:"yo",ヮ:"wa",ヵ:"ka",ヶ:"ke",ん:"n",ン:"n","　":" ",いぇ:"ye",うぃ:"wi",うぇ:"we",うぉ:"wo",きぇ:"kye",くぁ:"kwa",くぃ:"kwi",くぇ:"kwe",くぉ:"kwo",ぐぁ:"gwa",ぐぃ:"gwi",ぐぇ:"gwe",ぐぉ:"gwo",イェ:"ye",ウィ:"wi",ウェ:"we",ウォ:"wo",ヴ:"vu",ヴァ:"va",ヴィ:"vi",ヴェ:"ve",ヴォ:"vo",ヴュ:"vyu",ヴョ:"vyo",キェ:"kya",クァ:"kwa",クィ:"kwi",クェ:"kwe",クォ:"kwo",グァ:"gwa",グィ:"gwi",グェ:"gwe",グォ:"gwo",しぇ:"she",じぇ:"je",ちぇ:"che",つぁ:"tsa",つぃ:"tsi",つぇ:"tse",つぉ:"tso",てぃ:"ti",てゅ:"tyu",でぃ:"di",でゅ:"dyu",とぅ:"tu",どぅ:"du",にぇ:"nye",ひぇ:"hye",ふぁ:"fa",ふぃ:"fi",ふぇ:"fe",ふぉ:"fo",ふゅ:"fyu",ふょ:"fyo",シェ:"she",ジェ:"je",チェ:"che",ツァ:"tsa",ツィ:"tsi",ツェ:"tse",ツォ:"tso",ティ:"ti",テュ:"tyu",ディ:"di",デュ:"dyu",トゥ:"tu",ドゥ:"du",ニェ:"nye",ヒェ:"hye",ファ:"fa",フィ:"fi",フェ:"fe",フォ:"fo",フュ:"fyu",フョ:"fyo"}};let r,i,o=0,a="";if((e=e||H.HEPBURN)===H.PASSPORT&&(t=t.replace(/ー/gm,"")),e===H.NIPPON||e===H.HEPBURN){const e=new RegExp(/(ん|ン)(?=あ|い|う|え|お|ア|イ|ウ|エ|オ|ぁ|ぃ|ぅ|ぇ|ぉ|ァ|ィ|ゥ|ェ|ォ|や|ゆ|よ|ヤ|ユ|ヨ|ゃ|ゅ|ょ|ャ|ュ|ョ)/g);let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n.index+1);if(0!==r.length){let e="";for(let n=0;n<r.length;n++)e+=0===n?`${t.slice(0,r[n])}'`:`${t.slice(r[n-1],r[n])}'`;e+=t.slice(r[r.length-1]),t=e}}const s=t.length;for(;o<=s;)(i=n[e][t.substring(o,o+2)])?(a+=i,o+=2):(a+=(i=n[e][r=t.substring(o,o+1)])?i:r,o+=1);return a=a.replace(/(っ|ッ)([bcdfghijklmnopqrstuvwyz])/gm,"$2$2"),e!==H.PASSPORT&&e!==H.HEPBURN||(a=a.replace(/cc/gm,"tc")),a=a.replace(/っ|ッ/gm,"tsu"),e!==H.PASSPORT&&e!==H.HEPBURN||(a=a.replace(/nm/gm,"mm"),a=a.replace(/nb/gm,"mb"),a=a.replace(/np/gm,"mp")),e===H.NIPPON&&(a=a.replace(/aー/gm,"â"),a=a.replace(/iー/gm,"î"),a=a.replace(/uー/gm,"û"),a=a.replace(/eー/gm,"ê"),a=a.replace(/oー/gm,"ô")),e===H.HEPBURN&&(a=a.replace(/aー/gm,"ā"),a=a.replace(/iー/gm,"ī"),a=a.replace(/uー/gm,"ū"),a=a.replace(/eー/gm,"ē"),a=a.replace(/oー/gm,"ō")),a},et=function(t){let e=!1,n=!1;for(let r=0;r<t.length;r++)J(t[r])?e=!0:(G(t[r])||W(t[r]))&&(n=!0);return e&&n?1:e?0:n?2:3};class nt{constructor(){this._analyzer=null}async init(t){if(!t||"object"!=typeof t||"function"!=typeof t.init||"function"!=typeof t.parse)throw new Error("Invalid initialization parameter.");if(null!=this._analyzer)throw new Error("Kuroshiro has already been initialized.");await t.init(),this._analyzer=t}async convert(t,e){if((e=e||{}).to=e.to||"hiragana",e.mode=e.mode||"normal",e.romajiSystem=e.romajiSystem||H.HEPBURN,e.delimiter_start=e.delimiter_start||"(",e.delimiter_end=e.delimiter_end||")",t=t||"",-1===["hiragana","katakana","romaji"].indexOf(e.to))throw new Error("Invalid Target Syllabary.");if(-1===["normal","spaced","okurigana","furigana"].indexOf(e.mode))throw new Error("Invalid Conversion Mode.");if(-1===Object.keys(H).map((t=>H[t])).indexOf(e.romajiSystem))throw new Error("Invalid Romanization System.");const n=function(t){for(let e=0;e<t.length;e++)Z(t[e].surface_form)?t[e].reading?K(t[e].reading)&&(t[e].reading=Q(t[e].reading)):t[e].surface_form.split("").every($)?t[e].reading=Q(t[e].surface_form):t[e].reading=t[e].surface_form:t[e].reading=t[e].surface_form;for(let e=0;e<t.length;e++)!t[e].pos||"助動詞"!==t[e].pos||"う"!==t[e].surface_form&&"ウ"!==t[e].surface_form||e-1>=0&&t[e-1].pos&&"動詞"===t[e-1].pos&&(t[e-1].surface_form+="う",t[e-1].pronunciation?t[e-1].pronunciation+="ー":t[e-1].pronunciation=`${t[e-1].reading}ー`,t[e-1].reading+="ウ",t.splice(e,1),e--);for(let e=0;e<t.length;e++)t[e].pos&&("動詞"===t[e].pos||"形容詞"===t[e].pos)&&t[e].surface_form.length>1&&("っ"===t[e].surface_form[t[e].surface_form.length-1]||"ッ"===t[e].surface_form[t[e].surface_form.length-1])&&e+1<t.length&&(t[e].surface_form+=t[e+1].surface_form,t[e].pronunciation?t[e].pronunciation+=t[e+1].pronunciation:t[e].pronunciation=`${t[e].reading}${t[e+1].reading}`,t[e].reading+=t[e+1].reading,t.splice(e+1,1),e--);return t}(await this._analyzer.parse(t));if("normal"===e.mode||"spaced"===e.mode)switch(e.to){case"katakana":return"normal"===e.mode?n.map((t=>t.reading)).join(""):n.map((t=>t.reading)).join(" ");case"romaji":const t=t=>{let n;return n=Z(t.surface_form)?t.pronunciation||t.reading:t.surface_form,tt(n,e.romajiSystem)};return"normal"===e.mode?n.map(t).join(""):n.map(t).join(" ");case"hiragana":for(let t=0;t<n.length;t++)if(V(n[t].surface_form))if(X(n[t].surface_form)){n[t].reading=Y(n[t].reading);let e="",r="";for(let e=0;e<n[t].surface_form.length;e++)J(n[t].surface_form[e])?r+="(.*)":r+=W(n[t].surface_form[e])?Y(n[t].surface_form[e]):n[t].surface_form[e];const i=new RegExp(r).exec(n[t].reading);if(i){let r=0;for(let o=0;o<n[t].surface_form.length;o++)J(n[t].surface_form[o])?(e+=i[r+1],r++):e+=n[t].surface_form[o];n[t].reading=e}}else n[t].reading=Y(n[t].reading);else n[t].reading=n[t].surface_form;return"normal"===e.mode?n.map((t=>t.reading)).join(""):n.map((t=>t.reading)).join(" ");default:throw new Error("Unknown option.to param")}else if("okurigana"===e.mode||"furigana"===e.mode){const t=[];for(let e=0;e<n.length;e++){switch(et(n[e].surface_form)){case 0:t.push([n[e].surface_form,1,Y(n[e].reading),n[e].pronunciation||n[e].reading]);break;case 1:let r="",i=!1;const o=[];for(let t=0;t<n[e].surface_form.length;t++)J(n[e].surface_form[t])?i?o[o.length-1]+=n[e].surface_form[t]:(i=!0,r+="(.+)",o.push(n[e].surface_form[t])):(i=!1,o.push(n[e].surface_form[t]),r+=W(n[e].surface_form[t])?Y(n[e].surface_form[t]):n[e].surface_form[t]);const a=new RegExp(`^${r}$`).exec(Y(n[e].reading));if(a){let e=1;for(let n=0;n<o.length;n++)J(o[n][0])?(t.push([o[n],1,a[e],Q(a[e])]),e+=1):t.push([o[n],2,Y(o[n]),Q(o[n])])}else t.push([n[e].surface_form,1,Y(n[e].reading),n[e].pronunciation||n[e].reading]);break;case 2:for(let r=0;r<n[e].surface_form.length;r++)t.push([n[e].surface_form[r],2,Y(n[e].reading[r]),n[e].pronunciation&&n[e].pronunciation[r]||n[e].reading[r]]);break;case 3:for(let r=0;r<n[e].surface_form.length;r++)t.push([n[e].surface_form[r],3,n[e].surface_form[r],n[e].surface_form[r]]);break;default:throw new Error("Unknown strType")}}let r="";switch(e.to){case"katakana":if("okurigana"===e.mode)for(let n=0;n<t.length;n++)1!==t[n][1]?r+=t[n][0]:r+=t[n][0]+e.delimiter_start+Q(t[n][2])+e.delimiter_end;else for(let n=0;n<t.length;n++)1!==t[n][1]?r+=t[n][0]:r+=`<ruby>${t[n][0]}<rp>${e.delimiter_start}</rp><rt>${Q(t[n][2])}</rt><rp>${e.delimiter_end}</rp></ruby>`;return r;case"romaji":if("okurigana"===e.mode)for(let n=0;n<t.length;n++)1!==t[n][1]?r+=t[n][0]:r+=t[n][0]+e.delimiter_start+tt(t[n][3],e.romajiSystem)+e.delimiter_end;else{r+="<ruby>";for(let n=0;n<t.length;n++)r+=`${t[n][0]}<rp>${e.delimiter_start}</rp><rt>${tt(t[n][3],e.romajiSystem)}</rt><rp>${e.delimiter_end}</rp>`;r+="</ruby>"}return r;case"hiragana":if("okurigana"===e.mode)for(let n=0;n<t.length;n++)1!==t[n][1]?r+=t[n][0]:r+=t[n][0]+e.delimiter_start+t[n][2]+e.delimiter_end;else for(let n=0;n<t.length;n++)1!==t[n][1]?r+=t[n][0]:r+=`<ruby>${t[n][0]}<rp>${e.delimiter_start}</rp><rt>${t[n][2]}</rt><rp>${e.delimiter_end}</rp></ruby>`;return r;default:throw new Error("Invalid Target Syllabary.")}}}}const rt={isHiragana:G,isKatakana:W,isKana:$,isKanji:J,isJapanese:q,hasHiragana:K,hasKatakana:X,hasKana:function(t){for(let e=0;e<t.length;e++)if($(t[e]))return!0;return!1},hasKanji:V,hasJapanese:Z,kanaToHiragna:function(t){return Y(t)},kanaToKatakana:function(t){return Q(t)},kanaToRomaji:function(t,e){return tt(t,e)}};nt.Util=rt;const it=nt;var ot=n(656);function at(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const st=class{constructor(t){at(this,"kuroshiro",null),at(this,"previousDictPath",null),at(this,"inited",!1),at(this,"initKuroshiro",(async()=>{const t=this.config.kuroshiro.dictPath;null==this.kuroshiro&&this.previousDictPath!==t&&(this.inited=!1,this.kuroshiro=new it,this.previousDictPath=t,await this.kuroshiro.init(new ot.Z({dictPath:t})),this.inited=!0)})),at(this,"annotateAsync",(async t=>{if(window&&window.DOMParser){if(await this.initKuroshiro(),!this.inited)return t;const e=await this.kuroshiro.convert(t,{mode:"furigana",to:"hiragana"}),n=(new window.DOMParser).parseFromString(e,"text/html"),r=[];return(0,i.forEach)(n.body.childNodes,(t=>{let e;e="RUBY"===t.nodeName?{type:"RUBY",text:t.childNodes[0].nodeValue,annotation:t.childNodes[2].innerText}:{type:"TEXT",text:t.nodeValue},r.push(e)})),r}return t})),at(this,"previousHashCode",null),at(this,"previousResult",null),at(this,"annotate",((t,e)=>{if(!t)return t;const n=t.split("").reduce(((t,e)=>(t<<5)-t+e.charCodeAt(0)|0),0);return n===this.previousHashCode&&null!=this.previousResult?this.previousResult:(this.annotateAsync(t).then((t=>{this.previousResult=t,this.previousHashCode=n,"function"==typeof e&&e()})),t)})),this.config=t}};function ut(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const ct=class{constructor(t,e,n){ut(this,"drawText",((t,e,n)=>{if(null!=t){var r,i;if(this.assetManager.loadFont(e.fontFamily),this.canvasContext.save(),this.canvasContext.font="".concat(e.fontWeight?"".concat(e.fontWeight," "):"").concat(e.fontSize,"px ").concat(e.fontFamily),e.textBaseline&&(this.canvasContext.textBaseline=e.textBaseline),e.textAlign&&(this.canvasContext.textAlign=e.textAlign),null==n||n(),e.shadowLine)this.canvasContext.shadowColor=null!==(r=e.shadowColor)&&void 0!==r?r:"black",this.canvasContext.shadowBlur=null!==(i=e.shadowBlur)&&void 0!==i?i:0,this.canvasContext.lineWidth=e.shadowLine,this.canvasContext.strokeText(t,...e.position);this.canvasContext.fillStyle=e.color,this.canvasContext.fillText(t,...e.position),this.canvasContext.restore()}})),ut(this,"ctxMeasureTextWidth",(t=>this.canvasContext.measureText(t).width)),ut(this,"mesuareText",((t,e)=>{if(null!=t){this.assetManager.loadFont(e.fontFamily),this.canvasContext.save(),this.canvasContext.font="".concat(e.fontSize,"px ").concat(e.fontFamily);const n=this.ctxMeasureTextWidth(t);return this.canvasContext.restore(),n}return 0})),ut(this,"drawNumber",((t,e,n)=>{const r=this.assetManager.loadNumberSprite(this.isUR);if(null!=t&&r){const o=(0,i.split)(t,""),a=(0,i.map)(o,(t=>M(t,{isUR:this.isUR,isCost:n})));if((0,i.compact)(a).length>0){let t=(0,i.map)(a,(t=>{const n=e.fontSize,r=n/t[3];return[t[2]*r,n]})),n=(0,i.sumBy)(t,(t=>t[0]));if(n>e.position[2]){const r=n/e.position[2];t=(0,i.map)(t,(t=>[t[0]/r,t[1]])),n=(0,i.sumBy)(t,(t=>t[0]))}let s=e.position[0];"center"===e.textAlign&&(s=e.position[0]-n/2);const u=e.position[1]-e.fontSize/2;let c=0;(0,i.forEach)(o,((e,n)=>{this.drawImage(r,...a[n],s+c,u,...t[n]),c+=t[n][0]}))}}})),this.data=t,this.assetManager=n,this.canvasContext=e.getContext("2d"),this.canvas=e}get isUR(){return"UR"===this.data.rarity}get isLeader(){return"Leader"===this.data.cardType}get isEvo(){return t=this.data,["FollowerEvo"].includes(t.cardType);var t}get isLG(){return"LG"===this.data.rarity}get isToken(){return t=this.data,["AmuletToken","FollowerToken","SpellToken"].includes(t.cardType);var t}get isNoStatus(){return t=this.data,["Spell","Amulet","SpellToken","AmuletToken","EP"].includes(t.cardType);var t}get isFollower(){return t=this.data,["Follower","FollowerEvo","FollowerAdv","FollowerToken"].includes(t.cardType);var t}get isSpell(){return t=this.data,["Spell","SpellToken"].includes(t.cardType);var t}get isAmulet(){return t=this.data,["Amulet","AmuletToken"].includes(t.cardType);var t}get isEP(){return"EP"===this.data.cardType}get isAdv(){return t=this.data,["FollowerAdv"].includes(t.cardType);var t}};function ft(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function lt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ft(Object(n),!0).forEach((function(e){ht(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ft(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ht(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class pt extends ct{constructor(t,e,n,r){var o;super(t,e,r),o=this,ht(this,"drawImage",(function(t){if(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];o.canvasContext.drawImage(t,...n)}})),ht(this,"drawCoverImage",(function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];const[i,a,s,u]=n;if(t){let e=u/s,r=t.naturalWidth,i=t.naturalHeight;i/r>e?i=r*e:r=i/e;let a={width:r,height:i,offsetX:.5*(t.naturalWidth-r),offsetY:.5*(t.naturalHeight-i)};o.canvasContext.drawImage(t,a.offsetX,a.offsetY,a.width,a.height,...n)}})),ht(this,"drawFrame",(()=>{const t=this.assetManager.loadFrame();this.drawImage(t,...this.config.frame.position)})),ht(this,"drawCardImage",(()=>{const t=this.assetManager.loadCardImage(),[e,n,r,i]=this.config.cardImage.position,o=this.config.cardImage.radius;this.canvasContext.save(),this.canvasContext.beginPath(),this.canvasContext.moveTo(e+o,n),this.canvasContext.lineTo(e+r-o,n),this.canvasContext.quadraticCurveTo(e+r,n,e+r,n+o),this.canvasContext.lineTo(e+r,n+i-o),this.canvasContext.quadraticCurveTo(e+r,n+i,e+r-o,n+i),this.canvasContext.lineTo(e+o,n+i),this.canvasContext.quadraticCurveTo(e,n+i,e,n+i-o),this.canvasContext.lineTo(e,n+o),this.canvasContext.quadraticCurveTo(e,n,e+o,n),this.canvasContext.closePath(),this.canvasContext.clip(),this.drawCoverImage(t,e,n,r,i),this.canvasContext.restore()})),ht(this,"getDescLines",((t,e,n,r)=>{this.assetManager.loadFont(r.fontFamily),this.canvasContext.save(),this.canvasContext.fillStyle=r.color,this.canvasContext.font="".concat(r.fontSize,"px ").concat(r.fontFamily),this.canvasContext.textBaseline=r.textBaseline;const i={iconHeight:r.iconHeight,iconPaddingX:r.iconPaddingX},o=this.ctxMeasureTextWidth("。"),a=this.ctxMeasureTextWidth("一"),s=T(t,e,n,r.fontFamily,{handlePunctuation:o===a},(t=>j(t,this.ctxMeasureTextWidth,i)));return this.canvasContext.restore(),s})),ht(this,"drawDesc",(()=>{if(this.isLeader)return;let t;if(!(0,i.isEmpty)(this.data.speech)&&!this.isUR&&!this.isLeader){t=this.getDescLines(this.data.speech,this.config.speech.position[2],this.config.speech.maxLine,this.config.speech).list}const{list:e}=this.getDescLines(this.data.desc,this.config.desc.position[2],this.isUR?this.config.desc.URMaxLine:this.config.desc.maxLine-(0,i.size)(t),this.config.desc),n=(t,e,n)=>{this.canvasContext.save(),this.canvasContext.fillStyle=n.color,this.canvasContext.font="".concat(n.italic?"italic ":"").concat(n.fontSize,"px ").concat(n.fontFamily),this.canvasContext.textBaseline=n.textBaseline,(0,i.forEach)(t,((t,r)=>{let o="",a=e[0],s=e[1]+r*n.lineHeight;const u=(0,i.min)([e[2]/j(t,this.ctxMeasureTextWidth,{iconHeight:n.iconHeight,iconPaddingX:n.iconPaddingX}),1]);(0,i.forEach)(t,(t=>{const e=()=>{if(""!==o){const t=this.ctxMeasureTextWidth(o)*u;this.canvasContext.fillText(o,a,s,t),o="",a+=t}},r=t=>{const e=k[t.text],r=this.assetManager.loadImageAsset(e.src);a+=n.iconPaddingX;const i=C(t,n.iconHeight)*u;this.drawImage(r,a,s+n.iconTopOffset,i,n.iconHeight),a+=i,a+=n.iconPaddingX},i=t=>{const e=this.ctxMeasureTextWidth(t.text)/2,n="right"===t.position,r="left"===t.position;this.canvasContext.fillText(t.text,a-(n?e:r?0:e/2),s),a+=e};"char"===t.type?o+=t.text:"icon"===t.type?(e(),r(t)):"punctuation"===t.type&&(e(),i(t)),e()}))})),this.canvasContext.restore()},r=[...this.isUR?this.config.desc.URPosition:this.config.desc.position];if(this.isUR){const t=this.config.desc.lineHeight*(0,i.size)(e);r[0]+=this.config.descBackground.URPaddingX,r[1]=r[1]-t-this.config.descBackground.URPaddingBottom,r[2]-=2*this.config.descBackground.URPaddingX}n(e,r,this.config.desc);const o=[...this.config.speech.position];o[1]-=this.config.speech.lineHeight*((0,i.size)(t)-1),n(t,o,this.config.speech)})),ht(this,"drawDescBackground",(()=>{if(this.isLeader)return;const t=this.assetManager.loadDescBackground(this.isUR),e=[...this.isUR?this.config.descBackground.URPosition:this.config.descBackground.position];if(this.isUR){const t=(0,i.size)(this.getDescLines(this.data.desc,this.config.desc.position[2],this.config.desc.URMaxLine,this.config.desc).list),n=this.config.descBackground.URLineHeight*t+this.config.descBackground.URPaddingTop+this.config.descBackground.URPaddingBottom;e[3]=n,e[1]-=n}if(this.config.descBackground.coverBlack){const t=[...e];if(this.isUR){const e=26*this.config.scale;t[0]+=e,t[2]-=2*e}else t[3]=140*this.config.scale;this.canvasContext.save(),this.canvasContext.fillStyle="rgba(0, 0, 0, 1)",this.canvasContext.fillRect(...t),this.canvasContext.restore()}else this.drawImage(t,...e)})),ht(this,"drawAttackDefenseCost",(()=>{this.isLeader||(!this.isNoStatus&&this.drawNumber(this.data.attack,this.config.attack),!this.isNoStatus&&this.drawNumber(this.data.defense,this.config.defense),!this.isEvo&&!this.isEP&&this.drawNumber(this.data.cost,this.config.cost,!0))})),ht(this,"drawName",(()=>{const t={};t.position=[...this.config.name.position],(this.isUR||this.isLG||this.isLeader)&&(t.color=this.config.name.LGColor,t.shadowBlur=this.config.name.LGShadowBlur,t.shadowLine=this.config.name.LGShadowLine,t.shadowColor=this.config.name.LGShadowColor),this.isLeader&&(t.position=this.config.name.leaderPosition),this.isNoStatus&&(t.position[2]=this.config.name.leaderPosition[2]);let e=!1;const n=lt(lt({},this.config.name),t),r=this.mesuareText(this.data.name,n),o=n.position[2],a=r>o,s=(0,i.min)([r,o]);if(n.position=[...n.position],n.position[0]-=s/2,"sve-card-ja"===this.config.name.fontFamily&&this.config.name.annotation&&!(0,i.isEmpty)(this.config.kuroshiro.dictPath)){const t=this.annotator.annotate(this.data.name,this.draw);"object"==typeof t&&(e=!0,(0,i.forEach)(t,(t=>{const e=this.mesuareText(t.text,n),i=a?e/r*s:e;if("RUBY"===t.type){const e=[...n.position];e[0]+=i/2,e[1]+=n.annotationYOffset,e[2]=i,this.drawText(t.annotation,lt(lt({},n),{},{position:e,fontSize:n.annotationFontSize}),(()=>this.canvasContext.textAlign="center"))}const o=[...n.position];o[2]=i,this.drawText(t.text,lt(lt({},n),{},{position:o})),n.position[0]+=i})))}e||this.drawText(this.data.name,n)})),ht(this,"drawRace",(()=>{if(this.isLeader||this.isEP)return;const[t,e,n]=this.config.race.position;let r=0;this.isNoStatus&&(r+=this.config.race.noStatusOffset),(this.isToken||this.isEP)&&(r+=this.config.race.tokenOffset),this.isEvo&&this.isUR&&(r+=this.config.race.evoOffset),this.drawText(this.data.race,lt(lt({},this.config.race),{},{position:[t+r,e,n]}))})),ht(this,"drawRarity",(()=>{if(!(this.isToken||this.isLeader||this.isEP)){const t=this.assetManager.loadRarityImage(this.data.rarity),[e,n,r,i]=this.config.rarity.position;this.drawImage(t,e+(this.isNoStatus?this.config.rarity.noStatusOffset:0),n,r,i)}})),ht(this,"drawFooter",(()=>{var t;const e=this.config.cardNo,n=this.config.copyright,r=t=>this.isToken||this.isEP?t.tokenColor:this.isUR||this.isLeader?t.URColor:t.color,o=(0,i.split)(this.data.cardNo,"\n"),a=(0,i.remove)(o,((t,e)=>e>=this.config.cardNo.maxLine));a.length&&(o[this.config.cardNo.maxLine-1]=o[this.config.cardNo.maxLine-1]+(0,i.join)(a,"")),(0,i.forEach)(o,((t,n)=>{const a=[...e.position];a[1]-=((0,i.size)(o)-n-1)*e.lineHeight,this.drawText(t,lt(lt({},e),{},{position:a,color:r(e)}))})),this.drawText(null!==(t=this.data.copyright)&&void 0!==t?t:"©Cygames,Inc.",lt(lt({},n),{},{color:r(n)}),(()=>{this.canvasContext.textAlign="right"}))})),ht(this,"drawAlias",(()=>{(0,i.isEmpty)(this.data.alias)||this.drawText(this.data.alias,this.config.alias)})),ht(this,"clearCanvas",(()=>{this.canvasContext.clearRect(0,0,this.canvas.width,this.canvas.height)})),ht(this,"customDrawProcess",(t=>{this._customDraw=t})),ht(this,"resetDrawProcess",(()=>{this._customDraw=this._draw})),ht(this,"_draw",(()=>{this.drawCardImage(),this.drawDescBackground(),this.drawFrame(),this.drawAttackDefenseCost(),this.drawDesc(),this.drawName(),this.drawAlias(),this.drawRace(),this.drawRarity(),this.drawFooter()})),ht(this,"_customDraw",(()=>{this._draw()})),ht(this,"draw",(()=>{this._customDraw()})),this.data=t,this.canvas=e,this.config=n,this.canvasContext=e.getContext("2d"),this.assetManager=r,this.annotator=new st(n)}}const gt=(t,e,n,r)=>[n+t[0]*e,r+t[1]*e,null!=t[2]&&t[2]*e,null!=t[3]&&t[3]*e].filter((t=>!1!==t));function dt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function vt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?dt(Object(n),!0).forEach((function(e){yt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function yt(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const mt={size:[459,642],canvasSize:null,cardImage:{position:[0,0,459,642],radius:34},textFontFamily:"sve-card-ja",footerFontFamily:"sans-serif",desc:{color:"#FFF",fontSize:14,maxLine:6,URMaxLine:8,lineHeight:16,iconPaddingX:0,iconHeight:15,iconTopOffset:-1,position:[28,416,394],textBaseline:"top"},speech:{color:"#FFF",fontSize:13,maxLine:3,position:[28,513,394],lineHeight:16,iconPaddingX:0,iconHeight:15,iconTopOffset:-1,italic:!0,textBaseline:"bottom"},descBackground:{position:[0,408,459,254],URPosition:[0,526,459],URPaddingBottom:14,URPaddingTop:8,URPaddingX:32,coverBlack:!1},name:{color:"#FFF",LGColor:"#FFE700",LGShadowBlur:2,LGShadowColor:"#000A42",LGShadowLine:4,fontSize:22,position:[229,564,240],leaderPosition:[229,590,360],annotation:!0,annotationFontSize:10,annotationYOffset:-20},alias:{color:"#FFF",position:[229,525,304],fontSize:10,textBaseline:"middle",textAlign:"center"},race:{color:"#FFF",fontSize:11,position:[160,600,100],noStatusOffset:-40,tokenOffset:70,evoOffset:70},rarity:{position:[323,586,55,19],noStatusOffset:40},cost:{color:"#FFF",fontSize:52,position:[54,58,64],textAlign:"center"},attack:{color:"#FFF",fontSize:36,position:[45,572,44],textAlign:"center"},defense:{color:"#FFF",fontSize:36,position:[414,572,44],textAlign:"center"},cardNo:{URColor:"#FFF",color:"#FFF",tokenColor:"#000",fontSize:8,maxLine:2,lineHeight:8,position:[26,632,180]},copyright:{URColor:"#FFF",color:"#FFF",tokenColor:"#000",fontSize:8,position:[436,632,170]},kuroshiro:{dictPath:""},assetPath:"./asset"},_t=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=(0,i.cloneDeep)(e);(0,i.defaultsDeep)(n,mt);const r=n.size[1]/n.size[0],o=t.width,a=t.height,s=a/o;let u,c,f,l,h;if(null==n.canvasSize)u=a,c=o,f=0,l=0,s>r?(u=c*r,l=Math.round((a-u)/2)):r>s&&(c=u/r,f=Math.round((o-c)/2)),h=u/n.size[1];else{const[t,e,r,i,p]=n.canvasSize,g=e/t;let d=a,v=o,y=0,m=0;s>g?(d=o*g,y=Math.round((a-d)/2)):g>s&&(v=d/s,m=Math.round((o-v)/2));const _=d/e;h=_*p/n.size[0],f=m+r*_,l=y+i*_,u=n.size[1]*h,c=n.size[0]*h}return vt(vt({},n),{},{scale:h,frame:{position:[f,l,Math.round(c),Math.round(u)]},cardImage:{position:gt(n.cardImage.position,h,f,l),radius:n.cardImage.radius*h},desc:vt(vt({fontFamily:n.textFontFamily},n.desc),{},{fontSize:Math.round(n.desc.fontSize*h),position:gt(n.desc.position,h,f,l),lineHeight:Math.round(n.desc.lineHeight*h),iconPaddingX:Math.round(n.desc.iconPaddingX*h),iconHeight:Math.round(n.desc.iconHeight*h),iconTopOffset:Math.round(n.desc.iconTopOffset*h),URPosition:gt(n.descBackground.URPosition,h,f,l)}),speech:vt(vt({fontFamily:n.textFontFamily},n.speech),{},{color:"#FFF",fontSize:Math.round(n.speech.fontSize*h),position:gt(n.speech.position,h,f,l),lineHeight:Math.round(n.speech.lineHeight*h),iconPaddingX:Math.round(n.speech.iconPaddingX*h),iconHeight:Math.round(n.speech.iconHeight*h),iconTopOffset:Math.round(n.speech.iconTopOffset*h)}),descBackground:vt(vt({},n.descBackground),{},{position:gt(n.descBackground.position,h,f,l),URPosition:gt(n.descBackground.URPosition,h,f,l),URPaddingX:n.descBackground.URPaddingX*h,URPaddingTop:n.descBackground.URPaddingTop*h,URPaddingBottom:n.descBackground.URPaddingBottom*h,URLineHeight:n.desc.lineHeight*h}),name:vt(vt({fontFamily:n.textFontFamily},n.name),{},{fontSize:Math.round(n.name.fontSize*h),annotationFontSize:Math.round(n.name.annotationFontSize*h),annotationYOffset:Math.round(n.name.annotationYOffset*h),position:gt(n.name.position,h,f,l),leaderPosition:gt(n.name.leaderPosition,h,f,l)}),alias:vt(vt({fontFamily:n.textFontFamily},n.alias),{},{position:gt(n.alias.position,h,f,l),fontSize:Math.round(n.alias.fontSize*h)}),race:vt(vt({fontFamily:n.textFontFamily},n.race),{},{noStatusOffset:n.race.noStatusOffset*h,tokenOffset:n.race.tokenOffset*h,evoOffset:n.race.evoOffset*h,fontSize:Math.round(n.race.fontSize*h),position:gt(n.race.position,h,f,l)}),rarity:vt(vt({},n.rarity),{},{position:gt(n.rarity.position,h,f,l),noStatusOffset:n.rarity.noStatusOffset*h}),cost:vt(vt({},n.cost),{},{fontSize:Math.round(n.cost.fontSize*h),position:gt(n.cost.position,h,f,l),shadowBlur:n.cost.shadowBlur*h,shadowLine:n.cost.shadowLine*h}),attack:vt(vt({},n.attack),{},{fontSize:Math.round(n.attack.fontSize*h),position:gt(n.attack.position,h,f,l),shadowBlur:n.attack.shadowBlur*h,shadowLine:n.attack.shadowLine*h}),defense:vt(vt({},n.defense),{},{fontSize:Math.round(n.defense.fontSize*h),position:gt(n.defense.position,h,f,l),shadowBlur:n.defense.shadowBlur*h,shadowLine:n.defense.shadowLine*h}),cardNo:vt(vt({fontFamily:n.footerFontFamily},n.cardNo),{},{fontSize:Math.round(n.cardNo.fontSize*h),position:gt(n.cardNo.position,h,f,l),lineHeight:Math.round(n.cardNo.lineHeight*h)}),copyright:vt(vt({fontFamily:n.footerFontFamily},n.copyright),{},{fontSize:Math.round(n.copyright.fontSize*h),position:gt(n.copyright.position,h,f,l)})})},wt=mt;function bt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function xt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?bt(Object(n),!0).forEach((function(e){kt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function kt(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class St{constructor(){let{data:t,canvas:e,height:n=1284,width:r,config:o={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};kt(this,"setCanvasSize",((t,e)=>{if(this.canvas.height=t,null!=e)this.canvas.width=e;else{const e=this.config.size,n=e[0]/e[1];this.canvas.width=n*t}})),kt(this,"setData",((t,e)=>{(0,i.some)(["cardType","rarity","craft"],(e=>(0,i.has)(t,e)))&&this.cardDrawer.clearCanvas();const n=(0,i.defaultsDeep)(t,this.data);(0,i.assign)(this.data,n),this.draw()})),kt(this,"setSize",(t=>{if((0,i.isArray)(t)){this.setCanvasSize(t[0],t[1]);const e=_t(this.canvas,this.originalConfig);(0,i.assign)(this.config,e),this.draw()}})),kt(this,"setConfig",(t=>{this.originalConfig=t,(0,i.assign)(this.config,_t(this.canvas,t)),this.draw()})),kt(this,"draw",(()=>{this.cardDrawer.draw()})),kt(this,"download",(()=>{let t=this.canvas.toDataURL("image/png");const e=document.createElement("a");e.download="".concat(this.data.name,".png"),e.href=t,e.click()})),console.assert(null!=e,"canvas element is null."),this.data=t,this.canvas=e,this.config=xt(xt({},wt),{},{config:o}),this.setCanvasSize(n,r),this.originalConfig=o,this.config=_t(this.canvas,o),this.assetManager=new E(t,this.config,{onEachStepLoad:this.draw}),this.cardDrawer=new pt(t,this.canvas,this.config,this.assetManager)}}function Ct(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function jt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ct(Object(n),!0).forEach((function(e){Tt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ct(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Tt(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}kt(St,"defaultConfig",wt),kt(St,"defaultEPData",{cardType:"EP",alias:"EP",craft:"Neutral",rarity:"BR",speech:"",race:"",desc:"バトル開始時、後攻プレイヤーはEPを3つ持つ。\n自分が/evoか/eatのコストを払うとき、表向きのEPを1つ裏向きにすることで、1PPを払える。（1ターンに進化か食事はどちらか1回できる。1回につき使えるEPは1つ）"});const At={size:[1920,1080],card:{position:[82,68,677]},textFontFamily:"sve-card-ja",frame:{position:[0,0,1920,1080]},name:{position:[830,110,785],textBaseline:"top",fontSize:56,color:"#FFF",annotation:!0,annotationFontSize:28,annotationYOffset:-34},class:{position:[848,258,100],color:"#c2c9b7",JPText:"クラス",CHSText:"职 业",fontSize:34,textBaseline:"middle",iconPosition:[994,256],iconHeight:40,contentPosition:[1042,258,292],contentColor:"#FFF"},race:{position:[848,314,100],color:"#c2c9b7",JPText:"タイプ",CHSText:"类 型",fontSize:34,contentMaxLine:3,contentLineHeight:72,textBaseline:"middle",contentPosition:[994,310,400],contentColor:"#FFF"},from:{position:[1316,258,160],color:"#c2c9b7",JPText:"収録商品",CHSText:"收录于",fontSize:34,textBaseline:"middle",contentPosition:[1616,328],contentTextPosition:[1604,258,330],contentTextAlign:"center",contentTextMaxLine:3,contentTextFontSize:44,contentTextLineHeight:100,contentTextColor:"#FFF"},cardType:{position:[900,452],iconHeight:43,spacing:18},attack:{iconPosition:[1542,454],iconHeight:58,position:[1604,486,72],fontSize:38},defense:{iconPosition:[1688,454],iconHeight:58,position:[1747,486,72],fontSize:38},desc:{position:[876,528,914],fontSize:26,maxLine:9,lineHeight:41,textBaseline:"top",color:"#FFF",keywordColor:"#ffd64f",linePosition:[849,764,955,3]},tokenDesc:{color:"#CEC1AF",keywordColor:"#CEC1AF",fontSize:26,maxLine:5,position:[876,882,914],lineHeight:41,textBaseline:"bottom"},copyright:{fontSize:24,position:[38,1046,1e3],color:"#cac9b4",textBaseline:"top"},tip:{fontSize:24,position:[1848,980,1e3],color:"#FFF",textBaseline:"top",textAlign:"right"},tokenTip:{position:[766,1019,440],color:"#FFF",fontSize:24,textBaseline:"top",textAlign:"right"}},Pt=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=(0,i.cloneDeep)(e);(0,i.defaultsDeep)(n,At);const r=n.size[1]/n.size[0],o=t.width,a=t.height,s=a/o;let u,c,f,l,h;return u=a,c=o,f=0,l=0,s>r?(u=c*r,l=Math.round((a-u)/2)):r>s&&(c=u/r,f=Math.round((o-c)/2)),h=u/n.size[1],jt(jt({},n),{},{scale:h,frame:{position:[f,l,Math.round(c),Math.round(u)]},name:jt(jt({fontFamily:n.textFontFamily},n.name),{},{position:gt(n.name.position,h,f,l),fontSize:Math.round(n.name.fontSize*h),annotationFontSize:Math.round(n.name.annotationFontSize*h),annotationYOffset:Math.round(n.name.annotationYOffset*h)}),class:jt(jt({fontFamily:n.textFontFamily},n.class),{},{position:gt(n.class.position,h,f,l),fontSize:Math.round(n.class.fontSize*h),iconPosition:gt(n.class.iconPosition,h,f,l),contentPosition:gt(n.class.contentPosition,h,f,l),iconHeight:Math.round(n.class.iconHeight*h)}),race:jt(jt({fontFamily:n.textFontFamily},n.race),{},{position:gt(n.race.position,h,f,l),fontSize:Math.round(n.race.fontSize*h),contentPosition:gt(n.race.contentPosition,h,f,l)}),from:jt(jt({fontFamily:n.textFontFamily},n.from),{},{position:gt(n.from.position,h,f,l),fontSize:Math.round(n.from.fontSize*h),contentTextFontSize:Math.round(n.from.contentTextFontSize*h),contentPosition:gt(n.from.contentPosition,h,f,l),contentTextPosition:gt(n.from.contentTextPosition,h,f,l)}),cardType:jt(jt({},n.cardType),{},{position:gt(n.cardType.position,h,f,l),spacing:Math.round(n.cardType.spacing*h),iconHeight:Math.round(n.cardType.iconHeight*h)}),attack:jt(jt({},n.attack),{},{iconPosition:gt(n.attack.iconPosition,h,f,l),iconHeight:Math.round(n.attack.iconHeight*h),position:gt(n.attack.position,h,f,l),fontSize:Math.round(n.attack.fontSize*h)}),defense:jt(jt({},n.defense),{},{iconPosition:gt(n.defense.iconPosition,h,f,l),iconHeight:Math.round(n.defense.iconHeight*h),position:gt(n.defense.position,h,f,l),fontSize:Math.round(n.defense.fontSize*h)}),desc:jt(jt({fontFamily:n.textFontFamily},n.desc),{},{position:gt(n.desc.position,h,f,l),fontSize:Math.round(n.desc.fontSize*h),lineHeight:Math.round(n.desc.lineHeight*h),linePosition:gt(n.desc.linePosition,h,f,l)}),tokenDesc:jt(jt({fontFamily:n.textFontFamily},n.tokenDesc),{},{position:gt(n.tokenDesc.position,h,f,l),fontSize:Math.round(n.tokenDesc.fontSize*h),lineHeight:Math.round(n.tokenDesc.lineHeight*h)}),copyright:jt(jt({fontFamily:n.textFontFamily},n.copyright),{},{position:gt(n.copyright.position,h,f,l),fontSize:Math.round(n.copyright.fontSize*h)}),tip:jt(jt({fontFamily:n.textFontFamily},n.tip),{},{position:gt(n.tip.position,h,f,l),fontSize:Math.round(n.tip.fontSize*h)}),tokenTip:jt(jt({fontFamily:n.textFontFamily},n.tokenTip),{},{position:gt(n.tokenTip.position,h,f,l),fontSize:Math.round(n.tokenTip.fontSize*h)})})},Ot=At,Lt={Abyss:"ナイトメア",Dragon:"ドラゴン",Rune:"ウィッチ",Haven:"ビショップ",Sword:"ロイヤル",Forest:"エルフ",Neutral:"ニュートラル"},Ft={Abyss:"梦魇",Dragon:"龙族",Rune:"巫师",Haven:"主教",Sword:"皇家护卫",Forest:"妖精",Neutral:"中立"};function zt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Et(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?zt(Object(n),!0).forEach((function(e){Ut(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ut(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const Rt={"【":"】","《":"》","「":"」","『":"』"};const It=class extends ct{constructor(t){var e;let{cardData:n,cardImgSrc:r,showcaseData:o,cardConfig:a,showcaseConfig:s,canvas:g,assetManager:d}=t;super(n,g,d),e=this,Ut(this,"isCN",(t=>"sve-card-cn"===t)),Ut(this,"getText",(t=>this.isCN(t.fontFamily)?t.CHSText:t.JPText)),Ut(this,"getCraftText",(t=>this.isCN(t.fontFamily)?Ft[this.cardData.craft]:Lt[this.cardData.craft])),Ut(this,"drawImage",(function(t){if(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e.canvasContext.drawImage(t,...r)}})),Ut(this,"drawShowcaseFrame",(()=>{const t=this.assetManager.loadShowcaseFrame();this.drawImage(t,...this.showcaseConfig.frame.position)})),Ut(this,"drawName",(()=>{let t=!1;const e=Et(Et({},this.showcaseConfig.name),{},{position:[...this.showcaseConfig.name.position]}),n=this.mesuareText(this.cardData.name,e),r=e.position[2],o=n>r,a=(0,i.min)([n,r]);if("sve-card-ja"===this.showcaseConfig.name.fontFamily&&this.showcaseConfig.name.annotation&&!(0,i.isEmpty)(this.cardConfig.kuroshiro.dictPath)){const r=this.annotator.annotate(this.cardData.name,this.draw);"object"==typeof r&&(t=!0,(0,i.forEach)(r,(t=>{const r=this.mesuareText(t.text,e),i=o?r/n*a:r;if("RUBY"===t.type){const n=[...e.position];n[0]+=i/2,n[1]+=e.annotationYOffset,n[2]=i,this.drawText(t.annotation,Et(Et({},e),{},{position:n,fontSize:e.annotationFontSize}),(()=>this.canvasContext.textAlign="center"))}const s=[...e.position];s[2]=i,this.drawText(t.text,Et(Et({},e),{},{position:s})),e.position[0]+=i})))}t||this.drawText(this.cardData.name,this.showcaseConfig.name)})),Ut(this,"drawClass",(()=>{this.drawText(this.getText(this.showcaseConfig.class),this.showcaseConfig.class);const[t,e]=this.assetManager.loadCraftIcon(),n=this.showcaseConfig.class.iconHeight,r=n/e.height,i=e.width*r,o=[...this.showcaseConfig.class.iconPosition];this.drawImage(t,o[0],o[1]-this.showcaseConfig.class.fontSize/2,i,n);const a=Et(Et({},this.showcaseConfig.class),{},{position:[...this.showcaseConfig.class.contentPosition],color:this.showcaseConfig.class.contentColor});this.drawText(this.getCraftText(a),a)})),Ut(this,"drawRace",(()=>{this.drawText(this.getText(this.showcaseConfig.race),this.showcaseConfig.race);const t=Et(Et({},this.showcaseConfig.race),{},{maxLine:this.showcaseConfig.race.contentMaxLine,lineHeight:this.showcaseConfig.race.contentLineHeight,position:[...this.showcaseConfig.race.contentPosition],color:this.showcaseConfig.race.contentColor}),{list:e}=this.getTextLines(this.isEP?"EP":this.cardData.race,t.position[2],t.maxLine,t);this.drawLines(e,t)})),Ut(this,"drawFrom",(()=>{if(this.drawText(this.getText(this.showcaseConfig.from),this.showcaseConfig.from),this.showcaseData.fromText){const t=Et(Et({},this.showcaseConfig.from),{},{position:[...this.showcaseConfig.from.contentTextPosition],color:this.showcaseConfig.from.contentTextColor,maxLine:this.showcaseConfig.from.contentTextMaxLine,lineHeight:this.showcaseConfig.from.contentTextLineHeight,fontSize:this.showcaseConfig.from.contentTextFontSize,textAlign:this.showcaseConfig.from.contentTextAlign}),{list:e}=this.getTextLines(this.showcaseData.fromText,t.position[2],t.maxLine,t);this.drawLines(e,t)}else if(this.showcaseData.fromImage){let{width:t,height:e,src:n}=this.showcaseData.fromImage;const r=[...this.showcaseConfig.from.contentPosition];t=this.showcaseConfig.scale*t,e=this.showcaseConfig.scale*e,r[0]-=t/2,r[1]-=e/2,this.drawImage(this.assetManager.loadImage(n),r[0],r[1],t,e)}})),Ut(this,"drawInformation",(()=>{this.drawClass(),this.drawRace(),this.drawFrom()})),Ut(this,"drawCardType",(()=>{const t=[];this.isFollower&&t.push(u),this.isSpell&&t.push(c),this.isAmulet&&t.push(f),this.isEvo&&t.push(l),this.isToken&&t.push(h),this.isAdv&&t.push(p);const e=[...this.showcaseConfig.cardType.position];(0,i.forEach)(t,(t=>{const n=t.width/t.height*this.showcaseConfig.cardType.iconHeight,r=this.assetManager.loadImageAsset(t.src);this.drawImage(r,e[0],e[1],n,this.showcaseConfig.cardType.iconHeight),e[0]+=n+this.showcaseConfig.cardType.spacing}))})),Ut(this,"drawStatus",(t=>{const e=this.showcaseConfig[t?"attack":"defense"],n=t?k["/attack"]:k["/defense"],r=n.width/n.height*e.iconHeight,i=this.assetManager.loadImageAsset(n.src);this.drawImage(i,e.iconPosition[0],e.iconPosition[1],r,e.iconHeight),this.drawNumber(this.cardData[t?"attack":"defense"],e)})),Ut(this,"drawAttackAndDefense",(()=>{this.drawStatus(!0),this.drawStatus(!1)})),Ut(this,"getTextLines",((t,e,n,r,i)=>{this.assetManager.loadFont(r.fontFamily),this.canvasContext.save(),this.canvasContext.fillStyle=r.color,this.canvasContext.font="".concat(r.fontSize,"px ").concat(r.fontFamily),this.canvasContext.textBaseline=r.textBaseline;const o=T(t,e,n,r.fontFamily,{replaceKeyword:i,isCHS:"sve-card-cn"===r.fontFamily},(t=>j(t,this.ctxMeasureTextWidth)));return this.canvasContext.restore(),o})),Ut(this,"drawDescLine",(t=>{const e=this.assetManager.loadImageAsset("image/desc/line.png");(0,i.times)(t,(t=>{const n=[...this.showcaseConfig.desc.linePosition];n[1]+=t*this.showcaseConfig.desc.lineHeight,this.drawImage(e,...n)}))})),Ut(this,"drawLines",((t,e)=>{this.canvasContext.save(),this.canvasContext.font="".concat(e.fontSize,"px ").concat(e.fontFamily),this.canvasContext.textBaseline=e.textBaseline,this.canvasContext.textAlign=e.textAlign;const n=[...e.position];let r=null;(0,i.forEach)(t,((t,o)=>{let a=n[0],s=n[1]+o*e.lineHeight;const u=(0,i.min)([n[2]/j(t,this.ctxMeasureTextWidth),1]);let c="";const f=()=>{if(""!==c){const t=this.ctxMeasureTextWidth(c)*u;this.canvasContext.fillStyle=r?e.keywordColor:e.color,this.canvasContext.fillText(c,a,s,t),c="",a+=t}};(0,i.forEach)(t,(t=>{if("char"===t.type){const e=Rt[t.text];e?(f(),r=e,c+=t.text):r===t.text?(c+=t.text,f(),r=null):c+=t.text}})),f()})),this.canvasContext.restore()})),Ut(this,"drawDesc",(()=>{const t=this.showcaseConfig.desc,e=Et({},this.showcaseConfig.tokenDesc);let n;if(!(0,i.isEmpty)(this.data.tokenDesc)){n=this.getTextLines(this.data.tokenDesc,e.position[2],e.maxLine,e).list}const{list:r}=this.getTextLines(this.cardData.desc,t.position[2],t.maxLine-(0,i.size)(n),t,!0);if((0,i.isEmpty)(e)?(0,i.size)(r)>5&&this.drawDescLine((0,i.size)(r)-5):this.drawDescLine(4),!(0,i.isEmpty)(n)){const t=[...e.position];t[1]-=e.lineHeight*((0,i.size)(n)-1),e.position=t,this.drawLines(n,e)}this.drawLines(r,t)})),Ut(this,"drawCopyright",(()=>{this.drawText(this.cardData.copyright,this.showcaseConfig.copyright)})),Ut(this,"drawTip",(()=>{var t,e;const n=null!==(t=null===(e=this.showcaseData)||void 0===e?void 0:e.tip)&&void 0!==t?t:Ht.defaultTip[this.isCN(this.showcaseConfig.tip.fontFamily)?"CHS":"JP"];this.drawText(n,this.showcaseConfig.tip)})),Ut(this,"drawTokenTip",(()=>{var t,e;const n=null!==(t=null===(e=this.showcaseData)||void 0===e?void 0:e.tokenTip)&&void 0!==t?t:Ht.defaultTokenTip[this.isCN(this.showcaseConfig.tokenTip.fontFamily)?"CHS":"JP"];this.drawText(n,this.showcaseConfig.tokenTip)})),Ut(this,"drawCardImg",(()=>{this.drawImage(this.assetManager.loadImage(this.cardImgSrc),...this.cardConfig.cardImage.position)})),Ut(this,"draw",(()=>{this.drawShowcaseFrame(),this.cardImgSrc?this.drawCardImg():this.cardDrawer.draw(),this.drawName(),this.drawInformation(),this.drawCardType(),this.isNoStatus||this.drawAttackAndDefense(),this.drawDesc(),this.drawCopyright(),this.drawTip(),this.isToken&&this.drawTokenTip()})),this.cardData=n,this.cardImgSrc=r,this.showcaseData=o,this.cardConfig=a,this.showcaseConfig=s,this.canvas=g,this.assetManager=d,this.cardDrawer=new pt(n,g,a,d),this.annotator=new st(a),this.canvasContext=g.getContext("2d")}};function Dt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Mt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Dt(Object(n),!0).forEach((function(e){Bt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Bt(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class Nt{constructor(t){var e=this;let{cardData:n,cardImgSrc:r,showcaseData:o={},canvas:a,cardConfig:s,showcaseConfig:u,height:c=2160,width:f}=t;Bt(this,"setCanvasSize",((t,e)=>{if(this.canvas.height=t,null!=e)this.canvas.width=e;else{const e=this.showcaseConfig.size,n=e[0]/e[1];this.canvas.width=n*t}})),Bt(this,"getCardConfig",(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=[...e.showcaseConfig.size,...e.showcaseConfig.card.position];return _t(e.canvas,Mt(Mt({},t),{},{canvasSize:n}))})),Bt(this,"download",(()=>{let t=this.canvas.toDataURL("image/png");const e=document.createElement("a");e.download="".concat(this.cardData.name,"_showcase.png"),e.href=t,e.click()})),Bt(this,"setSize",(t=>{if((0,i.isArray)(t)){this.setCanvasSize(t[0],t[1]);const e=Pt(this.canvas,this.originalShowcaseConfig);(0,i.assign)(this.showcaseConfig,e);const n=this.getCardConfig(this.originalCardConfig);(0,i.assign)(this.cardConfig,n),this.draw()}})),Bt(this,"setCardConfig",(t=>{this.originalCardConfig=t,(0,i.assign)(this.cardConfig,this.getCardConfig(t)),this.draw()})),Bt(this,"setShowcaseConfig",(t=>{this.originalShowcaseConfig=t,(0,i.assign)(this.showcaseConfig,Pt(this.canvas,t)),this.draw()})),Bt(this,"setCardData",((t,e)=>{const n=(0,i.defaultsDeep)(t,this.cardData);(0,i.assign)(this.cardData,n),this.draw()})),Bt(this,"setShowcaseData",((t,e)=>{const n=(0,i.defaultsDeep)(t,this.showcaseData);(0,i.assign)(this.showcaseData,n),this.draw()})),Bt(this,"draw",(()=>{this.showcaseDrawer.draw()})),this.cardData=n,this.showcaseData=o,this.cardImgSrc=r,this.canvas=a,this.showcaseConfig=Mt(Mt({},Ot),u),this.setCanvasSize(c,f),this.originalShowcaseConfig=u,this.originalCardConfig=s,this.showcaseConfig=Pt(this.canvas,u),this.cardConfig=this.getCardConfig(s),this.assetManager=new E(n,this.cardConfig,{onEachStepLoad:this.draw}),this.showcaseDrawer=new It({cardData:this.cardData,cardImgSrc:this.cardImgSrc,showcaseData:this.showcaseData,cardConfig:this.cardConfig,showcaseConfig:this.showcaseConfig,canvas:a,assetManager:this.assetManager})}}Bt(Nt,"defaultConfig",Ot),Bt(Nt,"defaultTip",{JP:"※画像は開発中のものです。実際の商品とは一部異なる場合がございます。",CHS:"※卡片能力为开发中内容。"}),Bt(Nt,"defaultTokenTip",{JP:"※このカードはトークンです。",CHS:"※这张卡片为衍生物卡。"});const Ht=Nt,Gt="1.2.4"})(),r})()));