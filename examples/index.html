<!doctype html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,viewport-fit=cover">
    <title>Test</title>
</head>
<body>
    <canvas id="test" style="height: 500px;"></canvas>
    <canvas id="test2" style="height: 540px;"></canvas>
    <button id="btn">changeconfig</button>
    <button id="download">download</button>
</body>
<script src="./svecard.min.js"></script>
<script>
    const {Card, CardShowcase} = SVECard;
    const canvas = document.getElementById("test");
    const canvas2 = document.getElementById("test2");
    // const cardData = {
    //         desc: `/fanfare自分のデッキから元のコスト3のスペルカード1枚を探し、手札に加える。\n` +
    //         `/start/cost1これを/act手札のスペル1枚を捨てる：1枚引く、これは/attack+1//defense+1する。`,
    //         craft: "Abyss",
    //         cardType: "EP",
    //         speech: "test",
    //         imageSrc: "https://shadowverse-evolve.com/wordpress/wp-content/images/cardlist/BP07/bp07-u02.png",
    //         cost: 1,
    //         attack: 4,
    //         defense: 4,
    //         rarity: "UR",
    //         race: "ミリマス·フェアリー",
    //         name: "周防 桃子",
    //         cardNo: "CP03-011 2024 アイドルマスター ミリオンライブ",
    //         copyright: "THE IDOL@MASTER™& ©BNEI © Cygames,Inc.",
    //         speech: "あーね、自然とかそういうの、知らない感じだ。\nいいよ？暑かったり冷たかったり。"
    //     }
    const cardData = Card.defaultEPData;
    const card = new Card({
        data: cardData,
        height: 2000,
        canvas,
        config: {
            copyright: {
                URColor: "#000"
            },
            kuroshiro: {
                dictPath: "/kuromoji/dict"
            },
            descBackground: {
                coverBlack: true,
            }
        }
    });
    card.draw();

    const cardShowcase = new CardShowcase({
        cardData,
        canvas: canvas2,
        height: 1080 * 2,
        cardConfig: {
            copyright: {
                URColor: "#000"
            },
            kuroshiro: {
                dictPath: "/kuromoji/dict"
            }
        },
        showcaseData: {
            fromImage: {
                src: "https://millionlive-theaterdays.idolmaster-official.jp/assets/data/webp/common/logo_official.png.webp",
                height: 128,
                width: 336,
            }
        }
    })

    cardShowcase.draw();

    function refresh() {
        card.draw();
    }

    function download() {
        card.download();
    }

    function setConfig() {
        card.setSize([500])
    }

    document.getElementById("btn").addEventListener("click", (event) => setConfig());
    document.getElementById("download").addEventListener("click", (event) => download());
</script>
</html>
